var Iv=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var Se=(e,t,n)=>(Iv(e,t,"read from private field"),n?n.call(e):t.get(e)),dn=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},xo=(e,t,n,r)=>(Iv(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var Vu=(e,t,n,r)=>({set _(o){xo(e,t,o,n)},get _(){return Se(e,t,r)}}),ys=(e,t,n)=>(Iv(e,t,"access private method"),n);import{a as ru,b as j_,S as I_,c as __,d as P_,e as T1,f as E_,i as N1,g as sR,h as aR,j as iR,k as lR,l as M_,m as cR,n as Ew,o as O_,t as uR,p as dR,q as fR,r as pR,s as hR,u as mR,v as d,w as a,x as mb,y as Ih,z as gR,A as vR,B as xR,C as bR,P as yR,D as gb,E as CR,F as wR,G as SR,H as kR,I as D_,J as je,K as jR,L as we,M as Ze,N as Be,O as Xd,Q as pr,R as En,T as Kn,U as sn,V as xi,W as bi,X as ft,Y as Po,Z as Sc,_ as Ia,$ as Um,a0 as vb,a1 as ou,a2 as mn,a3 as IR,a4 as B,a5 as Mw,a6 as _R,a7 as R_,a8 as $1,a9 as Qd,aa as PR,ab as A_,ac as T_,ad as Ps,ae as ER,af as le,ag as xe,ah as Bt,ai as V,aj as MR,ak as Ow,al as OR,am as DR,an as RR,ao as bl,ap as ee,aq as AR,ar as ut,as as Yt,at as _e,au as N,av as dr,aw as tr,ax as Ie,ay as N_,az as TR,aA as NR,aB as $R,aC as LR,aD as Zr,aE as xb,aF as _a,aG as zr,aH as Yd,aI as zR,aJ as FR,aK as Dw,aL as bb,aM as ge,aN as wo,aO as BR,aP as $_,aQ as L_,aR as Rw,aS as HR,aT as VR,aU as WR,aV as Pa,aW as yb,aX as wt,aY as UR,aZ as GR,a_ as KR,a$ as z_,b0 as Gm,b1 as qR,b2 as Aw,b3 as F_,b4 as XR,b5 as QR,b6 as YR,b7 as ZR,b8 as JR,b9 as eA,ba as tA,bb as B_,bc as nA,bd as rA,be as oA,bf as sA,bg as aA,bh as Hs,bi as iA,bj as Fr,bk as lA,bl as cA,bm as uA,bn as Tw,bo as dA,bp as fA,bq as ai,br as Km,bs as H_,bt as V_,bu as oo,bv as W_,bw as pA,bx as ol,by as td,bz as Nw,bA as hA,bB as mA,bC as gA,bD as jp,bE as Ip,bF as Wu,bG as _v,bH as cd,bI as ud,bJ as dd,bK as fd,bL as $w,bM as _h,bN as Pv,bO as Ph,bP as Lw,bQ as L1,bR as Ev,bS as z1,bT as Mv,bU as Eh,bV as zw,bW as sl,bX as Fw,bY as al,bZ as Bw,b_ as Mh,b$ as Zd,c0 as vA,c1 as U_,c2 as Hw,c3 as qm,c4 as xA,c5 as G_,c6 as F1,c7 as B1,c8 as K_,c9 as bA,ca as H1,cb as yA,cc as V1,cd as CA,ce as W1,cf as wA,cg as SA,ch as Cb,ci as wb,cj as Sb,ck as kb,cl as jb,cm as Xm,cn as Ib,co as ua,cp as q_,cq as X_,cr as _b,cs as Q_,ct as kA,cu as Uu,cv as il,cw as Y_,cx as Z_,cy as Vw,cz as Pb,cA as J_,cB as Eb,cC as Mb,cD as e5,cE as Dn,cF as jA,cG as zn,cH as Qm,cI as Ob,cJ as t5,cK as n5,cL as IA,cM as _A,cN as PA,cO as EA,cP as MA,cQ as OA,cR as DA,cS as RA,cT as AA,cU as TA,cV as Ww,cW as Db,cX as NA,cY as $A,cZ as Jd,c_ as LA,c$ as zA,d0 as Ym,d1 as FA,d2 as BA,d3 as HA,d4 as Rb,d5 as VA,d6 as gn,d7 as WA,d8 as UA,d9 as GA,da as KA,db as qA,dc as XA,dd as yd,de as Uw,df as ns,dg as r5,dh as QA,di as Ab,dj as YA,dk as Gw,dl as ZA,dm as JA,dn as eT,dp as o5,dq as tT,dr as nT,ds as s5,dt as rT,du as oT,dv as a5,dw as sT,dx as aT,dy as Kw,dz as iT,dA as lT,dB as cT,dC as uT,dD as dT,dE as fT,dF as pT,dG as i5,dH as hT,dI as mT,dJ as gT,dK as qw,dL as _p,dM as l5,dN as vT,dO as xT,dP as bT,dQ as yT,dR as CT,dS as Qo,dT as wT,dU as io,dV as ST,dW as kT,dX as jT,dY as IT,dZ as _T,d_ as PT,d$ as ET,e0 as MT,e1 as OT,e2 as DT,e3 as RT,e4 as AT,e5 as TT,e6 as NT,e7 as $T,e8 as LT,e9 as Xw,ea as zT,eb as FT,ec as BT,ed as HT,ee as VT,ef as WT,eg as UT,eh as Qw,ei as Yw,ej as c5,ek as GT,el as Ko,em as Cd,en as kr,eo as KT,ep as qT,eq as u5,er as d5,es as XT,et as Zw,eu as QT,ev as Jw,ew as eS,ex as tS,ey as YT,ez as ZT,eA as nS,eB as rS,eC as JT,eD as eN,eE as Oh,eF as tN,eG as oS,eH as sS,eI as nN,eJ as rN,eK as oN,eL as f5,eM as sN,eN as p5,eO as aN,eP as iN,eQ as aS,eR as lN,eS as iS,eT as cN,eU as h5,eV as m5,eW as ef,eX as g5,eY as Wi,eZ as v5,e_ as lS,e$ as uN,f0 as dN,f1 as x5,f2 as fN,f3 as pN,f4 as hN,f5 as mN,f6 as gN,f7 as Tb,f8 as U1,f9 as cS,fa as yl,fb as vN,fc as xN,fd as b5,fe as Ui,ff as bN,fg as nd,fh as yN,fi as Nb,fj as y5,fk as CN,fl as fa,fm as wN,fn as C5,fo as SN,fp as w5,fq as kN,fr as jN,fs as IN,ft as _N,fu as PN,fv as EN,fw as MN,fx as Dh,fy as rd,fz as gc,fA as ON,fB as DN,fC as RN,fD as AN,fE as TN,fF as NN,fG as $N,fH as LN,fI as zN,fJ as FN,fK as BN,fL as HN,fM as VN,fN as WN,fO as uS,fP as UN,fQ as GN,fR as KN,fS as qN,fT as dS,fU as XN,fV as QN,fW as YN,fX as ZN,fY as JN,fZ as e9,f_ as t9,f$ as n9,g0 as r9,g1 as o9,g2 as s9,g3 as a9,g4 as i9,g5 as l9,g6 as tf,g7 as c9,g8 as u9,g9 as d9,ga as f9,gb as p9,gc as h9,gd as m9,ge as g9,gf as fS,gg as fh,gh as v9,gi as Rh,gj as S5,gk as Ah,gl as x9,gm as b9,gn as kc,go as k5,gp as j5,gq as $b,gr as y9,gs as C9,gt as w9,gu as G1,gv as I5,gw as S9,gx as k9,gy as _5,gz as j9,gA as I9,gB as _9,gC as P9,gD as E9,gE as pS,gF as Ql,gG as M9,gH as O9,gI as D9,gJ as R9,gK as A9,gL as T9,gM as hS,gN as N9,gO as $9,gP as L9,gQ as z9,gR as F9,gS as B9,gT as H9,gU as V9,gV as Ov,gW as Dv,gX as Rv,gY as Pp,gZ as mS,g_ as K1,g$ as gS,h0 as W9,h1 as U9,h2 as G9,h3 as K9,h4 as P5,h5 as q9,h6 as X9,h7 as Q9,h8 as Y9,h9 as Z9,ha as J9,hb as e$,hc as t$,hd as n$,he as r$,hf as o$,hg as Ep,hh as Av,hi as s$,hj as a$,hk as i$,hl as l$,hm as c$,hn as u$,ho as d$,hp as f$,hq as p$,hr as h$,hs as m$,ht as g$,hu as v$,hv as x$,hw as vS,hx as xS,hy as b$,hz as y$,hA as C$}from"./index-a697f22c.js";import{I as $n,u as w$,c as S$,a as Vt,b as fn,d as Ea,P as su,C as E5,e as Z,f as M5,g as Ma,h as k$,r as De,i as j$,j as bS,k as mt,l as An,m as Hc}from"./menu-2d2c3077.js";var I$=200;function _$(e,t,n,r){var o=-1,s=__,i=!0,l=e.length,c=[],p=t.length;if(!l)return c;n&&(t=ru(t,j_(n))),r?(s=P_,i=!1):t.length>=I$&&(s=T1,i=!1,t=new I_(t));e:for(;++o<l;){var h=e[o],m=n==null?h:n(h);if(h=r||h!==0?h:0,i&&m===m){for(var g=p;g--;)if(t[g]===m)continue e;c.push(h)}else s(t,m,r)||c.push(h)}return c}var P$=E_(function(e,t){return N1(e)?_$(e,sR(t,1,N1,!0)):[]});const E$=P$;function M$(e,t){var n=-1,r=aR(e)?Array(e.length):[];return iR(e,function(o,s,i){r[++n]=t(o,s,i)}),r}function hr(e,t){var n=lR(e)?ru:M$;return n(e,M_(t))}function O$(e,t){return ru(t,function(n){return e[n]})}function D$(e){return e==null?[]:O$(e,cR(e))}var R$=Math.min;function A$(e,t,n){for(var r=n?P_:__,o=e[0].length,s=e.length,i=s,l=Array(s),c=1/0,p=[];i--;){var h=e[i];i&&t&&(h=ru(h,j_(t))),c=R$(h.length,c),l[i]=!n&&(t||o>=120&&h.length>=120)?new I_(i&&h):void 0}h=e[0];var m=-1,g=l[0];e:for(;++m<o&&p.length<c;){var x=h[m],y=t?t(x):x;if(x=n||x!==0?x:0,!(g?T1(g,y):r(p,y,n))){for(i=s;--i;){var b=l[i];if(!(b?T1(b,y):r(e[i],y,n)))continue e}g&&g.push(y),p.push(x)}}return p}function T$(e){return N1(e)?e:[]}var N$=E_(function(e){var t=ru(e,T$);return t.length&&t[0]===e[0]?A$(t):[]});const $$=N$;function L$(e,t,n,r){if(!Ew(e))return e;t=O_(t,e);for(var o=-1,s=t.length,i=s-1,l=e;l!=null&&++o<s;){var c=uR(t[o]),p=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(o!=i){var h=l[c];p=r?r(h,c,l):void 0,p===void 0&&(p=Ew(h)?h:dR(t[o+1])?[]:{})}fR(l,c,p),l=l[c]}return e}function z$(e,t,n){for(var r=-1,o=t.length,s={};++r<o;){var i=t[r],l=pR(e,i);n(l,i)&&L$(s,O_(i,e),l)}return s}function yS(e,t){if(e==null)return{};var n=ru(hR(e),function(r){return[r]});return t=M_(t),z$(e,n,function(r,o){return t(r,o[0])})}function CS(e){return e&&e.length?mR(e):[]}function F$(e,t,n){let r=new Set([...t,void 0]);return e.listen((o,s)=>{r.has(s)&&n(o,s)})}function B$(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}const O5=({id:e,x:t,y:n,width:r,height:o,style:s,color:i,strokeColor:l,strokeWidth:c,className:p,borderRadius:h,shapeRendering:m,onClick:g,selected:x})=>{const{background:y,backgroundColor:b}=s||{},w=i||y||b;return a.jsx("rect",{className:mb(["react-flow__minimap-node",{selected:x},p]),x:t,y:n,rx:h,ry:h,width:r,height:o,fill:w,stroke:l,strokeWidth:c,shapeRendering:m,onClick:g?S=>g(S,e):void 0})};O5.displayName="MiniMapNode";var H$=d.memo(O5);const V$=e=>e.nodeOrigin,W$=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Tv=e=>e instanceof Function?e:()=>e;function U$({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o=2,nodeComponent:s=H$,onClick:i}){const l=Ih(W$,gb),c=Ih(V$),p=Tv(t),h=Tv(e),m=Tv(n),g=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return a.jsx(a.Fragment,{children:l.map(x=>{const{x:y,y:b}=gR(x,c).positionAbsolute;return a.jsx(s,{x:y,y:b,width:x.width,height:x.height,style:x.style,selected:x.selected,className:m(x),color:p(x),borderRadius:r,strokeColor:h(x),strokeWidth:o,shapeRendering:g,onClick:i,id:x.id},x.id)})})}var G$=d.memo(U$);const K$=200,q$=150,X$=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?SR(kR(t,e.nodeOrigin),n):n,rfId:e.rfId}},Q$="react-flow__minimap-desc";function D5({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:s=5,nodeStrokeWidth:i=2,nodeComponent:l,maskColor:c="rgb(240, 240, 240, 0.6)",maskStrokeColor:p="none",maskStrokeWidth:h=1,position:m="bottom-right",onClick:g,onNodeClick:x,pannable:y=!1,zoomable:b=!1,ariaLabel:w="React Flow mini map",inversePan:S=!1,zoomStep:j=10,offsetScale:I=5}){const M=vR(),_=d.useRef(null),{boundingRect:E,viewBB:D,rfId:R}=Ih(X$,gb),A=(e==null?void 0:e.width)??K$,O=(e==null?void 0:e.height)??q$,T=E.width/A,K=E.height/O,L=Math.max(T,K),H=L*A,U=L*O,W=I*L,z=E.x-(H-E.width)/2-W,Q=E.y-(U-E.height)/2-W,F=H+W*2,X=U+W*2,Y=`${Q$}-${R}`,se=d.useRef(0);se.current=L,d.useEffect(()=>{if(_.current){const q=xR(_.current),G=J=>{const{transform:ie,d3Selection:de,d3Zoom:me}=M.getState();if(J.sourceEvent.type!=="wheel"||!de||!me)return;const Ce=-J.sourceEvent.deltaY*(J.sourceEvent.deltaMode===1?.05:J.sourceEvent.deltaMode?1:.002)*j,ve=ie[2]*Math.pow(2,Ce);me.scaleTo(de,ve)},te=J=>{const{transform:ie,d3Selection:de,d3Zoom:me,translateExtent:Ce,width:ve,height:pe}=M.getState();if(J.sourceEvent.type!=="mousemove"||!de||!me)return;const Re=se.current*Math.max(1,ie[2])*(S?-1:1),Pe={x:ie[0]-J.sourceEvent.movementX*Re,y:ie[1]-J.sourceEvent.movementY*Re},Ve=[[0,0],[ve,pe]],lt=CR.translate(Pe.x,Pe.y).scale(ie[2]),Ke=me.constrain()(lt,Ve,Ce);me.transform(de,Ke)},ce=bR().on("zoom",y?te:null).on("zoom.wheel",b?G:null);return q.call(ce),()=>{q.on("zoom",null)}}},[y,b,S,j]);const ae=g?q=>{const G=wR(q);g(q,{x:G[0],y:G[1]})}:void 0,oe=x?(q,G)=>{const te=M.getState().nodeInternals.get(G);x(q,te)}:void 0;return a.jsx(yR,{position:m,style:e,className:mb(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:a.jsxs("svg",{width:A,height:O,viewBox:`${z} ${Q} ${F} ${X}`,role:"img","aria-labelledby":Y,ref:_,onClick:ae,children:[w&&a.jsx("title",{id:Y,children:w}),a.jsx(G$,{onClick:oe,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:o,nodeStrokeWidth:i,nodeComponent:l}),a.jsx("path",{className:"react-flow__minimap-mask",d:`M${z-W},${Q-W}h${F+W*2}v${X+W*2}h${-F-W*2}z
        M${D.x},${D.y}h${D.width}v${D.height}h${-D.width}z`,fill:c,fillRule:"evenodd",stroke:p,strokeWidth:h,pointerEvents:"none"})]})})}D5.displayName="MiniMap";var Y$=d.memo(D5),Yo;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Yo||(Yo={}));function Z$({color:e,dimensions:t,lineWidth:n}){return a.jsx("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function J$({color:e,radius:t}){return a.jsx("circle",{cx:t,cy:t,r:t,fill:e})}const eL={[Yo.Dots]:"#91919a",[Yo.Lines]:"#eee",[Yo.Cross]:"#e2e2e2"},tL={[Yo.Dots]:1,[Yo.Lines]:1,[Yo.Cross]:6},nL=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function R5({id:e,variant:t=Yo.Dots,gap:n=20,size:r,lineWidth:o=1,offset:s=2,color:i,style:l,className:c}){const p=d.useRef(null),{transform:h,patternId:m}=Ih(nL,gb),g=i||eL[t],x=r||tL[t],y=t===Yo.Dots,b=t===Yo.Cross,w=Array.isArray(n)?n:[n,n],S=[w[0]*h[2]||1,w[1]*h[2]||1],j=x*h[2],I=b?[j,j]:S,M=y?[j/s,j/s]:[I[0]/s,I[1]/s];return a.jsxs("svg",{className:mb(["react-flow__background",c]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:p,"data-testid":"rf__background",children:[a.jsx("pattern",{id:m+e,x:h[0]%S[0],y:h[1]%S[1],width:S[0],height:S[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${M[0]},-${M[1]})`,children:y?a.jsx(J$,{color:g,radius:j/s}):a.jsx(Z$,{dimensions:I,color:g,lineWidth:o})}),a.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${m+e})`})]})}R5.displayName="Background";var rL=d.memo(R5);const wS=(e,t,n)=>{oL(n);const r=D_(e,t);return A5[n].includes(r)},A5={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},SS=Object.keys(A5),oL=e=>{if(typeof e!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof e}`);if(SS.indexOf(e)===-1)throw new Error(`Invalid operator, expected one of ${SS.join("|")}`)};function sL(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var aL=sL();const T5=1/60*1e3,iL=typeof performance<"u"?()=>performance.now():()=>Date.now(),N5=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(iL()),T5);function lL(e){let t=[],n=[],r=0,o=!1,s=!1;const i=new WeakSet,l={schedule:(c,p=!1,h=!1)=>{const m=h&&o,g=m?t:n;return p&&i.add(c),g.indexOf(c)===-1&&(g.push(c),m&&o&&(r=t.length)),c},cancel:c=>{const p=n.indexOf(c);p!==-1&&n.splice(p,1),i.delete(c)},process:c=>{if(o){s=!0;return}if(o=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let p=0;p<r;p++){const h=t[p];h(c),i.has(h)&&(l.schedule(h),e())}o=!1,s&&(s=!1,l.process(c))}};return l}const cL=40;let q1=!0,wd=!1,X1=!1;const jc={delta:0,timestamp:0},nf=["read","update","preRender","render","postRender"],Zm=nf.reduce((e,t)=>(e[t]=lL(()=>wd=!0),e),{}),uL=nf.reduce((e,t)=>{const n=Zm[t];return e[t]=(r,o=!1,s=!1)=>(wd||pL(),n.schedule(r,o,s)),e},{}),dL=nf.reduce((e,t)=>(e[t]=Zm[t].cancel,e),{});nf.reduce((e,t)=>(e[t]=()=>Zm[t].process(jc),e),{});const fL=e=>Zm[e].process(jc),$5=e=>{wd=!1,jc.delta=q1?T5:Math.max(Math.min(e-jc.timestamp,cL),1),jc.timestamp=e,X1=!0,nf.forEach(fL),X1=!1,wd&&(q1=!1,N5($5))},pL=()=>{wd=!0,q1=!0,X1||N5($5)},kS=()=>jc;function Jm(e){const{viewBox:t="0 0 24 24",d:n,displayName:r,defaultProps:o={}}=e,s=d.Children.toArray(e.path),i=je((l,c)=>a.jsx($n,{ref:c,viewBox:t,...o,...l,children:s.length?s:a.jsx("path",{fill:"currentColor",d:n})}));return i.displayName=r,i}function L5(e){const{theme:t}=jR(),n=w$();return d.useMemo(()=>S$(t.direction,{...n,...e}),[e,t.direction,n])}var hL=Object.defineProperty,mL=(e,t,n)=>t in e?hL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_n=(e,t,n)=>(mL(e,typeof t!="symbol"?t+"":t,n),n);function jS(e){return e.sort((t,n)=>{const r=t.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var gL=e=>typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE;function IS(e,t,n){let r=e+1;return n&&r>=t&&(r=0),r}function _S(e,t,n){let r=e-1;return n&&r<0&&(r=t),r}var Q1=typeof window<"u"?d.useLayoutEffect:d.useEffect,Th=e=>e,vL=class{constructor(){_n(this,"descendants",new Map),_n(this,"register",e=>{if(e!=null)return gL(e)?this.registerNode(e):t=>{this.registerNode(t,e)}}),_n(this,"unregister",e=>{this.descendants.delete(e);const t=jS(Array.from(this.descendants.keys()));this.assignIndex(t)}),_n(this,"destroy",()=>{this.descendants.clear()}),_n(this,"assignIndex",e=>{this.descendants.forEach(t=>{const n=e.indexOf(t.node);t.index=n,t.node.dataset.index=t.index.toString()})}),_n(this,"count",()=>this.descendants.size),_n(this,"enabledCount",()=>this.enabledValues().length),_n(this,"values",()=>Array.from(this.descendants.values()).sort((t,n)=>t.index-n.index)),_n(this,"enabledValues",()=>this.values().filter(e=>!e.disabled)),_n(this,"item",e=>{if(this.count()!==0)return this.values()[e]}),_n(this,"enabledItem",e=>{if(this.enabledCount()!==0)return this.enabledValues()[e]}),_n(this,"first",()=>this.item(0)),_n(this,"firstEnabled",()=>this.enabledItem(0)),_n(this,"last",()=>this.item(this.descendants.size-1)),_n(this,"lastEnabled",()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)}),_n(this,"indexOf",e=>{var t,n;return e&&(n=(t=this.descendants.get(e))==null?void 0:t.index)!=null?n:-1}),_n(this,"enabledIndexOf",e=>e==null?-1:this.enabledValues().findIndex(t=>t.node.isSameNode(e))),_n(this,"next",(e,t=!0)=>{const n=IS(e,this.count(),t);return this.item(n)}),_n(this,"nextEnabled",(e,t=!0)=>{const n=this.item(e);if(!n)return;const r=this.enabledIndexOf(n.node),o=IS(r,this.enabledCount(),t);return this.enabledItem(o)}),_n(this,"prev",(e,t=!0)=>{const n=_S(e,this.count()-1,t);return this.item(n)}),_n(this,"prevEnabled",(e,t=!0)=>{const n=this.item(e);if(!n)return;const r=this.enabledIndexOf(n.node),o=_S(r,this.enabledCount()-1,t);return this.enabledItem(o)}),_n(this,"registerNode",(e,t)=>{if(!e||this.descendants.has(e))return;const n=Array.from(this.descendants.keys()).concat(e),r=jS(n);t!=null&&t.disabled&&(t.disabled=!!t.disabled);const o={node:e,index:-1,...t};this.descendants.set(e,o),this.assignIndex(r)})}};function xL(e,t){if(e!=null){if(typeof e=="function"){e(t);return}try{e.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}}}function Pt(...e){return t=>{e.forEach(n=>{xL(n,t)})}}function bL(...e){return d.useMemo(()=>Pt(...e),e)}function yL(){const e=d.useRef(new vL);return Q1(()=>()=>e.current.destroy()),e.current}var[CL,z5]=Vt({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function wL(e){const t=z5(),[n,r]=d.useState(-1),o=d.useRef(null);Q1(()=>()=>{o.current&&t.unregister(o.current)},[]),Q1(()=>{if(!o.current)return;const i=Number(o.current.dataset.index);n!=i&&!Number.isNaN(i)&&r(i)});const s=Th(e?t.register(e):t.register);return{descendants:t,index:n,enabledIndex:t.enabledIndexOf(o.current),register:Pt(s,o)}}function Lb(){return[Th(CL),()=>Th(z5()),()=>yL(),o=>wL(o)]}var[SL,eg]=Vt({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[kL,zb]=Vt({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[jL,Uxe,IL,_L]=Lb(),ic=je(function(t,n){const{getButtonProps:r}=zb(),o=r(t,n),i={display:"flex",alignItems:"center",width:"100%",outline:0,...eg().button};return a.jsx(we.button,{...o,className:Ze("chakra-accordion__button",t.className),__css:i})});ic.displayName="AccordionButton";function rf(e){const{value:t,defaultValue:n,onChange:r,shouldUpdate:o=(g,x)=>g!==x}=e,s=fn(r),i=fn(o),[l,c]=d.useState(n),p=t!==void 0,h=p?t:l,m=fn(g=>{const y=typeof g=="function"?g(h):g;i(h,y)&&(p||c(y),s(y))},[p,s,h,i]);return[h,m]}function PL(e){const{onChange:t,defaultIndex:n,index:r,allowMultiple:o,allowToggle:s,...i}=e;OL(e),DL(e);const l=IL(),[c,p]=d.useState(-1);d.useEffect(()=>()=>{p(-1)},[]);const[h,m]=rf({value:r,defaultValue(){return o?n??[]:n??-1},onChange:t});return{index:h,setIndex:m,htmlProps:i,getAccordionItemProps:x=>{let y=!1;return x!==null&&(y=Array.isArray(h)?h.includes(x):h===x),{isOpen:y,onChange:w=>{if(x!==null)if(o&&Array.isArray(h)){const S=w?h.concat(x):h.filter(j=>j!==x);m(S)}else w?m(x):s&&m(-1)}}},focusedIndex:c,setFocusedIndex:p,descendants:l}}var[EL,Fb]=Vt({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function ML(e){const{isDisabled:t,isFocusable:n,id:r,...o}=e,{getAccordionItemProps:s,setFocusedIndex:i}=Fb(),l=d.useRef(null),c=d.useId(),p=r??c,h=`accordion-button-${p}`,m=`accordion-panel-${p}`;RL(e);const{register:g,index:x,descendants:y}=_L({disabled:t&&!n}),{isOpen:b,onChange:w}=s(x===-1?null:x);AL({isOpen:b,isDisabled:t});const S=()=>{w==null||w(!0)},j=()=>{w==null||w(!1)},I=d.useCallback(()=>{w==null||w(!b),i(x)},[x,i,b,w]),M=d.useCallback(R=>{const O={ArrowDown:()=>{const T=y.nextEnabled(x);T==null||T.node.focus()},ArrowUp:()=>{const T=y.prevEnabled(x);T==null||T.node.focus()},Home:()=>{const T=y.firstEnabled();T==null||T.node.focus()},End:()=>{const T=y.lastEnabled();T==null||T.node.focus()}}[R.key];O&&(R.preventDefault(),O(R))},[y,x]),_=d.useCallback(()=>{i(x)},[i,x]),E=d.useCallback(function(A={},O=null){return{...A,type:"button",ref:Pt(g,l,O),id:h,disabled:!!t,"aria-expanded":!!b,"aria-controls":m,onClick:Be(A.onClick,I),onFocus:Be(A.onFocus,_),onKeyDown:Be(A.onKeyDown,M)}},[h,t,b,I,_,M,m,g]),D=d.useCallback(function(A={},O=null){return{...A,ref:O,role:"region",id:m,"aria-labelledby":h,hidden:!b}},[h,b,m]);return{isOpen:b,isDisabled:t,isFocusable:n,onOpen:S,onClose:j,getButtonProps:E,getPanelProps:D,htmlProps:o}}function OL(e){const t=e.index||e.defaultIndex,n=t!=null&&!Array.isArray(t)&&e.allowMultiple;Xd({condition:!!n,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof t},`})}function DL(e){Xd({condition:!!(e.allowMultiple&&e.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function RL(e){Xd({condition:!!(e.isFocusable&&!e.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function AL(e){Xd({condition:e.isOpen&&!!e.isDisabled,message:"Cannot open a disabled accordion item"})}function lc(e){const{isOpen:t,isDisabled:n}=zb(),{reduceMotion:r}=Fb(),o=Ze("chakra-accordion__icon",e.className),s=eg(),i={opacity:n?.4:1,transform:t?"rotate(-180deg)":void 0,transition:r?void 0:"transform 0.2s",transformOrigin:"center",...s.icon};return a.jsx($n,{viewBox:"0 0 24 24","aria-hidden":!0,className:o,__css:i,...e,children:a.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}lc.displayName="AccordionIcon";var cc=je(function(t,n){const{children:r,className:o}=t,{htmlProps:s,...i}=ML(t),c={...eg().container,overflowAnchor:"none"},p=d.useMemo(()=>i,[i]);return a.jsx(kL,{value:p,children:a.jsx(we.div,{ref:n,...s,className:Ze("chakra-accordion__item",o),__css:c,children:typeof r=="function"?r({isExpanded:!!i.isOpen,isDisabled:!!i.isDisabled}):r})})});cc.displayName="AccordionItem";var vc={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},Xi={enter:{duration:.2,ease:vc.easeOut},exit:{duration:.1,ease:vc.easeIn}},pa={enter:(e,t)=>({...e,delay:typeof t=="number"?t:t==null?void 0:t.enter}),exit:(e,t)=>({...e,delay:typeof t=="number"?t:t==null?void 0:t.exit})},TL=e=>e!=null&&parseInt(e.toString(),10)>0,PS={exit:{height:{duration:.2,ease:vc.ease},opacity:{duration:.3,ease:vc.ease}},enter:{height:{duration:.3,ease:vc.ease},opacity:{duration:.4,ease:vc.ease}}},NL={exit:({animateOpacity:e,startingHeight:t,transition:n,transitionEnd:r,delay:o})=>{var s;return{...e&&{opacity:TL(t)?1:0},height:t,transitionEnd:r==null?void 0:r.exit,transition:(s=n==null?void 0:n.exit)!=null?s:pa.exit(PS.exit,o)}},enter:({animateOpacity:e,endingHeight:t,transition:n,transitionEnd:r,delay:o})=>{var s;return{...e&&{opacity:1},height:t,transitionEnd:r==null?void 0:r.enter,transition:(s=n==null?void 0:n.enter)!=null?s:pa.enter(PS.enter,o)}}},of=d.forwardRef((e,t)=>{const{in:n,unmountOnExit:r,animateOpacity:o=!0,startingHeight:s=0,endingHeight:i="auto",style:l,className:c,transition:p,transitionEnd:h,...m}=e,[g,x]=d.useState(!1);d.useEffect(()=>{const j=setTimeout(()=>{x(!0)});return()=>clearTimeout(j)},[]),Xd({condition:Number(s)>0&&!!r,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const y=parseFloat(s.toString())>0,b={startingHeight:s,endingHeight:i,animateOpacity:o,transition:g?p:{enter:{duration:0}},transitionEnd:{enter:h==null?void 0:h.enter,exit:r?h==null?void 0:h.exit:{...h==null?void 0:h.exit,display:y?"block":"none"}}},w=r?n:!0,S=n||r?"enter":"exit";return a.jsx(pr,{initial:!1,custom:b,children:w&&a.jsx(En.div,{ref:t,...m,className:Ze("chakra-collapse",c),style:{overflow:"hidden",display:"block",...l},custom:b,variants:NL,initial:r?"exit":!1,animate:S,exit:"exit"})})});of.displayName="Collapse";var $L={enter:({transition:e,transitionEnd:t,delay:n}={})=>{var r;return{opacity:1,transition:(r=e==null?void 0:e.enter)!=null?r:pa.enter(Xi.enter,n),transitionEnd:t==null?void 0:t.enter}},exit:({transition:e,transitionEnd:t,delay:n}={})=>{var r;return{opacity:0,transition:(r=e==null?void 0:e.exit)!=null?r:pa.exit(Xi.exit,n),transitionEnd:t==null?void 0:t.exit}}},F5={initial:"exit",animate:"enter",exit:"exit",variants:$L},LL=d.forwardRef(function(t,n){const{unmountOnExit:r,in:o,className:s,transition:i,transitionEnd:l,delay:c,...p}=t,h=o||r?"enter":"exit",m=r?o&&r:!0,g={transition:i,transitionEnd:l,delay:c};return a.jsx(pr,{custom:g,children:m&&a.jsx(En.div,{ref:n,className:Ze("chakra-fade",s),custom:g,...F5,animate:h,...p})})});LL.displayName="Fade";var zL={exit:({reverse:e,initialScale:t,transition:n,transitionEnd:r,delay:o})=>{var s;return{opacity:0,...e?{scale:t,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{scale:t,...r==null?void 0:r.exit}},transition:(s=n==null?void 0:n.exit)!=null?s:pa.exit(Xi.exit,o)}},enter:({transitionEnd:e,transition:t,delay:n})=>{var r;return{opacity:1,scale:1,transition:(r=t==null?void 0:t.enter)!=null?r:pa.enter(Xi.enter,n),transitionEnd:e==null?void 0:e.enter}}},B5={initial:"exit",animate:"enter",exit:"exit",variants:zL},FL=d.forwardRef(function(t,n){const{unmountOnExit:r,in:o,reverse:s=!0,initialScale:i=.95,className:l,transition:c,transitionEnd:p,delay:h,...m}=t,g=r?o&&r:!0,x=o||r?"enter":"exit",y={initialScale:i,reverse:s,transition:c,transitionEnd:p,delay:h};return a.jsx(pr,{custom:y,children:g&&a.jsx(En.div,{ref:n,className:Ze("chakra-offset-slide",l),...B5,animate:x,custom:y,...m})})});FL.displayName="ScaleFade";var BL={initial:({offsetX:e,offsetY:t,transition:n,transitionEnd:r,delay:o})=>{var s;return{opacity:0,x:e,y:t,transition:(s=n==null?void 0:n.exit)!=null?s:pa.exit(Xi.exit,o),transitionEnd:r==null?void 0:r.exit}},enter:({transition:e,transitionEnd:t,delay:n})=>{var r;return{opacity:1,x:0,y:0,transition:(r=e==null?void 0:e.enter)!=null?r:pa.enter(Xi.enter,n),transitionEnd:t==null?void 0:t.enter}},exit:({offsetY:e,offsetX:t,transition:n,transitionEnd:r,reverse:o,delay:s})=>{var i;const l={x:t,y:e};return{opacity:0,transition:(i=n==null?void 0:n.exit)!=null?i:pa.exit(Xi.exit,s),...o?{...l,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{...l,...r==null?void 0:r.exit}}}}},Y1={initial:"initial",animate:"enter",exit:"exit",variants:BL},HL=d.forwardRef(function(t,n){const{unmountOnExit:r,in:o,reverse:s=!0,className:i,offsetX:l=0,offsetY:c=8,transition:p,transitionEnd:h,delay:m,...g}=t,x=r?o&&r:!0,y=o||r?"enter":"exit",b={offsetX:l,offsetY:c,reverse:s,transition:p,transitionEnd:h,delay:m};return a.jsx(pr,{custom:b,children:x&&a.jsx(En.div,{ref:n,className:Ze("chakra-offset-slide",i),custom:b,...Y1,animate:y,...g})})});HL.displayName="SlideFade";var uc=je(function(t,n){const{className:r,motionProps:o,...s}=t,{reduceMotion:i}=Fb(),{getPanelProps:l,isOpen:c}=zb(),p=l(s,n),h=Ze("chakra-accordion__panel",r),m=eg();i||delete p.hidden;const g=a.jsx(we.div,{...p,__css:m.panel,className:h});return i?g:a.jsx(of,{in:c,...o,children:g})});uc.displayName="AccordionPanel";var H5=je(function({children:t,reduceMotion:n,...r},o){const s=Kn("Accordion",r),i=sn(r),{htmlProps:l,descendants:c,...p}=PL(i),h=d.useMemo(()=>({...p,reduceMotion:!!n}),[p,n]);return a.jsx(jL,{value:c,children:a.jsx(EL,{value:h,children:a.jsx(SL,{value:s,children:a.jsx(we.div,{ref:o,...l,className:Ze("chakra-accordion",r.className),__css:s.root,children:t})})})})});H5.displayName="Accordion";function tg(e){return d.Children.toArray(e).filter(t=>d.isValidElement(t))}var[VL,WL]=Vt({strict:!1,name:"ButtonGroupContext"}),UL={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},GL={horizontal:e=>({"& > *:not(style) ~ *:not(style)":{marginStart:e}}),vertical:e=>({"& > *:not(style) ~ *:not(style)":{marginTop:e}})},Gt=je(function(t,n){const{size:r,colorScheme:o,variant:s,className:i,spacing:l="0.5rem",isAttached:c,isDisabled:p,orientation:h="horizontal",...m}=t,g=Ze("chakra-button__group",i),x=d.useMemo(()=>({size:r,colorScheme:o,variant:s,isDisabled:p}),[r,o,s,p]);let y={display:"inline-flex",...c?UL[h]:GL[h](l)};const b=h==="vertical";return a.jsx(VL,{value:x,children:a.jsx(we.div,{ref:n,role:"group",__css:y,className:g,"data-attached":c?"":void 0,"data-orientation":h,flexDir:b?"column":void 0,...m})})});Gt.displayName="ButtonGroup";function KL(e){const[t,n]=d.useState(!e);return{ref:d.useCallback(s=>{s&&n(s.tagName==="BUTTON")},[]),type:t?"button":void 0}}function Z1(e){const{children:t,className:n,...r}=e,o=d.isValidElement(t)?d.cloneElement(t,{"aria-hidden":!0,focusable:!1}):t,s=Ze("chakra-button__icon",n);return a.jsx(we.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:s,children:o})}Z1.displayName="ButtonIcon";function J1(e){const{label:t,placement:n,spacing:r="0.5rem",children:o=a.jsx(xi,{color:"currentColor",width:"1em",height:"1em"}),className:s,__css:i,...l}=e,c=Ze("chakra-button__spinner",s),p=n==="start"?"marginEnd":"marginStart",h=d.useMemo(()=>({display:"flex",alignItems:"center",position:t?"relative":"absolute",[p]:t?r:0,fontSize:"1em",lineHeight:"normal",...i}),[i,t,p,r]);return a.jsx(we.div,{className:c,...l,__css:h,children:o})}J1.displayName="ButtonSpinner";var fi=je((e,t)=>{const n=WL(),r=bi("Button",{...n,...e}),{isDisabled:o=n==null?void 0:n.isDisabled,isLoading:s,isActive:i,children:l,leftIcon:c,rightIcon:p,loadingText:h,iconSpacing:m="0.5rem",type:g,spinner:x,spinnerPlacement:y="start",className:b,as:w,...S}=sn(e),j=d.useMemo(()=>{const E={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:E}}},[r,n]),{ref:I,type:M}=KL(w),_={rightIcon:p,leftIcon:c,iconSpacing:m,children:l};return a.jsxs(we.button,{ref:bL(t,I),as:w,type:g??M,"data-active":ft(i),"data-loading":ft(s),__css:j,className:Ze("chakra-button",b),...S,disabled:o||s,children:[s&&y==="start"&&a.jsx(J1,{className:"chakra-button__spinner--start",label:h,placement:"start",spacing:m,children:x}),s?h||a.jsx(we.span,{opacity:0,children:a.jsx(ES,{..._})}):a.jsx(ES,{..._}),s&&y==="end"&&a.jsx(J1,{className:"chakra-button__spinner--end",label:h,placement:"end",spacing:m,children:x})]})});fi.displayName="Button";function ES(e){const{leftIcon:t,rightIcon:n,children:r,iconSpacing:o}=e;return a.jsxs(a.Fragment,{children:[t&&a.jsx(Z1,{marginEnd:o,children:t}),r,n&&a.jsx(Z1,{marginStart:o,children:n})]})}var Os=je((e,t)=>{const{icon:n,children:r,isRound:o,"aria-label":s,...i}=e,l=n||r,c=d.isValidElement(l)?d.cloneElement(l,{"aria-hidden":!0,focusable:!1}):null;return a.jsx(fi,{padding:"0",borderRadius:o?"full":void 0,ref:t,"aria-label":s,...i,children:c})});Os.displayName="IconButton";var[Gxe,qL]=Vt({name:"CheckboxGroupContext",strict:!1});function XL(e){const[t,n]=d.useState(e),[r,o]=d.useState(!1);return e!==t&&(o(!0),n(e)),r}function QL(e){return a.jsx(we.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...e,children:a.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function YL(e){return a.jsx(we.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...e,children:a.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function ZL(e){const{isIndeterminate:t,isChecked:n,...r}=e,o=t?YL:QL;return n||t?a.jsx(we.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:a.jsx(o,{...r})}):null}var[JL,V5]=Vt({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[ez,sf]=Vt({strict:!1,name:"FormControlContext"});function tz(e){const{id:t,isRequired:n,isInvalid:r,isDisabled:o,isReadOnly:s,...i}=e,l=d.useId(),c=t||`field-${l}`,p=`${c}-label`,h=`${c}-feedback`,m=`${c}-helptext`,[g,x]=d.useState(!1),[y,b]=d.useState(!1),[w,S]=d.useState(!1),j=d.useCallback((D={},R=null)=>({id:m,...D,ref:Pt(R,A=>{A&&b(!0)})}),[m]),I=d.useCallback((D={},R=null)=>({...D,ref:R,"data-focus":ft(w),"data-disabled":ft(o),"data-invalid":ft(r),"data-readonly":ft(s),id:D.id!==void 0?D.id:p,htmlFor:D.htmlFor!==void 0?D.htmlFor:c}),[c,o,w,r,s,p]),M=d.useCallback((D={},R=null)=>({id:h,...D,ref:Pt(R,A=>{A&&x(!0)}),"aria-live":"polite"}),[h]),_=d.useCallback((D={},R=null)=>({...D,...i,ref:R,role:"group"}),[i]),E=d.useCallback((D={},R=null)=>({...D,ref:R,role:"presentation","aria-hidden":!0,children:D.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!s,isDisabled:!!o,isFocused:!!w,onFocus:()=>S(!0),onBlur:()=>S(!1),hasFeedbackText:g,setHasFeedbackText:x,hasHelpText:y,setHasHelpText:b,id:c,labelId:p,feedbackId:h,helpTextId:m,htmlProps:i,getHelpTextProps:j,getErrorMessageProps:M,getRootProps:_,getLabelProps:I,getRequiredIndicatorProps:E}}var qt=je(function(t,n){const r=Kn("Form",t),o=sn(t),{getRootProps:s,htmlProps:i,...l}=tz(o),c=Ze("chakra-form-control",t.className);return a.jsx(ez,{value:l,children:a.jsx(JL,{value:r,children:a.jsx(we.div,{...s({},n),className:c,__css:r.container})})})});qt.displayName="FormControl";var W5=je(function(t,n){const r=sf(),o=V5(),s=Ze("chakra-form__helper-text",t.className);return a.jsx(we.div,{...r==null?void 0:r.getHelpTextProps(t,n),__css:o.helperText,className:s})});W5.displayName="FormHelperText";var kn=je(function(t,n){var r;const o=bi("FormLabel",t),s=sn(t),{className:i,children:l,requiredIndicator:c=a.jsx(U5,{}),optionalIndicator:p=null,...h}=s,m=sf(),g=(r=m==null?void 0:m.getLabelProps(h,n))!=null?r:{ref:n,...h};return a.jsxs(we.label,{...g,className:Ze("chakra-form__label",s.className),__css:{display:"block",textAlign:"start",...o},children:[l,m!=null&&m.isRequired?c:p]})});kn.displayName="FormLabel";var U5=je(function(t,n){const r=sf(),o=V5();if(!(r!=null&&r.isRequired))return null;const s=Ze("chakra-form__required-indicator",t.className);return a.jsx(we.span,{...r==null?void 0:r.getRequiredIndicatorProps(t,n),__css:o.requiredIndicator,className:s})});U5.displayName="RequiredIndicator";function Bb(e){const{isDisabled:t,isInvalid:n,isReadOnly:r,isRequired:o,...s}=Hb(e);return{...s,disabled:t,readOnly:r,required:o,"aria-invalid":Po(n),"aria-required":Po(o),"aria-readonly":Po(r)}}function Hb(e){var t,n,r;const o=sf(),{id:s,disabled:i,readOnly:l,required:c,isRequired:p,isInvalid:h,isReadOnly:m,isDisabled:g,onFocus:x,onBlur:y,...b}=e,w=e["aria-describedby"]?[e["aria-describedby"]]:[];return o!=null&&o.hasFeedbackText&&(o!=null&&o.isInvalid)&&w.push(o.feedbackId),o!=null&&o.hasHelpText&&w.push(o.helpTextId),{...b,"aria-describedby":w.join(" ")||void 0,id:s??(o==null?void 0:o.id),isDisabled:(t=i??g)!=null?t:o==null?void 0:o.isDisabled,isReadOnly:(n=l??m)!=null?n:o==null?void 0:o.isReadOnly,isRequired:(r=c??p)!=null?r:o==null?void 0:o.isRequired,isInvalid:h??(o==null?void 0:o.isInvalid),onFocus:Be(o==null?void 0:o.onFocus,x),onBlur:Be(o==null?void 0:o.onBlur,y)}}var Vb={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},G5=we("span",{baseStyle:Vb});G5.displayName="VisuallyHidden";var nz=we("input",{baseStyle:Vb});nz.displayName="VisuallyHiddenInput";const rz=()=>typeof document<"u";let MS=!1,af=null,ll=!1,ex=!1;const tx=new Set;function Wb(e,t){tx.forEach(n=>n(e,t))}const oz=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function sz(e){return!(e.metaKey||!oz&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function OS(e){ll=!0,sz(e)&&(af="keyboard",Wb("keyboard",e))}function Yl(e){if(af="pointer",e.type==="mousedown"||e.type==="pointerdown"){ll=!0;const t=e.composedPath?e.composedPath()[0]:e.target;let n=!1;try{n=t.matches(":focus-visible")}catch{}if(n)return;Wb("pointer",e)}}function az(e){return e.mozInputSource===0&&e.isTrusted?!0:e.detail===0&&!e.pointerType}function iz(e){az(e)&&(ll=!0,af="virtual")}function lz(e){e.target===window||e.target===document||(!ll&&!ex&&(af="virtual",Wb("virtual",e)),ll=!1,ex=!1)}function cz(){ll=!1,ex=!0}function DS(){return af!=="pointer"}function uz(){if(!rz()||MS)return;const{focus:e}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...n){ll=!0,e.apply(this,n)},document.addEventListener("keydown",OS,!0),document.addEventListener("keyup",OS,!0),document.addEventListener("click",iz,!0),window.addEventListener("focus",lz,!0),window.addEventListener("blur",cz,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",Yl,!0),document.addEventListener("pointermove",Yl,!0),document.addEventListener("pointerup",Yl,!0)):(document.addEventListener("mousedown",Yl,!0),document.addEventListener("mousemove",Yl,!0),document.addEventListener("mouseup",Yl,!0)),MS=!0}function K5(e){uz(),e(DS());const t=()=>e(DS());return tx.add(t),()=>{tx.delete(t)}}function dz(e,t=[]){const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}function q5(e={}){const t=Hb(e),{isDisabled:n,isReadOnly:r,isRequired:o,isInvalid:s,id:i,onBlur:l,onFocus:c,"aria-describedby":p}=t,{defaultChecked:h,isChecked:m,isFocusable:g,onChange:x,isIndeterminate:y,name:b,value:w,tabIndex:S=void 0,"aria-label":j,"aria-labelledby":I,"aria-invalid":M,..._}=e,E=dz(_,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),D=fn(x),R=fn(l),A=fn(c),[O,T]=d.useState(!1),[K,L]=d.useState(!1),[H,U]=d.useState(!1),[W,z]=d.useState(!1);d.useEffect(()=>K5(T),[]);const Q=d.useRef(null),[F,X]=d.useState(!0),[Y,se]=d.useState(!!h),ae=m!==void 0,oe=ae?m:Y,q=d.useCallback(pe=>{if(r||n){pe.preventDefault();return}ae||se(oe?pe.target.checked:y?!0:pe.target.checked),D==null||D(pe)},[r,n,oe,ae,y,D]);Sc(()=>{Q.current&&(Q.current.indeterminate=!!y)},[y]),Ea(()=>{n&&L(!1)},[n,L]),Sc(()=>{const pe=Q.current;if(!(pe!=null&&pe.form))return;const Re=()=>{se(!!h)};return pe.form.addEventListener("reset",Re),()=>{var Pe;return(Pe=pe.form)==null?void 0:Pe.removeEventListener("reset",Re)}},[]);const G=n&&!g,te=d.useCallback(pe=>{pe.key===" "&&z(!0)},[z]),ce=d.useCallback(pe=>{pe.key===" "&&z(!1)},[z]);Sc(()=>{if(!Q.current)return;Q.current.checked!==oe&&se(Q.current.checked)},[Q.current]);const J=d.useCallback((pe={},Re=null)=>{const Pe=Ve=>{K&&Ve.preventDefault(),z(!0)};return{...pe,ref:Re,"data-active":ft(W),"data-hover":ft(H),"data-checked":ft(oe),"data-focus":ft(K),"data-focus-visible":ft(K&&O),"data-indeterminate":ft(y),"data-disabled":ft(n),"data-invalid":ft(s),"data-readonly":ft(r),"aria-hidden":!0,onMouseDown:Be(pe.onMouseDown,Pe),onMouseUp:Be(pe.onMouseUp,()=>z(!1)),onMouseEnter:Be(pe.onMouseEnter,()=>U(!0)),onMouseLeave:Be(pe.onMouseLeave,()=>U(!1))}},[W,oe,n,K,O,H,y,s,r]),ie=d.useCallback((pe={},Re=null)=>({...pe,ref:Re,"data-active":ft(W),"data-hover":ft(H),"data-checked":ft(oe),"data-focus":ft(K),"data-focus-visible":ft(K&&O),"data-indeterminate":ft(y),"data-disabled":ft(n),"data-invalid":ft(s),"data-readonly":ft(r)}),[W,oe,n,K,O,H,y,s,r]),de=d.useCallback((pe={},Re=null)=>({...E,...pe,ref:Pt(Re,Pe=>{Pe&&X(Pe.tagName==="LABEL")}),onClick:Be(pe.onClick,()=>{var Pe;F||((Pe=Q.current)==null||Pe.click(),requestAnimationFrame(()=>{var Ve;(Ve=Q.current)==null||Ve.focus({preventScroll:!0})}))}),"data-disabled":ft(n),"data-checked":ft(oe),"data-invalid":ft(s)}),[E,n,oe,s,F]),me=d.useCallback((pe={},Re=null)=>({...pe,ref:Pt(Q,Re),type:"checkbox",name:b,value:w,id:i,tabIndex:S,onChange:Be(pe.onChange,q),onBlur:Be(pe.onBlur,R,()=>L(!1)),onFocus:Be(pe.onFocus,A,()=>L(!0)),onKeyDown:Be(pe.onKeyDown,te),onKeyUp:Be(pe.onKeyUp,ce),required:o,checked:oe,disabled:G,readOnly:r,"aria-label":j,"aria-labelledby":I,"aria-invalid":M?!!M:s,"aria-describedby":p,"aria-disabled":n,style:Vb}),[b,w,i,q,R,A,te,ce,o,oe,G,r,j,I,M,s,p,n,S]),Ce=d.useCallback((pe={},Re=null)=>({...pe,ref:Re,onMouseDown:Be(pe.onMouseDown,fz),"data-disabled":ft(n),"data-checked":ft(oe),"data-invalid":ft(s)}),[oe,n,s]);return{state:{isInvalid:s,isFocused:K,isChecked:oe,isActive:W,isHovered:H,isIndeterminate:y,isDisabled:n,isReadOnly:r,isRequired:o},getRootProps:de,getCheckboxProps:J,getIndicatorProps:ie,getInputProps:me,getLabelProps:Ce,htmlProps:E}}function fz(e){e.preventDefault(),e.stopPropagation()}var pz={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},hz={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},mz=Ia({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),gz=Ia({from:{opacity:0},to:{opacity:1}}),vz=Ia({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),lf=je(function(t,n){const r=qL(),o={...r,...t},s=Kn("Checkbox",o),i=sn(t),{spacing:l="0.5rem",className:c,children:p,iconColor:h,iconSize:m,icon:g=a.jsx(ZL,{}),isChecked:x,isDisabled:y=r==null?void 0:r.isDisabled,onChange:b,inputProps:w,...S}=i;let j=x;r!=null&&r.value&&i.value&&(j=r.value.includes(i.value));let I=b;r!=null&&r.onChange&&i.value&&(I=Um(r.onChange,b));const{state:M,getInputProps:_,getCheckboxProps:E,getLabelProps:D,getRootProps:R}=q5({...S,isDisabled:y,isChecked:j,onChange:I}),A=XL(M.isChecked),O=d.useMemo(()=>({animation:A?M.isIndeterminate?`${gz} 20ms linear, ${vz} 200ms linear`:`${mz} 200ms linear`:void 0,fontSize:m,color:h,...s.icon}),[h,m,A,M.isIndeterminate,s.icon]),T=d.cloneElement(g,{__css:O,isIndeterminate:M.isIndeterminate,isChecked:M.isChecked});return a.jsxs(we.label,{__css:{...hz,...s.container},className:Ze("chakra-checkbox",c),...R(),children:[a.jsx("input",{className:"chakra-checkbox__input",..._(w,n)}),a.jsx(we.span,{__css:{...pz,...s.control},className:"chakra-checkbox__control",...E(),children:T}),p&&a.jsx(we.span,{className:"chakra-checkbox__label",...D(),__css:{marginStart:l,...s.label},children:p})]})});lf.displayName="Checkbox";function xz(e){const t=parseFloat(e);return typeof t!="number"||Number.isNaN(t)?0:t}function Ub(e,t){let n=xz(e);const r=10**(t??10);return n=Math.round(n*r)/r,t?n.toFixed(t):n.toString()}function nx(e){if(!Number.isFinite(e))return 0;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n+=1;return n}function Nh(e,t,n){return(e-t)*100/(n-t)}function X5(e,t,n){return(n-t)*e+t}function rx(e,t,n){const r=Math.round((e-t)/n)*n+t,o=nx(n);return Ub(r,o)}function Ic(e,t,n){return e==null?e:(n<t&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(e,t),n))}function bz(e={}){const{onChange:t,precision:n,defaultValue:r,value:o,step:s=1,min:i=Number.MIN_SAFE_INTEGER,max:l=Number.MAX_SAFE_INTEGER,keepWithinRange:c=!0}=e,p=fn(t),[h,m]=d.useState(()=>{var O;return r==null?"":(O=Nv(r,s,n))!=null?O:""}),g=typeof o<"u",x=g?o:h,y=Q5(Qa(x),s),b=n??y,w=d.useCallback(O=>{O!==x&&(g||m(O.toString()),p==null||p(O.toString(),Qa(O)))},[p,g,x]),S=d.useCallback(O=>{let T=O;return c&&(T=Ic(T,i,l)),Ub(T,b)},[b,c,l,i]),j=d.useCallback((O=s)=>{let T;x===""?T=Qa(O):T=Qa(x)+O,T=S(T),w(T)},[S,s,w,x]),I=d.useCallback((O=s)=>{let T;x===""?T=Qa(-O):T=Qa(x)-O,T=S(T),w(T)},[S,s,w,x]),M=d.useCallback(()=>{var O;let T;r==null?T="":T=(O=Nv(r,s,n))!=null?O:i,w(T)},[r,n,s,w,i]),_=d.useCallback(O=>{var T;const K=(T=Nv(O,s,b))!=null?T:i;w(K)},[b,s,w,i]),E=Qa(x);return{isOutOfRange:E>l||E<i,isAtMax:E===l,isAtMin:E===i,precision:b,value:x,valueAsNumber:E,update:w,reset:M,increment:j,decrement:I,clamp:S,cast:_,setValue:m}}function Qa(e){return parseFloat(e.toString().replace(/[^\w.-]+/g,""))}function Q5(e,t){return Math.max(nx(t),nx(e))}function Nv(e,t,n){const r=Qa(e);if(Number.isNaN(r))return;const o=Q5(r,t);return Ub(r,n??o)}var[yz,Y5]=Vt({name:"EditableStylesContext",errorMessage:`useEditableStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Editable />" `}),[Cz,Gb]=Vt({name:"EditableContext",errorMessage:"useEditableContext: context is undefined. Seems you forgot to wrap the editable components in `<Editable />`"}),Z5={fontSize:"inherit",fontWeight:"inherit",textAlign:"inherit",bg:"transparent"},ng=je(function(t,n){const{getInputProps:r}=Gb(),o=Y5(),s=r(t,n),i=Ze("chakra-editable__input",t.className);return a.jsx(we.input,{...s,__css:{outline:0,...Z5,...o.input},className:i})});ng.displayName="EditableInput";var rg=je(function(t,n){const{getPreviewProps:r}=Gb(),o=Y5(),s=r(t,n),i=Ze("chakra-editable__preview",t.className);return a.jsx(we.span,{...s,__css:{cursor:"text",display:"inline-block",...Z5,...o.preview},className:i})});rg.displayName="EditablePreview";function Qi(e,t,n,r){const o=fn(n);return d.useEffect(()=>{const s=typeof e=="function"?e():e??document;if(!(!n||!s))return s.addEventListener(t,o,r),()=>{s.removeEventListener(t,o,r)}},[t,e,r,o,n]),()=>{const s=typeof e=="function"?e():e??document;s==null||s.removeEventListener(t,o,r)}}function wz(e){return"current"in e}var J5=()=>typeof window<"u";function Sz(){var e;const t=navigator.userAgentData;return(e=t==null?void 0:t.platform)!=null?e:navigator.platform}var kz=e=>J5()&&e.test(navigator.vendor),jz=e=>J5()&&e.test(Sz()),Iz=()=>jz(/mac|iphone|ipad|ipod/i),_z=()=>Iz()&&kz(/apple/i);function eP(e){const{ref:t,elements:n,enabled:r}=e,o=()=>{var s,i;return(i=(s=t.current)==null?void 0:s.ownerDocument)!=null?i:document};Qi(o,"pointerdown",s=>{if(!_z()||!r)return;const i=s.target,c=(n??[t]).some(p=>{const h=wz(p)?p.current:p;return(h==null?void 0:h.contains(i))||h===i});o().activeElement!==i&&c&&(s.preventDefault(),i.focus())})}function RS(e,t){return e?e===t||e.contains(t):!1}function Pz(e={}){const{onChange:t,onCancel:n,onSubmit:r,onBlur:o,value:s,isDisabled:i,defaultValue:l,startWithEditView:c,isPreviewFocusable:p=!0,submitOnBlur:h=!0,selectAllOnFocus:m=!0,placeholder:g,onEdit:x,finalFocusRef:y,...b}=e,w=fn(x),S=!!(c&&!i),[j,I]=d.useState(S),[M,_]=rf({defaultValue:l||"",value:s,onChange:t}),[E,D]=d.useState(M),R=d.useRef(null),A=d.useRef(null),O=d.useRef(null),T=d.useRef(null),K=d.useRef(null);eP({ref:R,enabled:j,elements:[T,K]});const L=!j&&!i;Sc(()=>{var J,ie;j&&((J=R.current)==null||J.focus(),m&&((ie=R.current)==null||ie.select()))},[]),Ea(()=>{var J,ie,de,me;if(!j){y?(J=y.current)==null||J.focus():(ie=O.current)==null||ie.focus();return}(de=R.current)==null||de.focus(),m&&((me=R.current)==null||me.select()),w==null||w()},[j,w,m]);const H=d.useCallback(()=>{L&&I(!0)},[L]),U=d.useCallback(()=>{D(M)},[M]),W=d.useCallback(()=>{I(!1),_(E),n==null||n(E),o==null||o(E)},[n,o,_,E]),z=d.useCallback(()=>{I(!1),D(M),r==null||r(M),o==null||o(E)},[M,r,o,E]);d.useEffect(()=>{if(j)return;const J=R.current;(J==null?void 0:J.ownerDocument.activeElement)===J&&(J==null||J.blur())},[j]);const Q=d.useCallback(J=>{_(J.currentTarget.value)},[_]),F=d.useCallback(J=>{const ie=J.key,me={Escape:W,Enter:Ce=>{!Ce.shiftKey&&!Ce.metaKey&&z()}}[ie];me&&(J.preventDefault(),me(J))},[W,z]),X=d.useCallback(J=>{const ie=J.key,me={Escape:W}[ie];me&&(J.preventDefault(),me(J))},[W]),Y=M.length===0,se=d.useCallback(J=>{var ie;if(!j)return;const de=J.currentTarget.ownerDocument,me=(ie=J.relatedTarget)!=null?ie:de.activeElement,Ce=RS(T.current,me),ve=RS(K.current,me);!Ce&&!ve&&(h?z():W())},[h,z,W,j]),ae=d.useCallback((J={},ie=null)=>{const de=L&&p?0:void 0;return{...J,ref:Pt(ie,A),children:Y?g:M,hidden:j,"aria-disabled":Po(i),tabIndex:de,onFocus:Be(J.onFocus,H,U)}},[i,j,L,p,Y,H,U,g,M]),oe=d.useCallback((J={},ie=null)=>({...J,hidden:!j,placeholder:g,ref:Pt(ie,R),disabled:i,"aria-disabled":Po(i),value:M,onBlur:Be(J.onBlur,se),onChange:Be(J.onChange,Q),onKeyDown:Be(J.onKeyDown,F),onFocus:Be(J.onFocus,U)}),[i,j,se,Q,F,U,g,M]),q=d.useCallback((J={},ie=null)=>({...J,hidden:!j,placeholder:g,ref:Pt(ie,R),disabled:i,"aria-disabled":Po(i),value:M,onBlur:Be(J.onBlur,se),onChange:Be(J.onChange,Q),onKeyDown:Be(J.onKeyDown,X),onFocus:Be(J.onFocus,U)}),[i,j,se,Q,X,U,g,M]),G=d.useCallback((J={},ie=null)=>({"aria-label":"Edit",...J,type:"button",onClick:Be(J.onClick,H),ref:Pt(ie,O),disabled:i}),[H,i]),te=d.useCallback((J={},ie=null)=>({...J,"aria-label":"Submit",ref:Pt(K,ie),type:"button",onClick:Be(J.onClick,z),disabled:i}),[z,i]),ce=d.useCallback((J={},ie=null)=>({"aria-label":"Cancel",id:"cancel",...J,ref:Pt(T,ie),type:"button",onClick:Be(J.onClick,W),disabled:i}),[W,i]);return{isEditing:j,isDisabled:i,isValueEmpty:Y,value:M,onEdit:H,onCancel:W,onSubmit:z,getPreviewProps:ae,getInputProps:oe,getTextareaProps:q,getEditButtonProps:G,getSubmitButtonProps:te,getCancelButtonProps:ce,htmlProps:b}}var og=je(function(t,n){const r=Kn("Editable",t),o=sn(t),{htmlProps:s,...i}=Pz(o),{isEditing:l,onSubmit:c,onCancel:p,onEdit:h}=i,m=Ze("chakra-editable",t.className),g=vb(t.children,{isEditing:l,onSubmit:c,onCancel:p,onEdit:h});return a.jsx(Cz,{value:i,children:a.jsx(yz,{value:r,children:a.jsx(we.div,{ref:n,...s,className:m,children:g})})})});og.displayName="Editable";function tP(){const{isEditing:e,getEditButtonProps:t,getCancelButtonProps:n,getSubmitButtonProps:r}=Gb();return{isEditing:e,getEditButtonProps:t,getCancelButtonProps:n,getSubmitButtonProps:r}}var nP={exports:{}},Ez="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Mz=Ez,Oz=Mz;function rP(){}function oP(){}oP.resetWarningCache=rP;var Dz=function(){function e(r,o,s,i,l,c){if(c!==Oz){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:oP,resetWarningCache:rP};return n.PropTypes=n,n};nP.exports=Dz();var Rz=nP.exports;const en=ou(Rz);var ox="data-focus-lock",sP="data-focus-lock-disabled",Az="data-no-focus-lock",Tz="data-autofocus-inside",Nz="data-no-autofocus";function $z(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Lz(e,t){var n=d.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function aP(e,t){return Lz(t||null,function(n){return e.forEach(function(r){return $z(r,n)})})}var $v={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},Is=function(){return Is=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Is.apply(this,arguments)};function iP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function au(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function l(h){try{p(r.next(h))}catch(m){i(m)}}function c(h){try{p(r.throw(h))}catch(m){i(m)}}function p(h){h.done?s(h.value):o(h.value).then(l,c)}p((r=r.apply(e,t||[])).next())})}function iu(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,i;return i={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(p){return function(h){return c([p,h])}}function c(p){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,p[0]&&(n=0)),n;)try{if(r=1,o&&(s=p[0]&2?o.return:p[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,p[1])).done)return s;switch(o=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(h){p=[6,h],o=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function AS(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(l){i={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s}function sx(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function lP(e){return e}function cP(e,t){t===void 0&&(t=lP);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var i=t(s,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(s){for(r=!0;n.length;){var i=n;n=[],i.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(s),i=n}var c=function(){var h=i;i=[],h.forEach(s)},p=function(){return Promise.resolve().then(c)};p(),n={push:function(h){i.push(h),p()},filter:function(h){return i=i.filter(h),n}}}};return o}function Kb(e,t){return t===void 0&&(t=lP),cP(e,t)}function uP(e){e===void 0&&(e={});var t=cP(null);return t.options=Is({async:!0,ssr:!1},e),t}var dP=function(e){var t=e.sideCar,n=iP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,Is({},n))};dP.isSideCarExport=!0;function zz(e,t){return e.useMedium(t),dP}var fP=Kb({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),pP=Kb(),Fz=Kb(),Bz=uP({async:!0}),Hz=[],qb=d.forwardRef(function(t,n){var r,o=d.useState(),s=o[0],i=o[1],l=d.useRef(),c=d.useRef(!1),p=d.useRef(null),h=t.children,m=t.disabled,g=t.noFocusGuards,x=t.persistentFocus,y=t.crossFrame,b=t.autoFocus;t.allowTextSelection;var w=t.group,S=t.className,j=t.whiteList,I=t.hasPositiveIndices,M=t.shards,_=M===void 0?Hz:M,E=t.as,D=E===void 0?"div":E,R=t.lockProps,A=R===void 0?{}:R,O=t.sideCar,T=t.returnFocus,K=t.focusOptions,L=t.onActivation,H=t.onDeactivation,U=d.useState({}),W=U[0],z=d.useCallback(function(){p.current=p.current||document&&document.activeElement,l.current&&L&&L(l.current),c.current=!0},[L]),Q=d.useCallback(function(){c.current=!1,H&&H(l.current)},[H]);d.useEffect(function(){m||(p.current=null)},[]);var F=d.useCallback(function(te){var ce=p.current;if(ce&&ce.focus){var J=typeof T=="function"?T(ce):T;if(J){var ie=typeof J=="object"?J:void 0;p.current=null,te?Promise.resolve().then(function(){return ce.focus(ie)}):ce.focus(ie)}}},[T]),X=d.useCallback(function(te){c.current&&fP.useMedium(te)},[]),Y=pP.useMedium,se=d.useCallback(function(te){l.current!==te&&(l.current=te,i(te))},[]),ae=mn((r={},r[sP]=m&&"disabled",r[ox]=w,r),A),oe=g!==!0,q=oe&&g!=="tail",G=aP([n,se]);return d.createElement(d.Fragment,null,oe&&[d.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:m?-1:0,style:$v}),I?d.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:m?-1:1,style:$v}):null],!m&&d.createElement(O,{id:W,sideCar:Bz,observed:s,disabled:m,persistentFocus:x,crossFrame:y,autoFocus:b,whiteList:j,shards:_,onActivation:z,onDeactivation:Q,returnFocus:F,focusOptions:K}),d.createElement(D,mn({ref:G},ae,{className:S,onBlur:Y,onFocus:X}),h),q&&d.createElement("div",{"data-focus-guard":!0,tabIndex:m?-1:0,style:$v}))});qb.propTypes={};qb.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const hP=qb;function ax(e,t){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},ax(e,t)}function Vz(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ax(e,t)}function Wz(e,t){function n(r){return r.displayName||r.name||"Component"}return function(o){var s=[],i;function l(){i=e(s.map(function(p){return p.props})),t(i)}var c=function(p){Vz(h,p);function h(){return p.apply(this,arguments)||this}h.peek=function(){return i};var m=h.prototype;return m.componentDidMount=function(){s.push(this),l()},m.componentDidUpdate=function(){l()},m.componentWillUnmount=function(){var x=s.indexOf(this);s.splice(x,1),l()},m.render=function(){return B.createElement(o,this.props)},h}(d.PureComponent);return IR(c,"displayName","SideEffect("+n(o)+")"),c}}var Vs=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},$h=function(e){return Array.isArray(e)?e:[e]},mP=function(e){return Array.isArray(e)?e[0]:e},Uz=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},gP=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},vP=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Gz=function(e,t){return!e||vP(e)||!Uz(e)&&t(gP(e))},xP=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Gz(t,xP.bind(void 0,e));return e.set(t,r),r},Kz=function(e,t){return e&&!vP(e)?Qz(e)?t(gP(e)):!1:!0},bP=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Kz(t,bP.bind(void 0,e));return e.set(t,r),r},yP=function(e){return e.dataset},qz=function(e){return e.tagName==="BUTTON"},CP=function(e){return e.tagName==="INPUT"},wP=function(e){return CP(e)&&e.type==="radio"},Xz=function(e){return!((CP(e)||qz(e))&&(e.type==="hidden"||e.disabled))},Qz=function(e){var t=e.getAttribute(Nz);return![!0,"true",""].includes(t)},Xb=function(e){var t;return!!(e&&(!((t=yP(e))===null||t===void 0)&&t.focusGuard))},Lh=function(e){return!Xb(e)},Yz=function(e){return!!e},Zz=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},SP=function(e,t,n){return Vs(e).map(function(r,o){return{node:r,index:o,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!t||r.tabIndex>=0}).sort(Zz)},Jz=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],Qb=Jz.join(","),eF="".concat(Qb,", [data-focus-guard]"),kP=function(e,t){return Vs((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?eF:Qb)?[r]:[],kP(r))},[])},tF=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?sg([e.contentDocument.body],t):[e]},sg=function(e,t){return e.reduce(function(n,r){var o,s=kP(r,t),i=(o=[]).concat.apply(o,s.map(function(l){return tF(l,t)}));return n.concat(i,r.parentNode?Vs(r.parentNode.querySelectorAll(Qb)).filter(function(l){return l===r}):[])},[])},nF=function(e){var t=e.querySelectorAll("[".concat(Tz,"]"));return Vs(t).map(function(n){return sg([n])}).reduce(function(n,r){return n.concat(r)},[])},Yb=function(e,t){return Vs(e).filter(function(n){return xP(t,n)}).filter(function(n){return Xz(n)})},TS=function(e,t){return t===void 0&&(t=new Map),Vs(e).filter(function(n){return bP(t,n)})},ix=function(e,t,n){return SP(Yb(sg(e,n),t),!0,n)},NS=function(e,t){return SP(Yb(sg(e),t),!1)},rF=function(e,t){return Yb(nF(e),t)},_c=function(e,t){return e.shadowRoot?_c(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:Vs(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var o=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return o?_c(o,t):!1}return _c(n,t)})},oF=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var o=r+1;o<n;o+=1){var s=e[r].compareDocumentPosition(e[o]);(s&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(s&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(i,l){return!t.has(l)})},jP=function(e){return e.parentNode?jP(e.parentNode):e},Zb=function(e){var t=$h(e);return t.filter(Boolean).reduce(function(n,r){var o=r.getAttribute(ox);return n.push.apply(n,o?oF(Vs(jP(r).querySelectorAll("[".concat(ox,'="').concat(o,'"]:not([').concat(sP,'="disabled"])')))):[r]),n},[])},sF=function(e){try{return e()}catch{return}},Sd=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?Sd(t.shadowRoot):t instanceof HTMLIFrameElement&&sF(function(){return t.contentWindow.document})?Sd(t.contentWindow.document):t}},aF=function(e,t){return e===t},iF=function(e,t){return!!Vs(e.querySelectorAll("iframe")).some(function(n){return aF(n,t)})},IP=function(e,t){return t===void 0&&(t=Sd(mP(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:Zb(e).some(function(n){return _c(n,t)||iF(n,t)})},lF=function(e){e===void 0&&(e=document);var t=Sd(e);return t?Vs(e.querySelectorAll("[".concat(Az,"]"))).some(function(n){return _c(n,t)}):!1},cF=function(e,t){return t.filter(wP).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},Jb=function(e,t){return wP(e)&&e.name?cF(e,t):e},uF=function(e){var t=new Set;return e.forEach(function(n){return t.add(Jb(n,e))}),e.filter(function(n){return t.has(n)})},$S=function(e){return e[0]&&e.length>1?Jb(e[0],e):e[0]},LS=function(e,t){return e.length>1?e.indexOf(Jb(e[t],e)):t},_P="NEW_FOCUS",dF=function(e,t,n,r){var o=e.length,s=e[0],i=e[o-1],l=Xb(n);if(!(n&&e.indexOf(n)>=0)){var c=n!==void 0?t.indexOf(n):-1,p=r?t.indexOf(r):c,h=r?e.indexOf(r):-1,m=c-p,g=t.indexOf(s),x=t.indexOf(i),y=uF(t),b=n!==void 0?y.indexOf(n):-1,w=b-(r?y.indexOf(r):c),S=LS(e,0),j=LS(e,o-1);if(c===-1||h===-1)return _P;if(!m&&h>=0)return h;if(c<=g&&l&&Math.abs(m)>1)return j;if(c>=x&&l&&Math.abs(m)>1)return S;if(m&&Math.abs(w)>1)return h;if(c<=g)return j;if(c>x)return S;if(m)return Math.abs(m)>1?h:(o+h+m)%o}},fF=function(e){return function(t){var n,r=(n=yP(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},pF=function(e,t,n){var r=e.map(function(s){var i=s.node;return i}),o=TS(r.filter(fF(n)));return o&&o.length?$S(o):$S(TS(t))},lx=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&lx(e.parentNode.host||e.parentNode,t),t},Lv=function(e,t){for(var n=lx(e),r=lx(t),o=0;o<n.length;o+=1){var s=n[o];if(r.indexOf(s)>=0)return s}return!1},PP=function(e,t,n){var r=$h(e),o=$h(t),s=r[0],i=!1;return o.filter(Boolean).forEach(function(l){i=Lv(i||l,l)||i,n.filter(Boolean).forEach(function(c){var p=Lv(s,c);p&&(!i||_c(p,i)?i=p:i=Lv(p,i))})}),i},hF=function(e,t){return e.reduce(function(n,r){return n.concat(rF(r,t))},[])},mF=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(Yz)},gF=function(e,t){var n=Sd($h(e).length>0?document:mP(e).ownerDocument),r=Zb(e).filter(Lh),o=PP(n||e,e,r),s=new Map,i=NS(r,s),l=ix(r,s).filter(function(x){var y=x.node;return Lh(y)});if(!(!l[0]&&(l=i,!l[0]))){var c=NS([o],s).map(function(x){var y=x.node;return y}),p=mF(c,l),h=p.map(function(x){var y=x.node;return y}),m=dF(h,c,n,t);if(m===_P){var g=pF(i,h,hF(r,s));if(g)return{node:g};console.warn("focus-lock: cannot find any node to move focus into");return}return m===void 0?m:p[m]}},vF=function(e){var t=Zb(e).filter(Lh),n=PP(e,e,t),r=new Map,o=ix([n],r,!0),s=ix(t,r).filter(function(i){var l=i.node;return Lh(l)}).map(function(i){var l=i.node;return l});return o.map(function(i){var l=i.node,c=i.index;return{node:l,index:c,lockItem:s.indexOf(l)>=0,guard:Xb(l)}})},xF=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},zv=0,Fv=!1,EP=function(e,t,n){n===void 0&&(n={});var r=gF(e,t);if(!Fv&&r){if(zv>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Fv=!0,setTimeout(function(){Fv=!1},1);return}zv++,xF(r.node,n.focusOptions),zv--}};function ey(e){setTimeout(e,1)}var bF=function(){return document&&document.activeElement===document.body},yF=function(){return bF()||lF()},Pc=null,xc=null,Ec=null,kd=!1,CF=function(){return!0},wF=function(t){return(Pc.whiteList||CF)(t)},SF=function(t,n){Ec={observerNode:t,portaledElement:n}},kF=function(t){return Ec&&Ec.portaledElement===t};function zS(e,t,n,r){var o=null,s=e;do{var i=r[s];if(i.guard)i.node.dataset.focusAutoGuard&&(o=i);else if(i.lockItem){if(s!==e)return;o=null}else break}while((s+=n)!==t);o&&(o.node.tabIndex=0)}var jF=function(t){return t&&"current"in t?t.current:t},IF=function(t){return t?!!kd:kd==="meanwhile"},_F=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},PF=function(t,n){return n.some(function(r){return _F(t,r,r)})},zh=function(){var t=!1;if(Pc){var n=Pc,r=n.observed,o=n.persistentFocus,s=n.autoFocus,i=n.shards,l=n.crossFrame,c=n.focusOptions,p=r||Ec&&Ec.portaledElement,h=document&&document.activeElement;if(p){var m=[p].concat(i.map(jF).filter(Boolean));if((!h||wF(h))&&(o||IF(l)||!yF()||!xc&&s)&&(p&&!(IP(m)||h&&PF(h,m)||kF(h))&&(document&&!xc&&h&&!s?(h.blur&&h.blur(),document.body.focus()):(t=EP(m,xc,{focusOptions:c}),Ec={})),kd=!1,xc=document&&document.activeElement),document){var g=document&&document.activeElement,x=vF(m),y=x.map(function(b){var w=b.node;return w}).indexOf(g);y>-1&&(x.filter(function(b){var w=b.guard,S=b.node;return w&&S.dataset.focusAutoGuard}).forEach(function(b){var w=b.node;return w.removeAttribute("tabIndex")}),zS(y,x.length,1,x),zS(y,-1,-1,x))}}}return t},MP=function(t){zh()&&t&&(t.stopPropagation(),t.preventDefault())},ty=function(){return ey(zh)},EF=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||SF(r,n)},MF=function(){return null},OP=function(){kd="just",ey(function(){kd="meanwhile"})},OF=function(){document.addEventListener("focusin",MP),document.addEventListener("focusout",ty),window.addEventListener("blur",OP)},DF=function(){document.removeEventListener("focusin",MP),document.removeEventListener("focusout",ty),window.removeEventListener("blur",OP)};function RF(e){return e.filter(function(t){var n=t.disabled;return!n})}function AF(e){var t=e.slice(-1)[0];t&&!Pc&&OF();var n=Pc,r=n&&t&&t.id===n.id;Pc=t,n&&!r&&(n.onDeactivation(),e.filter(function(o){var s=o.id;return s===n.id}).length||n.returnFocus(!t)),t?(xc=null,(!r||n.observed!==t.observed)&&t.onActivation(),zh(),ey(zh)):(DF(),xc=null)}fP.assignSyncMedium(EF);pP.assignMedium(ty);Fz.assignMedium(function(e){return e({moveFocusInside:EP,focusInside:IP})});const TF=Wz(RF,AF)(MF);var DP=d.forwardRef(function(t,n){return d.createElement(hP,mn({sideCar:TF,ref:n},t))}),RP=hP.propTypes||{};RP.sideCar;B$(RP,["sideCar"]);DP.propTypes={};const FS=DP;function AP(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function ny(e){var t;if(!AP(e))return!1;const n=(t=e.ownerDocument.defaultView)!=null?t:window;return e instanceof n.HTMLElement}function NF(e){var t,n;return(n=(t=TP(e))==null?void 0:t.defaultView)!=null?n:window}function TP(e){return AP(e)?e.ownerDocument:document}function $F(e){return TP(e).activeElement}function LF(e){const t=e.ownerDocument.defaultView||window,{overflow:n,overflowX:r,overflowY:o}=t.getComputedStyle(e);return/auto|scroll|overlay|hidden/.test(n+o+r)}function zF(e){return e.localName==="html"?e:e.assignedSlot||e.parentElement||e.ownerDocument.documentElement}function NP(e){return["html","body","#document"].includes(e.localName)?e.ownerDocument.body:ny(e)&&LF(e)?e:NP(zF(e))}var $P=e=>e.hasAttribute("tabindex"),FF=e=>$P(e)&&e.tabIndex===-1;function BF(e){return!!e.getAttribute("disabled")||!!e.getAttribute("aria-disabled")}function LP(e){return e.parentElement&&LP(e.parentElement)?!0:e.hidden}function HF(e){const t=e.getAttribute("contenteditable");return t!=="false"&&t!=null}function zP(e){if(!ny(e)||LP(e)||BF(e))return!1;const{localName:t}=e;if(["input","select","textarea","button"].indexOf(t)>=0)return!0;const r={a:()=>e.hasAttribute("href"),audio:()=>e.hasAttribute("controls"),video:()=>e.hasAttribute("controls")};return t in r?r[t]():HF(e)?!0:$P(e)}function VF(e){return e?ny(e)&&zP(e)&&!FF(e):!1}var WF=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],UF=WF.join(),GF=e=>e.offsetWidth>0&&e.offsetHeight>0;function FP(e){const t=Array.from(e.querySelectorAll(UF));return t.unshift(e),t.filter(n=>zP(n)&&GF(n))}var BS,KF=(BS=FS.default)!=null?BS:FS,BP=e=>{const{initialFocusRef:t,finalFocusRef:n,contentRef:r,restoreFocus:o,children:s,isDisabled:i,autoFocus:l,persistentFocus:c,lockFocusAcrossFrames:p}=e,h=d.useCallback(()=>{t!=null&&t.current?t.current.focus():r!=null&&r.current&&FP(r.current).length===0&&requestAnimationFrame(()=>{var y;(y=r.current)==null||y.focus()})},[t,r]),m=d.useCallback(()=>{var x;(x=n==null?void 0:n.current)==null||x.focus()},[n]),g=o&&!n;return a.jsx(KF,{crossFrame:p,persistentFocus:c,autoFocus:l,disabled:i,onActivation:h,onDeactivation:m,returnFocus:g,children:s})};BP.displayName="FocusLock";var qF=aL?d.useLayoutEffect:d.useEffect;function cx(e,t=[]){const n=d.useRef(e);return qF(()=>{n.current=e}),d.useCallback((...r)=>{var o;return(o=n.current)==null?void 0:o.call(n,...r)},t)}function XF(e,t,n,r){const o=cx(t);return d.useEffect(()=>{var s;const i=(s=Mw(n))!=null?s:document;if(t)return i.addEventListener(e,o,r),()=>{i.removeEventListener(e,o,r)}},[e,n,r,o,t]),()=>{var s;((s=Mw(n))!=null?s:document).removeEventListener(e,o,r)}}function QF(e,t){const n=d.useId();return d.useMemo(()=>e||[t,n].filter(Boolean).join("-"),[e,t,n])}function YF(e,t){const n=e!==void 0;return[n,n&&typeof e<"u"?e:t]}function Br(e={}){const{onClose:t,onOpen:n,isOpen:r,id:o}=e,s=cx(n),i=cx(t),[l,c]=d.useState(e.defaultIsOpen||!1),[p,h]=YF(r,l),m=QF(o,"disclosure"),g=d.useCallback(()=>{p||c(!1),i==null||i()},[p,i]),x=d.useCallback(()=>{p||c(!0),s==null||s()},[p,s]),y=d.useCallback(()=>{(h?g:x)()},[h,x,g]);return{isOpen:!!h,onOpen:x,onClose:g,onToggle:y,isControlled:p,getButtonProps:(b={})=>({...b,"aria-expanded":h,"aria-controls":m,onClick:_R(b.onClick,y)}),getDisclosureProps:(b={})=>({...b,hidden:!h,id:m})}}var[ZF,JF]=Vt({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),HP=je(function(t,n){const r=Kn("Input",t),{children:o,className:s,...i}=sn(t),l=Ze("chakra-input__group",s),c={},p=tg(o),h=r.field;p.forEach(g=>{var x,y;r&&(h&&g.type.id==="InputLeftElement"&&(c.paddingStart=(x=h.height)!=null?x:h.h),h&&g.type.id==="InputRightElement"&&(c.paddingEnd=(y=h.height)!=null?y:h.h),g.type.id==="InputRightAddon"&&(c.borderEndRadius=0),g.type.id==="InputLeftAddon"&&(c.borderStartRadius=0))});const m=p.map(g=>{var x,y;const b=R_({size:((x=g.props)==null?void 0:x.size)||t.size,variant:((y=g.props)==null?void 0:y.variant)||t.variant});return g.type.id!=="Input"?d.cloneElement(g,b):d.cloneElement(g,Object.assign(b,c,g.props))});return a.jsx(we.div,{className:l,ref:n,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...r.group},"data-group":!0,...i,children:a.jsx(ZF,{value:r,children:m})})});HP.displayName="InputGroup";var eB=we("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),ag=je(function(t,n){var r,o;const{placement:s="left",...i}=t,l=JF(),c=l.field,h={[s==="left"?"insetStart":"insetEnd"]:"0",width:(r=c==null?void 0:c.height)!=null?r:c==null?void 0:c.h,height:(o=c==null?void 0:c.height)!=null?o:c==null?void 0:c.h,fontSize:c==null?void 0:c.fontSize,...l.element};return a.jsx(eB,{ref:n,__css:h,...i})});ag.id="InputElement";ag.displayName="InputElement";var VP=je(function(t,n){const{className:r,...o}=t,s=Ze("chakra-input__left-element",r);return a.jsx(ag,{ref:n,placement:"left",className:s,...o})});VP.id="InputLeftElement";VP.displayName="InputLeftElement";var ry=je(function(t,n){const{className:r,...o}=t,s=Ze("chakra-input__right-element",r);return a.jsx(ag,{ref:n,placement:"right",className:s,...o})});ry.id="InputRightElement";ry.displayName="InputRightElement";var ig=je(function(t,n){const{htmlSize:r,...o}=t,s=Kn("Input",o),i=sn(o),l=Bb(i),c=Ze("chakra-input",t.className);return a.jsx(we.input,{size:r,...l,__css:s.field,ref:n,className:c})});ig.displayName="Input";ig.id="Input";var lg=je(function(t,n){const r=bi("Link",t),{className:o,isExternal:s,...i}=sn(t);return a.jsx(we.a,{target:s?"_blank":void 0,rel:s?"noopener":void 0,ref:n,className:Ze("chakra-link",o),...i,__css:r})});lg.displayName="Link";var[tB,WP]=Vt({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),oy=je(function(t,n){const r=Kn("List",t),{children:o,styleType:s="none",stylePosition:i,spacing:l,...c}=sn(t),p=tg(o),m=l?{["& > *:not(style) ~ *:not(style)"]:{mt:l}}:{};return a.jsx(tB,{value:r,children:a.jsx(we.ul,{ref:n,listStyleType:s,listStylePosition:i,role:"list",__css:{...r.container,...m},...c,children:p})})});oy.displayName="List";var UP=je((e,t)=>{const{as:n,...r}=e;return a.jsx(oy,{ref:t,as:"ol",styleType:"decimal",marginStart:"1em",...r})});UP.displayName="OrderedList";var cf=je(function(t,n){const{as:r,...o}=t;return a.jsx(oy,{ref:n,as:"ul",styleType:"initial",marginStart:"1em",...o})});cf.displayName="UnorderedList";var Jr=je(function(t,n){const r=WP();return a.jsx(we.li,{ref:n,...t,__css:r.item})});Jr.displayName="ListItem";var nB=je(function(t,n){const r=WP();return a.jsx($n,{ref:n,role:"presentation",...t,__css:r.icon})});nB.displayName="ListIcon";var pi=je(function(t,n){const{templateAreas:r,gap:o,rowGap:s,columnGap:i,column:l,row:c,autoFlow:p,autoRows:h,templateRows:m,autoColumns:g,templateColumns:x,...y}=t,b={display:"grid",gridTemplateAreas:r,gridGap:o,gridRowGap:s,gridColumnGap:i,gridAutoColumns:g,gridColumn:l,gridRow:c,gridAutoFlow:p,gridAutoRows:h,gridTemplateRows:m,gridTemplateColumns:x};return a.jsx(we.div,{ref:n,__css:b,...y})});pi.displayName="Grid";function GP(e,t){return Array.isArray(e)?e.map(n=>n===null?null:t(n)):$1(e)?Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{}):e!=null?t(e):null}var Oa=we("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Oa.displayName="Spacer";var KP=e=>a.jsx(we.div,{className:"chakra-stack__item",...e,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...e.__css}});KP.displayName="StackItem";function rB(e){const{spacing:t,direction:n}=e,r={column:{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":GP(n,o=>r[o])}}var sy=je((e,t)=>{const{isInline:n,direction:r,align:o,justify:s,spacing:i="0.5rem",wrap:l,children:c,divider:p,className:h,shouldWrapChildren:m,...g}=e,x=n?"row":r??"column",y=d.useMemo(()=>rB({spacing:i,direction:x}),[i,x]),b=!!p,w=!m&&!b,S=d.useMemo(()=>{const I=tg(c);return w?I:I.map((M,_)=>{const E=typeof M.key<"u"?M.key:_,D=_+1===I.length,A=m?a.jsx(KP,{children:M},E):M;if(!b)return A;const O=d.cloneElement(p,{__css:y}),T=D?null:O;return a.jsxs(d.Fragment,{children:[A,T]},E)})},[p,y,b,w,m,c]),j=Ze("chakra-stack",h);return a.jsx(we.div,{ref:t,display:"flex",alignItems:o,justifyContent:s,flexDirection:x,flexWrap:l,gap:b?void 0:i,className:j,...g,children:S})});sy.displayName="Stack";var qP=je((e,t)=>a.jsx(sy,{align:"center",...e,direction:"column",ref:t}));qP.displayName="VStack";var cg=je((e,t)=>a.jsx(sy,{align:"center",...e,direction:"row",ref:t}));cg.displayName="HStack";function HS(e){return GP(e,t=>t==="auto"?"auto":`span ${t}/span ${t}`)}var jd=je(function(t,n){const{area:r,colSpan:o,colStart:s,colEnd:i,rowEnd:l,rowSpan:c,rowStart:p,...h}=t,m=R_({gridArea:r,gridColumn:HS(o),gridRow:HS(c),gridColumnStart:s,gridColumnEnd:i,gridRowStart:p,gridRowEnd:l});return a.jsx(we.div,{ref:n,__css:m,...h})});jd.displayName="GridItem";var Ws=je(function(t,n){const r=bi("Badge",t),{className:o,...s}=sn(t);return a.jsx(we.span,{ref:n,className:Ze("chakra-badge",t.className),...s,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...r}})});Ws.displayName="Badge";var Jn=je(function(t,n){const{borderLeftWidth:r,borderBottomWidth:o,borderTopWidth:s,borderRightWidth:i,borderWidth:l,borderStyle:c,borderColor:p,...h}=bi("Divider",t),{className:m,orientation:g="horizontal",__css:x,...y}=sn(t),b={vertical:{borderLeftWidth:r||i||l||"1px",height:"100%"},horizontal:{borderBottomWidth:o||s||l||"1px",width:"100%"}};return a.jsx(we.hr,{ref:n,"aria-orientation":g,...y,__css:{...h,border:"0",borderColor:p,borderStyle:c,...b[g],...x},className:Ze("chakra-divider",m)})});Jn.displayName="Divider";function oB(e){const{key:t}=e;return t.length===1||t.length>1&&/[^a-zA-Z0-9]/.test(t)}function sB(e={}){const{timeout:t=300,preventDefault:n=()=>!0}=e,[r,o]=d.useState([]),s=d.useRef(),i=()=>{s.current&&(clearTimeout(s.current),s.current=null)},l=()=>{i(),s.current=setTimeout(()=>{o([]),s.current=null},t)};d.useEffect(()=>i,[]);function c(p){return h=>{if(h.key==="Backspace"){const m=[...r];m.pop(),o(m);return}if(oB(h)){const m=r.concat(h.key);n(h)&&(h.preventDefault(),h.stopPropagation()),o(m),p(m.join("")),l()}}}return c}function aB(e,t,n,r){if(t==null)return r;if(!r)return e.find(i=>n(i).toLowerCase().startsWith(t.toLowerCase()));const o=e.filter(s=>n(s).toLowerCase().startsWith(t.toLowerCase()));if(o.length>0){let s;return o.includes(r)?(s=o.indexOf(r)+1,s===o.length&&(s=0),o[s]):(s=e.indexOf(o[0]),e[s])}return r}function iB(){const e=d.useRef(new Map),t=e.current,n=d.useCallback((o,s,i,l)=>{e.current.set(i,{type:s,el:o,options:l}),o.addEventListener(s,i,l)},[]),r=d.useCallback((o,s,i,l)=>{o.removeEventListener(s,i,l),e.current.delete(i)},[]);return d.useEffect(()=>()=>{t.forEach((o,s)=>{r(o.el,o.type,s,o.options)})},[r,t]),{add:n,remove:r}}function Bv(e){const t=e.target,{tagName:n,isContentEditable:r}=t;return n!=="INPUT"&&n!=="TEXTAREA"&&r!==!0}function XP(e={}){const{ref:t,isDisabled:n,isFocusable:r,clickOnEnter:o=!0,clickOnSpace:s=!0,onMouseDown:i,onMouseUp:l,onClick:c,onKeyDown:p,onKeyUp:h,tabIndex:m,onMouseOver:g,onMouseLeave:x,...y}=e,[b,w]=d.useState(!0),[S,j]=d.useState(!1),I=iB(),M=z=>{z&&z.tagName!=="BUTTON"&&w(!1)},_=b?m:m||0,E=n&&!r,D=d.useCallback(z=>{if(n){z.stopPropagation(),z.preventDefault();return}z.currentTarget.focus(),c==null||c(z)},[n,c]),R=d.useCallback(z=>{S&&Bv(z)&&(z.preventDefault(),z.stopPropagation(),j(!1),I.remove(document,"keyup",R,!1))},[S,I]),A=d.useCallback(z=>{if(p==null||p(z),n||z.defaultPrevented||z.metaKey||!Bv(z.nativeEvent)||b)return;const Q=o&&z.key==="Enter";s&&z.key===" "&&(z.preventDefault(),j(!0)),Q&&(z.preventDefault(),z.currentTarget.click()),I.add(document,"keyup",R,!1)},[n,b,p,o,s,I,R]),O=d.useCallback(z=>{if(h==null||h(z),n||z.defaultPrevented||z.metaKey||!Bv(z.nativeEvent)||b)return;s&&z.key===" "&&(z.preventDefault(),j(!1),z.currentTarget.click())},[s,b,n,h]),T=d.useCallback(z=>{z.button===0&&(j(!1),I.remove(document,"mouseup",T,!1))},[I]),K=d.useCallback(z=>{if(z.button!==0)return;if(n){z.stopPropagation(),z.preventDefault();return}b||j(!0),z.currentTarget.focus({preventScroll:!0}),I.add(document,"mouseup",T,!1),i==null||i(z)},[n,b,i,I,T]),L=d.useCallback(z=>{z.button===0&&(b||j(!1),l==null||l(z))},[l,b]),H=d.useCallback(z=>{if(n){z.preventDefault();return}g==null||g(z)},[n,g]),U=d.useCallback(z=>{S&&(z.preventDefault(),j(!1)),x==null||x(z)},[S,x]),W=Pt(t,M);return b?{...y,ref:W,type:"button","aria-disabled":E?void 0:n,disabled:E,onClick:D,onMouseDown:i,onMouseUp:l,onKeyUp:h,onKeyDown:p,onMouseOver:g,onMouseLeave:x}:{...y,ref:W,role:"button","data-active":ft(S),"aria-disabled":n?"true":void 0,tabIndex:E?void 0:_,onClick:D,onMouseDown:K,onMouseUp:L,onKeyUp:O,onKeyDown:A,onMouseOver:H,onMouseLeave:U}}function lB(e){const t=e.current;if(!t)return!1;const n=$F(t);return!n||t.contains(n)?!1:!!VF(n)}function QP(e,t){const{shouldFocus:n,visible:r,focusRef:o}=t,s=n&&!r;Ea(()=>{if(!s||lB(e))return;const i=(o==null?void 0:o.current)||e.current;let l;if(i)return l=requestAnimationFrame(()=>{i.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(l)}},[s,e,o])}var cB={preventScroll:!0,shouldFocus:!1};function uB(e,t=cB){const{focusRef:n,preventScroll:r,shouldFocus:o,visible:s}=t,i=dB(e)?e.current:e,l=o&&s,c=d.useRef(l),p=d.useRef(s);Sc(()=>{!p.current&&s&&(c.current=l),p.current=s},[s,l]);const h=d.useCallback(()=>{if(!(!s||!i||!c.current)&&(c.current=!1,!i.contains(document.activeElement)))if(n!=null&&n.current)requestAnimationFrame(()=>{var m;(m=n.current)==null||m.focus({preventScroll:r})});else{const m=FP(i);m.length>0&&requestAnimationFrame(()=>{m[0].focus({preventScroll:r})})}},[s,r,i,n]);Ea(()=>{h()},[h]),Qi(i,"transitionend",h)}function dB(e){return"current"in e}var Zl=(e,t)=>({var:e,varRef:t?`var(${e}, ${t})`:`var(${e})`}),Ln={arrowShadowColor:Zl("--popper-arrow-shadow-color"),arrowSize:Zl("--popper-arrow-size","8px"),arrowSizeHalf:Zl("--popper-arrow-size-half"),arrowBg:Zl("--popper-arrow-bg"),transformOrigin:Zl("--popper-transform-origin"),arrowOffset:Zl("--popper-arrow-offset")};function fB(e){if(e.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(e.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(e.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(e.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}var pB={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},hB=e=>pB[e],VS={scroll:!0,resize:!0};function mB(e){let t;return typeof e=="object"?t={enabled:!0,options:{...VS,...e}}:t={enabled:e,options:VS},t}var gB={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:e})=>{e.styles.popper.width=`${e.rects.reference.width}px`},effect:({state:e})=>()=>{const t=e.elements.reference;e.elements.popper.style.width=`${t.offsetWidth}px`}},vB={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:e})=>{WS(e)},effect:({state:e})=>()=>{WS(e)}},WS=e=>{e.elements.popper.style.setProperty(Ln.transformOrigin.var,hB(e.placement))},xB={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:e})=>{bB(e)}},bB=e=>{var t;if(!e.placement)return;const n=yB(e.placement);if((t=e.elements)!=null&&t.arrow&&n){Object.assign(e.elements.arrow.style,{[n.property]:n.value,width:Ln.arrowSize.varRef,height:Ln.arrowSize.varRef,zIndex:-1});const r={[Ln.arrowSizeHalf.var]:`calc(${Ln.arrowSize.varRef} / 2 - 1px)`,[Ln.arrowOffset.var]:`calc(${Ln.arrowSizeHalf.varRef} * -1)`};for(const o in r)e.elements.arrow.style.setProperty(o,r[o])}},yB=e=>{if(e.startsWith("top"))return{property:"bottom",value:Ln.arrowOffset.varRef};if(e.startsWith("bottom"))return{property:"top",value:Ln.arrowOffset.varRef};if(e.startsWith("left"))return{property:"right",value:Ln.arrowOffset.varRef};if(e.startsWith("right"))return{property:"left",value:Ln.arrowOffset.varRef}},CB={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:e})=>{US(e)},effect:({state:e})=>()=>{US(e)}},US=e=>{if(!e.elements.arrow)return;const t=e.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!t)return;const n=fB(e.placement);n&&t.style.setProperty("--popper-arrow-default-shadow",n),Object.assign(t.style,{transform:"rotate(45deg)",background:Ln.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},wB={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},SB={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function kB(e,t="ltr"){var n,r;const o=((n=wB[e])==null?void 0:n[t])||e;return t==="ltr"?o:(r=SB[e])!=null?r:o}var Nr="top",Oo="bottom",Do="right",$r="left",ay="auto",uf=[Nr,Oo,Do,$r],Vc="start",Id="end",jB="clippingParents",YP="viewport",Gu="popper",IB="reference",GS=uf.reduce(function(e,t){return e.concat([t+"-"+Vc,t+"-"+Id])},[]),ZP=[].concat(uf,[ay]).reduce(function(e,t){return e.concat([t,t+"-"+Vc,t+"-"+Id])},[]),_B="beforeRead",PB="read",EB="afterRead",MB="beforeMain",OB="main",DB="afterMain",RB="beforeWrite",AB="write",TB="afterWrite",NB=[_B,PB,EB,MB,OB,DB,RB,AB,TB];function Rs(e){return e?(e.nodeName||"").toLowerCase():null}function so(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function cl(e){var t=so(e).Element;return e instanceof t||e instanceof Element}function Eo(e){var t=so(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function iy(e){if(typeof ShadowRoot>"u")return!1;var t=so(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function $B(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},s=t.elements[n];!Eo(s)||!Rs(s)||(Object.assign(s.style,r),Object.keys(o).forEach(function(i){var l=o[i];l===!1?s.removeAttribute(i):s.setAttribute(i,l===!0?"":l)}))})}function LB(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],s=t.attributes[r]||{},i=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=i.reduce(function(c,p){return c[p]="",c},{});!Eo(o)||!Rs(o)||(Object.assign(o.style,l),Object.keys(s).forEach(function(c){o.removeAttribute(c)}))})}}const zB={name:"applyStyles",enabled:!0,phase:"write",fn:$B,effect:LB,requires:["computeStyles"]};function Ds(e){return e.split("-")[0]}var Yi=Math.max,Fh=Math.min,Wc=Math.round;function ux(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function JP(){return!/^((?!chrome|android).)*safari/i.test(ux())}function Uc(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,s=1;t&&Eo(e)&&(o=e.offsetWidth>0&&Wc(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Wc(r.height)/e.offsetHeight||1);var i=cl(e)?so(e):window,l=i.visualViewport,c=!JP()&&n,p=(r.left+(c&&l?l.offsetLeft:0))/o,h=(r.top+(c&&l?l.offsetTop:0))/s,m=r.width/o,g=r.height/s;return{width:m,height:g,top:h,right:p+m,bottom:h+g,left:p,x:p,y:h}}function ly(e){var t=Uc(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function e3(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&iy(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ba(e){return so(e).getComputedStyle(e)}function FB(e){return["table","td","th"].indexOf(Rs(e))>=0}function yi(e){return((cl(e)?e.ownerDocument:e.document)||window.document).documentElement}function ug(e){return Rs(e)==="html"?e:e.assignedSlot||e.parentNode||(iy(e)?e.host:null)||yi(e)}function KS(e){return!Eo(e)||ba(e).position==="fixed"?null:e.offsetParent}function BB(e){var t=/firefox/i.test(ux()),n=/Trident/i.test(ux());if(n&&Eo(e)){var r=ba(e);if(r.position==="fixed")return null}var o=ug(e);for(iy(o)&&(o=o.host);Eo(o)&&["html","body"].indexOf(Rs(o))<0;){var s=ba(o);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return o;o=o.parentNode}return null}function df(e){for(var t=so(e),n=KS(e);n&&FB(n)&&ba(n).position==="static";)n=KS(n);return n&&(Rs(n)==="html"||Rs(n)==="body"&&ba(n).position==="static")?t:n||BB(e)||t}function cy(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function pd(e,t,n){return Yi(e,Fh(t,n))}function HB(e,t,n){var r=pd(e,t,n);return r>n?n:r}function t3(){return{top:0,right:0,bottom:0,left:0}}function n3(e){return Object.assign({},t3(),e)}function r3(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var VB=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,n3(typeof t!="number"?t:r3(t,uf))};function WB(e){var t,n=e.state,r=e.name,o=e.options,s=n.elements.arrow,i=n.modifiersData.popperOffsets,l=Ds(n.placement),c=cy(l),p=[$r,Do].indexOf(l)>=0,h=p?"height":"width";if(!(!s||!i)){var m=VB(o.padding,n),g=ly(s),x=c==="y"?Nr:$r,y=c==="y"?Oo:Do,b=n.rects.reference[h]+n.rects.reference[c]-i[c]-n.rects.popper[h],w=i[c]-n.rects.reference[c],S=df(s),j=S?c==="y"?S.clientHeight||0:S.clientWidth||0:0,I=b/2-w/2,M=m[x],_=j-g[h]-m[y],E=j/2-g[h]/2+I,D=pd(M,E,_),R=c;n.modifiersData[r]=(t={},t[R]=D,t.centerOffset=D-E,t)}}function UB(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||e3(t.elements.popper,o)&&(t.elements.arrow=o))}const GB={name:"arrow",enabled:!0,phase:"main",fn:WB,effect:UB,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Gc(e){return e.split("-")[1]}var KB={top:"auto",right:"auto",bottom:"auto",left:"auto"};function qB(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:Wc(n*o)/o||0,y:Wc(r*o)/o||0}}function qS(e){var t,n=e.popper,r=e.popperRect,o=e.placement,s=e.variation,i=e.offsets,l=e.position,c=e.gpuAcceleration,p=e.adaptive,h=e.roundOffsets,m=e.isFixed,g=i.x,x=g===void 0?0:g,y=i.y,b=y===void 0?0:y,w=typeof h=="function"?h({x,y:b}):{x,y:b};x=w.x,b=w.y;var S=i.hasOwnProperty("x"),j=i.hasOwnProperty("y"),I=$r,M=Nr,_=window;if(p){var E=df(n),D="clientHeight",R="clientWidth";if(E===so(n)&&(E=yi(n),ba(E).position!=="static"&&l==="absolute"&&(D="scrollHeight",R="scrollWidth")),E=E,o===Nr||(o===$r||o===Do)&&s===Id){M=Oo;var A=m&&E===_&&_.visualViewport?_.visualViewport.height:E[D];b-=A-r.height,b*=c?1:-1}if(o===$r||(o===Nr||o===Oo)&&s===Id){I=Do;var O=m&&E===_&&_.visualViewport?_.visualViewport.width:E[R];x-=O-r.width,x*=c?1:-1}}var T=Object.assign({position:l},p&&KB),K=h===!0?qB({x,y:b},so(n)):{x,y:b};if(x=K.x,b=K.y,c){var L;return Object.assign({},T,(L={},L[M]=j?"0":"",L[I]=S?"0":"",L.transform=(_.devicePixelRatio||1)<=1?"translate("+x+"px, "+b+"px)":"translate3d("+x+"px, "+b+"px, 0)",L))}return Object.assign({},T,(t={},t[M]=j?b+"px":"",t[I]=S?x+"px":"",t.transform="",t))}function XB(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,s=n.adaptive,i=s===void 0?!0:s,l=n.roundOffsets,c=l===void 0?!0:l,p={placement:Ds(t.placement),variation:Gc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,qS(Object.assign({},p,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,qS(Object.assign({},p,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const QB={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:XB,data:{}};var Mp={passive:!0};function YB(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,s=o===void 0?!0:o,i=r.resize,l=i===void 0?!0:i,c=so(t.elements.popper),p=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&p.forEach(function(h){h.addEventListener("scroll",n.update,Mp)}),l&&c.addEventListener("resize",n.update,Mp),function(){s&&p.forEach(function(h){h.removeEventListener("scroll",n.update,Mp)}),l&&c.removeEventListener("resize",n.update,Mp)}}const ZB={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:YB,data:{}};var JB={left:"right",right:"left",bottom:"top",top:"bottom"};function ph(e){return e.replace(/left|right|bottom|top/g,function(t){return JB[t]})}var eH={start:"end",end:"start"};function XS(e){return e.replace(/start|end/g,function(t){return eH[t]})}function uy(e){var t=so(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function dy(e){return Uc(yi(e)).left+uy(e).scrollLeft}function tH(e,t){var n=so(e),r=yi(e),o=n.visualViewport,s=r.clientWidth,i=r.clientHeight,l=0,c=0;if(o){s=o.width,i=o.height;var p=JP();(p||!p&&t==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}return{width:s,height:i,x:l+dy(e),y:c}}function nH(e){var t,n=yi(e),r=uy(e),o=(t=e.ownerDocument)==null?void 0:t.body,s=Yi(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=Yi(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-r.scrollLeft+dy(e),c=-r.scrollTop;return ba(o||n).direction==="rtl"&&(l+=Yi(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:i,x:l,y:c}}function fy(e){var t=ba(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function o3(e){return["html","body","#document"].indexOf(Rs(e))>=0?e.ownerDocument.body:Eo(e)&&fy(e)?e:o3(ug(e))}function hd(e,t){var n;t===void 0&&(t=[]);var r=o3(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),s=so(r),i=o?[s].concat(s.visualViewport||[],fy(r)?r:[]):r,l=t.concat(i);return o?l:l.concat(hd(ug(i)))}function dx(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function rH(e,t){var n=Uc(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function QS(e,t,n){return t===YP?dx(tH(e,n)):cl(t)?rH(t,n):dx(nH(yi(e)))}function oH(e){var t=hd(ug(e)),n=["absolute","fixed"].indexOf(ba(e).position)>=0,r=n&&Eo(e)?df(e):e;return cl(r)?t.filter(function(o){return cl(o)&&e3(o,r)&&Rs(o)!=="body"}):[]}function sH(e,t,n,r){var o=t==="clippingParents"?oH(e):[].concat(t),s=[].concat(o,[n]),i=s[0],l=s.reduce(function(c,p){var h=QS(e,p,r);return c.top=Yi(h.top,c.top),c.right=Fh(h.right,c.right),c.bottom=Fh(h.bottom,c.bottom),c.left=Yi(h.left,c.left),c},QS(e,i,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function s3(e){var t=e.reference,n=e.element,r=e.placement,o=r?Ds(r):null,s=r?Gc(r):null,i=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,c;switch(o){case Nr:c={x:i,y:t.y-n.height};break;case Oo:c={x:i,y:t.y+t.height};break;case Do:c={x:t.x+t.width,y:l};break;case $r:c={x:t.x-n.width,y:l};break;default:c={x:t.x,y:t.y}}var p=o?cy(o):null;if(p!=null){var h=p==="y"?"height":"width";switch(s){case Vc:c[p]=c[p]-(t[h]/2-n[h]/2);break;case Id:c[p]=c[p]+(t[h]/2-n[h]/2);break}}return c}function _d(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,s=n.strategy,i=s===void 0?e.strategy:s,l=n.boundary,c=l===void 0?jB:l,p=n.rootBoundary,h=p===void 0?YP:p,m=n.elementContext,g=m===void 0?Gu:m,x=n.altBoundary,y=x===void 0?!1:x,b=n.padding,w=b===void 0?0:b,S=n3(typeof w!="number"?w:r3(w,uf)),j=g===Gu?IB:Gu,I=e.rects.popper,M=e.elements[y?j:g],_=sH(cl(M)?M:M.contextElement||yi(e.elements.popper),c,h,i),E=Uc(e.elements.reference),D=s3({reference:E,element:I,strategy:"absolute",placement:o}),R=dx(Object.assign({},I,D)),A=g===Gu?R:E,O={top:_.top-A.top+S.top,bottom:A.bottom-_.bottom+S.bottom,left:_.left-A.left+S.left,right:A.right-_.right+S.right},T=e.modifiersData.offset;if(g===Gu&&T){var K=T[o];Object.keys(O).forEach(function(L){var H=[Do,Oo].indexOf(L)>=0?1:-1,U=[Nr,Oo].indexOf(L)>=0?"y":"x";O[L]+=K[U]*H})}return O}function aH(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,s=n.rootBoundary,i=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,p=c===void 0?ZP:c,h=Gc(r),m=h?l?GS:GS.filter(function(y){return Gc(y)===h}):uf,g=m.filter(function(y){return p.indexOf(y)>=0});g.length===0&&(g=m);var x=g.reduce(function(y,b){return y[b]=_d(e,{placement:b,boundary:o,rootBoundary:s,padding:i})[Ds(b)],y},{});return Object.keys(x).sort(function(y,b){return x[y]-x[b]})}function iH(e){if(Ds(e)===ay)return[];var t=ph(e);return[XS(e),t,XS(t)]}function lH(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,s=o===void 0?!0:o,i=n.altAxis,l=i===void 0?!0:i,c=n.fallbackPlacements,p=n.padding,h=n.boundary,m=n.rootBoundary,g=n.altBoundary,x=n.flipVariations,y=x===void 0?!0:x,b=n.allowedAutoPlacements,w=t.options.placement,S=Ds(w),j=S===w,I=c||(j||!y?[ph(w)]:iH(w)),M=[w].concat(I).reduce(function(oe,q){return oe.concat(Ds(q)===ay?aH(t,{placement:q,boundary:h,rootBoundary:m,padding:p,flipVariations:y,allowedAutoPlacements:b}):q)},[]),_=t.rects.reference,E=t.rects.popper,D=new Map,R=!0,A=M[0],O=0;O<M.length;O++){var T=M[O],K=Ds(T),L=Gc(T)===Vc,H=[Nr,Oo].indexOf(K)>=0,U=H?"width":"height",W=_d(t,{placement:T,boundary:h,rootBoundary:m,altBoundary:g,padding:p}),z=H?L?Do:$r:L?Oo:Nr;_[U]>E[U]&&(z=ph(z));var Q=ph(z),F=[];if(s&&F.push(W[K]<=0),l&&F.push(W[z]<=0,W[Q]<=0),F.every(function(oe){return oe})){A=T,R=!1;break}D.set(T,F)}if(R)for(var X=y?3:1,Y=function(q){var G=M.find(function(te){var ce=D.get(te);if(ce)return ce.slice(0,q).every(function(J){return J})});if(G)return A=G,"break"},se=X;se>0;se--){var ae=Y(se);if(ae==="break")break}t.placement!==A&&(t.modifiersData[r]._skip=!0,t.placement=A,t.reset=!0)}}const cH={name:"flip",enabled:!0,phase:"main",fn:lH,requiresIfExists:["offset"],data:{_skip:!1}};function YS(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ZS(e){return[Nr,Do,Oo,$r].some(function(t){return e[t]>=0})}function uH(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,s=t.modifiersData.preventOverflow,i=_d(t,{elementContext:"reference"}),l=_d(t,{altBoundary:!0}),c=YS(i,r),p=YS(l,o,s),h=ZS(c),m=ZS(p);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:p,isReferenceHidden:h,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":m})}const dH={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:uH};function fH(e,t,n){var r=Ds(e),o=[$r,Nr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,i=s[0],l=s[1];return i=i||0,l=(l||0)*o,[$r,Do].indexOf(r)>=0?{x:l,y:i}:{x:i,y:l}}function pH(e){var t=e.state,n=e.options,r=e.name,o=n.offset,s=o===void 0?[0,0]:o,i=ZP.reduce(function(h,m){return h[m]=fH(m,t.rects,s),h},{}),l=i[t.placement],c=l.x,p=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=p),t.modifiersData[r]=i}const hH={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:pH};function mH(e){var t=e.state,n=e.name;t.modifiersData[n]=s3({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const gH={name:"popperOffsets",enabled:!0,phase:"read",fn:mH,data:{}};function vH(e){return e==="x"?"y":"x"}function xH(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,s=o===void 0?!0:o,i=n.altAxis,l=i===void 0?!1:i,c=n.boundary,p=n.rootBoundary,h=n.altBoundary,m=n.padding,g=n.tether,x=g===void 0?!0:g,y=n.tetherOffset,b=y===void 0?0:y,w=_d(t,{boundary:c,rootBoundary:p,padding:m,altBoundary:h}),S=Ds(t.placement),j=Gc(t.placement),I=!j,M=cy(S),_=vH(M),E=t.modifiersData.popperOffsets,D=t.rects.reference,R=t.rects.popper,A=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,O=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,K={x:0,y:0};if(E){if(s){var L,H=M==="y"?Nr:$r,U=M==="y"?Oo:Do,W=M==="y"?"height":"width",z=E[M],Q=z+w[H],F=z-w[U],X=x?-R[W]/2:0,Y=j===Vc?D[W]:R[W],se=j===Vc?-R[W]:-D[W],ae=t.elements.arrow,oe=x&&ae?ly(ae):{width:0,height:0},q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:t3(),G=q[H],te=q[U],ce=pd(0,D[W],oe[W]),J=I?D[W]/2-X-ce-G-O.mainAxis:Y-ce-G-O.mainAxis,ie=I?-D[W]/2+X+ce+te+O.mainAxis:se+ce+te+O.mainAxis,de=t.elements.arrow&&df(t.elements.arrow),me=de?M==="y"?de.clientTop||0:de.clientLeft||0:0,Ce=(L=T==null?void 0:T[M])!=null?L:0,ve=z+J-Ce-me,pe=z+ie-Ce,Re=pd(x?Fh(Q,ve):Q,z,x?Yi(F,pe):F);E[M]=Re,K[M]=Re-z}if(l){var Pe,Ve=M==="x"?Nr:$r,lt=M==="x"?Oo:Do,Ke=E[_],Et=_==="y"?"height":"width",et=Ke+w[Ve],ot=Ke-w[lt],ye=[Nr,$r].indexOf(S)!==-1,Ae=(Pe=T==null?void 0:T[_])!=null?Pe:0,dt=ye?et:Ke-D[Et]-R[Et]-Ae+O.altAxis,yt=ye?Ke+D[Et]+R[Et]-Ae-O.altAxis:ot,be=x&&ye?HB(dt,Ke,yt):pd(x?dt:et,Ke,x?yt:ot);E[_]=be,K[_]=be-Ke}t.modifiersData[r]=K}}const bH={name:"preventOverflow",enabled:!0,phase:"main",fn:xH,requiresIfExists:["offset"]};function yH(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function CH(e){return e===so(e)||!Eo(e)?uy(e):yH(e)}function wH(e){var t=e.getBoundingClientRect(),n=Wc(t.width)/e.offsetWidth||1,r=Wc(t.height)/e.offsetHeight||1;return n!==1||r!==1}function SH(e,t,n){n===void 0&&(n=!1);var r=Eo(t),o=Eo(t)&&wH(t),s=yi(t),i=Uc(e,o,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Rs(t)!=="body"||fy(s))&&(l=CH(t)),Eo(t)?(c=Uc(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=dy(s))),{x:i.left+l.scrollLeft-c.x,y:i.top+l.scrollTop-c.y,width:i.width,height:i.height}}function kH(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function o(s){n.add(s.name);var i=[].concat(s.requires||[],s.requiresIfExists||[]);i.forEach(function(l){if(!n.has(l)){var c=t.get(l);c&&o(c)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||o(s)}),r}function jH(e){var t=kH(e);return NB.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function IH(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function _H(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var JS={placement:"bottom",modifiers:[],strategy:"absolute"};function e4(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function PH(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,s=o===void 0?JS:o;return function(l,c,p){p===void 0&&(p=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},JS,s),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},m=[],g=!1,x={state:h,setOptions:function(S){var j=typeof S=="function"?S(h.options):S;b(),h.options=Object.assign({},s,h.options,j),h.scrollParents={reference:cl(l)?hd(l):l.contextElement?hd(l.contextElement):[],popper:hd(c)};var I=jH(_H([].concat(r,h.options.modifiers)));return h.orderedModifiers=I.filter(function(M){return M.enabled}),y(),x.update()},forceUpdate:function(){if(!g){var S=h.elements,j=S.reference,I=S.popper;if(e4(j,I)){h.rects={reference:SH(j,df(I),h.options.strategy==="fixed"),popper:ly(I)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(O){return h.modifiersData[O.name]=Object.assign({},O.data)});for(var M=0;M<h.orderedModifiers.length;M++){if(h.reset===!0){h.reset=!1,M=-1;continue}var _=h.orderedModifiers[M],E=_.fn,D=_.options,R=D===void 0?{}:D,A=_.name;typeof E=="function"&&(h=E({state:h,options:R,name:A,instance:x})||h)}}}},update:IH(function(){return new Promise(function(w){x.forceUpdate(),w(h)})}),destroy:function(){b(),g=!0}};if(!e4(l,c))return x;x.setOptions(p).then(function(w){!g&&p.onFirstUpdate&&p.onFirstUpdate(w)});function y(){h.orderedModifiers.forEach(function(w){var S=w.name,j=w.options,I=j===void 0?{}:j,M=w.effect;if(typeof M=="function"){var _=M({state:h,name:S,instance:x,options:I}),E=function(){};m.push(_||E)}})}function b(){m.forEach(function(w){return w()}),m=[]}return x}}var EH=[ZB,gH,QB,zB,hH,cH,bH,GB,dH],MH=PH({defaultModifiers:EH});function py(e={}){const{enabled:t=!0,modifiers:n,placement:r="bottom",strategy:o="absolute",arrowPadding:s=8,eventListeners:i=!0,offset:l,gutter:c=8,flip:p=!0,boundary:h="clippingParents",preventOverflow:m=!0,matchWidth:g,direction:x="ltr"}=e,y=d.useRef(null),b=d.useRef(null),w=d.useRef(null),S=kB(r,x),j=d.useRef(()=>{}),I=d.useCallback(()=>{var O;!t||!y.current||!b.current||((O=j.current)==null||O.call(j),w.current=MH(y.current,b.current,{placement:S,modifiers:[CB,xB,vB,{...gB,enabled:!!g},{name:"eventListeners",...mB(i)},{name:"arrow",options:{padding:s}},{name:"offset",options:{offset:l??[0,c]}},{name:"flip",enabled:!!p,options:{padding:8}},{name:"preventOverflow",enabled:!!m,options:{boundary:h}},...n??[]],strategy:o}),w.current.forceUpdate(),j.current=w.current.destroy)},[S,t,n,g,i,s,l,c,p,m,h,o]);d.useEffect(()=>()=>{var O;!y.current&&!b.current&&((O=w.current)==null||O.destroy(),w.current=null)},[]);const M=d.useCallback(O=>{y.current=O,I()},[I]),_=d.useCallback((O={},T=null)=>({...O,ref:Pt(M,T)}),[M]),E=d.useCallback(O=>{b.current=O,I()},[I]),D=d.useCallback((O={},T=null)=>({...O,ref:Pt(E,T),style:{...O.style,position:o,minWidth:g?void 0:"max-content",inset:"0 auto auto 0"}}),[o,E,g]),R=d.useCallback((O={},T=null)=>{const{size:K,shadowColor:L,bg:H,style:U,...W}=O;return{...W,ref:T,"data-popper-arrow":"",style:OH(O)}},[]),A=d.useCallback((O={},T=null)=>({...O,ref:T,"data-popper-arrow-inner":""}),[]);return{update(){var O;(O=w.current)==null||O.update()},forceUpdate(){var O;(O=w.current)==null||O.forceUpdate()},transformOrigin:Ln.transformOrigin.varRef,referenceRef:M,popperRef:E,getPopperProps:D,getArrowProps:R,getArrowInnerProps:A,getReferenceProps:_}}function OH(e){const{size:t,shadowColor:n,bg:r,style:o}=e,s={...o,position:"absolute"};return t&&(s["--popper-arrow-size"]=t),n&&(s["--popper-arrow-shadow-color"]=n),r&&(s["--popper-arrow-bg"]=r),s}function hy(e={}){const{onClose:t,onOpen:n,isOpen:r,id:o}=e,s=fn(n),i=fn(t),[l,c]=d.useState(e.defaultIsOpen||!1),p=r!==void 0?r:l,h=r!==void 0,m=d.useId(),g=o??`disclosure-${m}`,x=d.useCallback(()=>{h||c(!1),i==null||i()},[h,i]),y=d.useCallback(()=>{h||c(!0),s==null||s()},[h,s]),b=d.useCallback(()=>{p?x():y()},[p,y,x]);function w(j={}){return{...j,"aria-expanded":p,"aria-controls":g,onClick(I){var M;(M=j.onClick)==null||M.call(j,I),b()}}}function S(j={}){return{...j,hidden:!p,id:g}}return{isOpen:p,onOpen:y,onClose:x,onToggle:b,isControlled:h,getButtonProps:w,getDisclosureProps:S}}function DH(e){const{ref:t,handler:n,enabled:r=!0}=e,o=fn(n),i=d.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;d.useEffect(()=>{if(!r)return;const l=m=>{Hv(m,t)&&(i.isPointerDown=!0)},c=m=>{if(i.ignoreEmulatedMouseEvents){i.ignoreEmulatedMouseEvents=!1;return}i.isPointerDown&&n&&Hv(m,t)&&(i.isPointerDown=!1,o(m))},p=m=>{i.ignoreEmulatedMouseEvents=!0,n&&i.isPointerDown&&Hv(m,t)&&(i.isPointerDown=!1,o(m))},h=a3(t.current);return h.addEventListener("mousedown",l,!0),h.addEventListener("mouseup",c,!0),h.addEventListener("touchstart",l,!0),h.addEventListener("touchend",p,!0),()=>{h.removeEventListener("mousedown",l,!0),h.removeEventListener("mouseup",c,!0),h.removeEventListener("touchstart",l,!0),h.removeEventListener("touchend",p,!0)}},[n,t,o,i,r])}function Hv(e,t){var n;const r=e.target;return r&&!a3(r).contains(r)?!1:!((n=t.current)!=null&&n.contains(r))}function a3(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function i3(e){const{isOpen:t,ref:n}=e,[r,o]=d.useState(t),[s,i]=d.useState(!1);return d.useEffect(()=>{s||(o(t),i(!0))},[t,s,r]),Qi(()=>n.current,"animationend",()=>{o(t)}),{present:!(t?!1:!r),onComplete(){var c;const p=NF(n.current),h=new p.CustomEvent("animationend",{bubbles:!0});(c=n.current)==null||c.dispatchEvent(h)}}}function my(e){const{wasSelected:t,enabled:n,isSelected:r,mode:o="unmount"}=e;return!!(!n||r||o==="keepMounted"&&t)}var[RH,AH,TH,NH]=Lb(),[$H,ff]=Vt({strict:!1,name:"MenuContext"});function LH(e,...t){const n=d.useId(),r=e||n;return d.useMemo(()=>t.map(o=>`${o}-${r}`),[r,t])}function l3(e){var t;return(t=e==null?void 0:e.ownerDocument)!=null?t:document}function t4(e){return l3(e).activeElement===e}function zH(e={}){const{id:t,closeOnSelect:n=!0,closeOnBlur:r=!0,initialFocusRef:o,autoSelect:s=!0,isLazy:i,isOpen:l,defaultIsOpen:c,onClose:p,onOpen:h,placement:m="bottom-start",lazyBehavior:g="unmount",direction:x,computePositionOnMount:y=!1,...b}=e,w=d.useRef(null),S=d.useRef(null),j=TH(),I=d.useCallback(()=>{requestAnimationFrame(()=>{var ae;(ae=w.current)==null||ae.focus({preventScroll:!1})})},[]),M=d.useCallback(()=>{const ae=setTimeout(()=>{var oe;if(o)(oe=o.current)==null||oe.focus();else{const q=j.firstEnabled();q&&L(q.index)}});Q.current.add(ae)},[j,o]),_=d.useCallback(()=>{const ae=setTimeout(()=>{const oe=j.lastEnabled();oe&&L(oe.index)});Q.current.add(ae)},[j]),E=d.useCallback(()=>{h==null||h(),s?M():I()},[s,M,I,h]),{isOpen:D,onOpen:R,onClose:A,onToggle:O}=hy({isOpen:l,defaultIsOpen:c,onClose:p,onOpen:E});DH({enabled:D&&r,ref:w,handler:ae=>{var oe;(oe=S.current)!=null&&oe.contains(ae.target)||A()}});const T=py({...b,enabled:D||y,placement:m,direction:x}),[K,L]=d.useState(-1);Ea(()=>{D||L(-1)},[D]),QP(w,{focusRef:S,visible:D,shouldFocus:!0});const H=i3({isOpen:D,ref:w}),[U,W]=LH(t,"menu-button","menu-list"),z=d.useCallback(()=>{R(),I()},[R,I]),Q=d.useRef(new Set([]));GH(()=>{Q.current.forEach(ae=>clearTimeout(ae)),Q.current.clear()});const F=d.useCallback(()=>{R(),M()},[M,R]),X=d.useCallback(()=>{R(),_()},[R,_]),Y=d.useCallback(()=>{var ae,oe;const q=l3(w.current),G=(ae=w.current)==null?void 0:ae.contains(q.activeElement);if(!(D&&!G))return;const ce=(oe=j.item(K))==null?void 0:oe.node;ce==null||ce.focus()},[D,K,j]),se=d.useRef(null);return{openAndFocusMenu:z,openAndFocusFirstItem:F,openAndFocusLastItem:X,onTransitionEnd:Y,unstable__animationState:H,descendants:j,popper:T,buttonId:U,menuId:W,forceUpdate:T.forceUpdate,orientation:"vertical",isOpen:D,onToggle:O,onOpen:R,onClose:A,menuRef:w,buttonRef:S,focusedIndex:K,closeOnSelect:n,closeOnBlur:r,autoSelect:s,setFocusedIndex:L,isLazy:i,lazyBehavior:g,initialFocusRef:o,rafId:se}}function FH(e={},t=null){const n=ff(),{onToggle:r,popper:o,openAndFocusFirstItem:s,openAndFocusLastItem:i}=n,l=d.useCallback(c=>{const p=c.key,m={Enter:s,ArrowDown:s,ArrowUp:i}[p];m&&(c.preventDefault(),c.stopPropagation(),m(c))},[s,i]);return{...e,ref:Pt(n.buttonRef,t,o.referenceRef),id:n.buttonId,"data-active":ft(n.isOpen),"aria-expanded":n.isOpen,"aria-haspopup":"menu","aria-controls":n.menuId,onClick:Be(e.onClick,r),onKeyDown:Be(e.onKeyDown,l)}}function fx(e){var t;return WH(e)&&!!((t=e==null?void 0:e.getAttribute("role"))!=null&&t.startsWith("menuitem"))}function BH(e={},t=null){const n=ff();if(!n)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:r,setFocusedIndex:o,menuRef:s,isOpen:i,onClose:l,menuId:c,isLazy:p,lazyBehavior:h,unstable__animationState:m}=n,g=AH(),x=sB({preventDefault:S=>S.key!==" "&&fx(S.target)}),y=d.useCallback(S=>{if(!S.currentTarget.contains(S.target))return;const j=S.key,M={Tab:E=>E.preventDefault(),Escape:l,ArrowDown:()=>{const E=g.nextEnabled(r);E&&o(E.index)},ArrowUp:()=>{const E=g.prevEnabled(r);E&&o(E.index)}}[j];if(M){S.preventDefault(),M(S);return}const _=x(E=>{const D=aB(g.values(),E,R=>{var A,O;return(O=(A=R==null?void 0:R.node)==null?void 0:A.textContent)!=null?O:""},g.item(r));if(D){const R=g.indexOf(D.node);o(R)}});fx(S.target)&&_(S)},[g,r,x,l,o]),b=d.useRef(!1);i&&(b.current=!0);const w=my({wasSelected:b.current,enabled:p,mode:h,isSelected:m.present});return{...e,ref:Pt(s,t),children:w?e.children:null,tabIndex:-1,role:"menu",id:c,style:{...e.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:Be(e.onKeyDown,y)}}function HH(e={}){const{popper:t,isOpen:n}=ff();return t.getPopperProps({...e,style:{visibility:n?"visible":"hidden",...e.style}})}function VH(e={},t=null){const{onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onClick:s,onFocus:i,isDisabled:l,isFocusable:c,closeOnSelect:p,type:h,...m}=e,g=ff(),{setFocusedIndex:x,focusedIndex:y,closeOnSelect:b,onClose:w,menuRef:S,isOpen:j,menuId:I,rafId:M}=g,_=d.useRef(null),E=`${I}-menuitem-${d.useId()}`,{index:D,register:R}=NH({disabled:l&&!c}),A=d.useCallback(z=>{n==null||n(z),!l&&x(D)},[x,D,l,n]),O=d.useCallback(z=>{r==null||r(z),_.current&&!t4(_.current)&&A(z)},[A,r]),T=d.useCallback(z=>{o==null||o(z),!l&&x(-1)},[x,l,o]),K=d.useCallback(z=>{s==null||s(z),fx(z.currentTarget)&&(p??b)&&w()},[w,s,b,p]),L=d.useCallback(z=>{i==null||i(z),x(D)},[x,i,D]),H=D===y,U=l&&!c;Ea(()=>{j&&(H&&!U&&_.current?(M.current&&cancelAnimationFrame(M.current),M.current=requestAnimationFrame(()=>{var z;(z=_.current)==null||z.focus(),M.current=null})):S.current&&!t4(S.current)&&S.current.focus({preventScroll:!0}))},[H,U,S,j]);const W=XP({onClick:K,onFocus:L,onMouseEnter:A,onMouseMove:O,onMouseLeave:T,ref:Pt(R,_,t),isDisabled:l,isFocusable:c});return{...m,...W,type:h??W.type,id:E,role:"menuitem",tabIndex:H?0:-1}}function WH(e){var t;if(!UH(e))return!1;const n=(t=e.ownerDocument.defaultView)!=null?t:window;return e instanceof n.HTMLElement}function UH(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}function GH(e,t=[]){return d.useEffect(()=>()=>e(),t)}var[KH,lu]=Vt({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),dg=e=>{const{children:t}=e,n=Kn("Menu",e),r=sn(e),{direction:o}=Qd(),{descendants:s,...i}=zH({...r,direction:o}),l=d.useMemo(()=>i,[i]),{isOpen:c,onClose:p,forceUpdate:h}=l;return a.jsx(RH,{value:s,children:a.jsx($H,{value:l,children:a.jsx(KH,{value:n,children:vb(t,{isOpen:c,onClose:p,forceUpdate:h})})})})};dg.displayName="Menu";var c3=je((e,t)=>{const n=lu();return a.jsx(we.span,{ref:t,...e,__css:n.command,className:"chakra-menu__command"})});c3.displayName="MenuCommand";var qH=je((e,t)=>{const{type:n,...r}=e,o=lu(),s=r.as||n?n??void 0:"button",i=d.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...o.item}),[o.item]);return a.jsx(we.button,{ref:t,type:s,...r,__css:i})}),u3=e=>{const{className:t,children:n,...r}=e,o=lu(),s=d.Children.only(n),i=d.isValidElement(s)?d.cloneElement(s,{focusable:"false","aria-hidden":!0,className:Ze("chakra-menu__icon",s.props.className)}):null,l=Ze("chakra-menu__icon-wrapper",t);return a.jsx(we.span,{className:l,...r,__css:o.icon,children:i})};u3.displayName="MenuIcon";var tn=je((e,t)=>{const{icon:n,iconSpacing:r="0.75rem",command:o,commandSpacing:s="0.75rem",children:i,...l}=e,c=VH(l,t),h=n||o?a.jsx("span",{style:{pointerEvents:"none",flex:1},children:i}):i;return a.jsxs(qH,{...c,className:Ze("chakra-menu__menuitem",c.className),children:[n&&a.jsx(u3,{fontSize:"0.8em",marginEnd:r,children:n}),h,o&&a.jsx(c3,{marginStart:s,children:o})]})});tn.displayName="MenuItem";var XH={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},QH=we(En.div),ul=je(function(t,n){var r,o;const{rootProps:s,motionProps:i,...l}=t,{isOpen:c,onTransitionEnd:p,unstable__animationState:h}=ff(),m=BH(l,n),g=HH(s),x=lu();return a.jsx(we.div,{...g,__css:{zIndex:(o=t.zIndex)!=null?o:(r=x.list)==null?void 0:r.zIndex},children:a.jsx(QH,{variants:XH,initial:!1,animate:c?"enter":"exit",__css:{outline:0,...x.list},...i,className:Ze("chakra-menu__menu-list",m.className),...m,onUpdate:p,onAnimationComplete:Um(h.onComplete,m.onAnimationComplete)})})});ul.displayName="MenuList";var Pd=je((e,t)=>{const{title:n,children:r,className:o,...s}=e,i=Ze("chakra-menu__group__title",o),l=lu();return a.jsxs("div",{ref:t,className:"chakra-menu__group",role:"group",children:[n&&a.jsx(we.p,{className:i,...s,__css:l.groupTitle,children:n}),r]})});Pd.displayName="MenuGroup";var YH=je((e,t)=>{const n=lu();return a.jsx(we.button,{ref:t,...e,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...n.button}})}),fg=je((e,t)=>{const{children:n,as:r,...o}=e,s=FH(o,t),i=r||YH;return a.jsx(i,{...s,className:Ze("chakra-menu__menu-button",e.className),children:a.jsx(we.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:e.children})})});fg.displayName="MenuButton";var ZH={slideInBottom:{...Y1,custom:{offsetY:16,reverse:!0}},slideInRight:{...Y1,custom:{offsetX:16,reverse:!0}},scale:{...B5,custom:{initialScale:.95,reverse:!0}},none:{}},JH=we(En.section),eV=e=>ZH[e||"none"],d3=d.forwardRef((e,t)=>{const{preset:n,motionProps:r=eV(n),...o}=e;return a.jsx(JH,{ref:t,...r,...o})});d3.displayName="ModalTransition";var tV=Object.defineProperty,nV=(e,t,n)=>t in e?tV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rV=(e,t,n)=>(nV(e,typeof t!="symbol"?t+"":t,n),n),oV=class{constructor(){rV(this,"modals"),this.modals=new Map}add(e){return this.modals.set(e,this.modals.size+1),this.modals.size}remove(e){this.modals.delete(e)}isTopModal(e){return e?this.modals.get(e)===this.modals.size:!1}},px=new oV;function f3(e,t){const[n,r]=d.useState(0);return d.useEffect(()=>{const o=e.current;if(o){if(t){const s=px.add(o);r(s)}return()=>{px.remove(o),r(0)}}},[t,e]),n}var sV=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Jl=new WeakMap,Op=new WeakMap,Dp={},Vv=0,p3=function(e){return e&&(e.host||p3(e.parentNode))},aV=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=p3(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},iV=function(e,t,n,r){var o=aV(t,Array.isArray(e)?e:[e]);Dp[n]||(Dp[n]=new WeakMap);var s=Dp[n],i=[],l=new Set,c=new Set(o),p=function(m){!m||l.has(m)||(l.add(m),p(m.parentNode))};o.forEach(p);var h=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(g){if(l.has(g))h(g);else{var x=g.getAttribute(r),y=x!==null&&x!=="false",b=(Jl.get(g)||0)+1,w=(s.get(g)||0)+1;Jl.set(g,b),s.set(g,w),i.push(g),b===1&&y&&Op.set(g,!0),w===1&&g.setAttribute(n,"true"),y||g.setAttribute(r,"true")}})};return h(t),l.clear(),Vv++,function(){i.forEach(function(m){var g=Jl.get(m)-1,x=s.get(m)-1;Jl.set(m,g),s.set(m,x),g||(Op.has(m)||m.removeAttribute(r),Op.delete(m)),x||m.removeAttribute(n)}),Vv--,Vv||(Jl=new WeakMap,Jl=new WeakMap,Op=new WeakMap,Dp={})}},lV=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||sV(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),iV(r,o,n,"aria-hidden")):function(){return null}};function cV(e){const{isOpen:t,onClose:n,id:r,closeOnOverlayClick:o=!0,closeOnEsc:s=!0,useInert:i=!0,onOverlayClick:l,onEsc:c}=e,p=d.useRef(null),h=d.useRef(null),[m,g,x]=dV(r,"chakra-modal","chakra-modal--header","chakra-modal--body");uV(p,t&&i);const y=f3(p,t),b=d.useRef(null),w=d.useCallback(A=>{b.current=A.target},[]),S=d.useCallback(A=>{A.key==="Escape"&&(A.stopPropagation(),s&&(n==null||n()),c==null||c())},[s,n,c]),[j,I]=d.useState(!1),[M,_]=d.useState(!1),E=d.useCallback((A={},O=null)=>({role:"dialog",...A,ref:Pt(O,p),id:m,tabIndex:-1,"aria-modal":!0,"aria-labelledby":j?g:void 0,"aria-describedby":M?x:void 0,onClick:Be(A.onClick,T=>T.stopPropagation())}),[x,M,m,g,j]),D=d.useCallback(A=>{A.stopPropagation(),b.current===A.target&&px.isTopModal(p.current)&&(o&&(n==null||n()),l==null||l())},[n,o,l]),R=d.useCallback((A={},O=null)=>({...A,ref:Pt(O,h),onClick:Be(A.onClick,D),onKeyDown:Be(A.onKeyDown,S),onMouseDown:Be(A.onMouseDown,w)}),[S,w,D]);return{isOpen:t,onClose:n,headerId:g,bodyId:x,setBodyMounted:_,setHeaderMounted:I,dialogRef:p,overlayRef:h,getDialogProps:E,getDialogContainerProps:R,index:y}}function uV(e,t){const n=e.current;d.useEffect(()=>{if(!(!e.current||!t))return lV(e.current)},[t,e,n])}function dV(e,...t){const n=d.useId(),r=e||n;return d.useMemo(()=>t.map(o=>`${o}-${r}`),[r,t])}var[fV,cu]=Vt({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[pV,dl]=Vt({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),fl=e=>{const t={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0,...e},{portalProps:n,children:r,autoFocus:o,trapFocus:s,initialFocusRef:i,finalFocusRef:l,returnFocusOnClose:c,blockScrollOnMount:p,allowPinchZoom:h,preserveScrollBarGap:m,motionPreset:g,lockFocusAcrossFrames:x,onCloseComplete:y}=t,b=Kn("Modal",t),S={...cV(t),autoFocus:o,trapFocus:s,initialFocusRef:i,finalFocusRef:l,returnFocusOnClose:c,blockScrollOnMount:p,allowPinchZoom:h,preserveScrollBarGap:m,motionPreset:g,lockFocusAcrossFrames:x};return a.jsx(pV,{value:S,children:a.jsx(fV,{value:b,children:a.jsx(pr,{onExitComplete:y,children:S.isOpen&&a.jsx(su,{...n,children:r})})})})};fl.displayName="Modal";var hh="right-scroll-bar-position",mh="width-before-scroll-bar",hV="with-scroll-bars-hidden",mV="--removed-body-scroll-bar-size",h3=uP(),Wv=function(){},pg=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:Wv,onWheelCapture:Wv,onTouchMoveCapture:Wv}),o=r[0],s=r[1],i=e.forwardProps,l=e.children,c=e.className,p=e.removeScrollBar,h=e.enabled,m=e.shards,g=e.sideCar,x=e.noIsolation,y=e.inert,b=e.allowPinchZoom,w=e.as,S=w===void 0?"div":w,j=e.gapMode,I=iP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=g,_=aP([n,t]),E=Is(Is({},I),o);return d.createElement(d.Fragment,null,h&&d.createElement(M,{sideCar:h3,removeScrollBar:p,shards:m,noIsolation:x,inert:y,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:j}),i?d.cloneElement(d.Children.only(l),Is(Is({},E),{ref:_})):d.createElement(S,Is({},E,{className:c,ref:_}),l))});pg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pg.classNames={fullWidth:mh,zeroRight:hh};var n4,gV=function(){if(n4)return n4;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vV(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=gV();return t&&e.setAttribute("nonce",t),e}function xV(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function bV(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var yV=function(){var e=0,t=null;return{add:function(n){e==0&&(t=vV())&&(xV(t,n),bV(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},CV=function(){var e=yV();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},m3=function(){var e=CV(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},wV={left:0,top:0,right:0,gap:0},Uv=function(e){return parseInt(e||"",10)||0},SV=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Uv(n),Uv(r),Uv(o)]},kV=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return wV;var t=SV(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},jV=m3(),IV=function(e,t,n,r){var o=e.left,s=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(hV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hh,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(mh,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(hh," .").concat(hh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(mh," .").concat(mh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(mV,": ").concat(l,`px;
  }
`)},_V=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r,s=d.useMemo(function(){return kV(o)},[o]);return d.createElement(jV,{styles:IV(s,!t,o,n?"":"!important")})},hx=!1;if(typeof window<"u")try{var Rp=Object.defineProperty({},"passive",{get:function(){return hx=!0,!0}});window.addEventListener("test",Rp,Rp),window.removeEventListener("test",Rp,Rp)}catch{hx=!1}var ec=hx?{passive:!1}:!1,PV=function(e){return e.tagName==="TEXTAREA"},g3=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!PV(e)&&n[t]==="visible")},EV=function(e){return g3(e,"overflowY")},MV=function(e){return g3(e,"overflowX")},r4=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=v3(e,r);if(o){var s=x3(e,r),i=s[1],l=s[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},OV=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},DV=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},v3=function(e,t){return e==="v"?EV(t):MV(t)},x3=function(e,t){return e==="v"?OV(t):DV(t)},RV=function(e,t){return e==="h"&&t==="rtl"?-1:1},AV=function(e,t,n,r,o){var s=RV(e,window.getComputedStyle(t).direction),i=s*r,l=n.target,c=t.contains(l),p=!1,h=i>0,m=0,g=0;do{var x=x3(e,l),y=x[0],b=x[1],w=x[2],S=b-w-s*y;(y||S)&&v3(e,l)&&(m+=S,g+=y),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&(o&&m===0||!o&&i>m)||!h&&(o&&g===0||!o&&-i>g))&&(p=!0),p},Ap=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},o4=function(e){return[e.deltaX,e.deltaY]},s4=function(e){return e&&"current"in e?e.current:e},TV=function(e,t){return e[0]===t[0]&&e[1]===t[1]},NV=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},$V=0,tc=[];function LV(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),o=d.useState($V++)[0],s=d.useState(m3)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var b=sx([e.lockRef.current],(e.shards||[]).map(s4),!0).filter(Boolean);return b.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),b.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(b,w){if("touches"in b&&b.touches.length===2)return!i.current.allowPinchZoom;var S=Ap(b),j=n.current,I="deltaX"in b?b.deltaX:j[0]-S[0],M="deltaY"in b?b.deltaY:j[1]-S[1],_,E=b.target,D=Math.abs(I)>Math.abs(M)?"h":"v";if("touches"in b&&D==="h"&&E.type==="range")return!1;var R=r4(D,E);if(!R)return!0;if(R?_=D:(_=D==="v"?"h":"v",R=r4(D,E)),!R)return!1;if(!r.current&&"changedTouches"in b&&(I||M)&&(r.current=_),!_)return!0;var A=r.current||_;return AV(A,w,b,A==="h"?I:M,!0)},[]),c=d.useCallback(function(b){var w=b;if(!(!tc.length||tc[tc.length-1]!==s)){var S="deltaY"in w?o4(w):Ap(w),j=t.current.filter(function(_){return _.name===w.type&&_.target===w.target&&TV(_.delta,S)})[0];if(j&&j.should){w.cancelable&&w.preventDefault();return}if(!j){var I=(i.current.shards||[]).map(s4).filter(Boolean).filter(function(_){return _.contains(w.target)}),M=I.length>0?l(w,I[0]):!i.current.noIsolation;M&&w.cancelable&&w.preventDefault()}}},[]),p=d.useCallback(function(b,w,S,j){var I={name:b,delta:w,target:S,should:j};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(M){return M!==I})},1)},[]),h=d.useCallback(function(b){n.current=Ap(b),r.current=void 0},[]),m=d.useCallback(function(b){p(b.type,o4(b),b.target,l(b,e.lockRef.current))},[]),g=d.useCallback(function(b){p(b.type,Ap(b),b.target,l(b,e.lockRef.current))},[]);d.useEffect(function(){return tc.push(s),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",c,ec),document.addEventListener("touchmove",c,ec),document.addEventListener("touchstart",h,ec),function(){tc=tc.filter(function(b){return b!==s}),document.removeEventListener("wheel",c,ec),document.removeEventListener("touchmove",c,ec),document.removeEventListener("touchstart",h,ec)}},[]);var x=e.removeScrollBar,y=e.inert;return d.createElement(d.Fragment,null,y?d.createElement(s,{styles:NV(o)}):null,x?d.createElement(_V,{gapMode:e.gapMode}):null)}const zV=zz(h3,LV);var b3=d.forwardRef(function(e,t){return d.createElement(pg,Is({},e,{ref:t,sideCar:zV}))});b3.classNames=pg.classNames;const FV=b3;function BV(e){const{autoFocus:t,trapFocus:n,dialogRef:r,initialFocusRef:o,blockScrollOnMount:s,allowPinchZoom:i,finalFocusRef:l,returnFocusOnClose:c,preserveScrollBarGap:p,lockFocusAcrossFrames:h,isOpen:m}=dl(),[g,x]=PR();d.useEffect(()=>{!g&&x&&setTimeout(x)},[g,x]);const y=f3(r,m);return a.jsx(BP,{autoFocus:t,isDisabled:!n,initialFocusRef:o,finalFocusRef:l,restoreFocus:c,contentRef:r,lockFocusAcrossFrames:h,children:a.jsx(FV,{removeScrollBar:!p,allowPinchZoom:i,enabled:y===1&&s,forwardProps:!0,children:e.children})})}var pl=je((e,t)=>{const{className:n,children:r,containerProps:o,motionProps:s,...i}=e,{getDialogProps:l,getDialogContainerProps:c}=dl(),p=l(i,t),h=c(o),m=Ze("chakra-modal__content",n),g=cu(),x={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...g.dialog},y={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...g.dialogContainer},{motionPreset:b}=dl();return a.jsx(BV,{children:a.jsx(we.div,{...h,className:"chakra-modal__content-container",tabIndex:-1,__css:y,children:a.jsx(d3,{preset:b,motionProps:s,className:m,...p,__css:x,children:r})})})});pl.displayName="ModalContent";function pf(e){const{leastDestructiveRef:t,...n}=e;return a.jsx(fl,{...n,initialFocusRef:t})}var hf=je((e,t)=>a.jsx(pl,{ref:t,role:"alertdialog",...e})),As=je((e,t)=>{const{className:n,...r}=e,o=Ze("chakra-modal__footer",n),i={display:"flex",alignItems:"center",justifyContent:"flex-end",...cu().footer};return a.jsx(we.footer,{ref:t,...r,__css:i,className:o})});As.displayName="ModalFooter";var rs=je((e,t)=>{const{className:n,...r}=e,{headerId:o,setHeaderMounted:s}=dl();d.useEffect(()=>(s(!0),()=>s(!1)),[s]);const i=Ze("chakra-modal__header",n),c={flex:0,...cu().header};return a.jsx(we.header,{ref:t,className:i,id:o,...r,__css:c})});rs.displayName="ModalHeader";var HV=we(En.div),os=je((e,t)=>{const{className:n,transition:r,motionProps:o,...s}=e,i=Ze("chakra-modal__overlay",n),c={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...cu().overlay},{motionPreset:p}=dl(),m=o||(p==="none"?{}:F5);return a.jsx(HV,{...m,__css:c,ref:t,className:i,...s})});os.displayName="ModalOverlay";var ss=je((e,t)=>{const{className:n,...r}=e,{bodyId:o,setBodyMounted:s}=dl();d.useEffect(()=>(s(!0),()=>s(!1)),[s]);const i=Ze("chakra-modal__body",n),l=cu();return a.jsx(we.div,{ref:t,className:i,id:o,...r,__css:l.body})});ss.displayName="ModalBody";var mf=je((e,t)=>{const{onClick:n,className:r,...o}=e,{onClose:s}=dl(),i=Ze("chakra-modal__close-btn",r),l=cu();return a.jsx(E5,{ref:t,__css:l.closeButton,className:i,onClick:Be(n,c=>{c.stopPropagation(),s()}),...o})});mf.displayName="ModalCloseButton";var VV=e=>a.jsx($n,{viewBox:"0 0 24 24",...e,children:a.jsx("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})}),WV=e=>a.jsx($n,{viewBox:"0 0 24 24",...e,children:a.jsx("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})});function a4(e,t,n,r){d.useEffect(()=>{var o;if(!e.current||!r)return;const s=(o=e.current.ownerDocument.defaultView)!=null?o:window,i=Array.isArray(t)?t:[t],l=new s.MutationObserver(c=>{for(const p of c)p.type==="attributes"&&p.attributeName&&i.includes(p.attributeName)&&n(p)});return l.observe(e.current,{attributes:!0,attributeFilter:i}),()=>l.disconnect()})}function UV(e,t){const n=fn(e);d.useEffect(()=>{let r=null;const o=()=>n();return t!==null&&(r=window.setInterval(o,t)),()=>{r&&window.clearInterval(r)}},[t,n])}var GV=50,i4=300;function KV(e,t){const[n,r]=d.useState(!1),[o,s]=d.useState(null),[i,l]=d.useState(!0),c=d.useRef(null),p=()=>clearTimeout(c.current);UV(()=>{o==="increment"&&e(),o==="decrement"&&t()},n?GV:null);const h=d.useCallback(()=>{i&&e(),c.current=setTimeout(()=>{l(!1),r(!0),s("increment")},i4)},[e,i]),m=d.useCallback(()=>{i&&t(),c.current=setTimeout(()=>{l(!1),r(!0),s("decrement")},i4)},[t,i]),g=d.useCallback(()=>{l(!0),r(!1),p()},[]);return d.useEffect(()=>()=>p(),[]),{up:h,down:m,stop:g,isSpinning:n}}var qV=/^[Ee0-9+\-.]$/;function XV(e){return qV.test(e)}function QV(e,t){if(e.key==null)return!0;const n=e.ctrlKey||e.altKey||e.metaKey;return!(e.key.length===1)||n?!0:t(e.key)}function YV(e={}){const{focusInputOnChange:t=!0,clampValueOnBlur:n=!0,keepWithinRange:r=!0,min:o=Number.MIN_SAFE_INTEGER,max:s=Number.MAX_SAFE_INTEGER,step:i=1,isReadOnly:l,isDisabled:c,isRequired:p,isInvalid:h,pattern:m="[0-9]*(.[0-9]+)?",inputMode:g="decimal",allowMouseWheel:x,id:y,onChange:b,precision:w,name:S,"aria-describedby":j,"aria-label":I,"aria-labelledby":M,onFocus:_,onBlur:E,onInvalid:D,getAriaValueText:R,isValidCharacter:A,format:O,parse:T,...K}=e,L=fn(_),H=fn(E),U=fn(D),W=fn(A??XV),z=fn(R),Q=bz(e),{update:F,increment:X,decrement:Y}=Q,[se,ae]=d.useState(!1),oe=!(l||c),q=d.useRef(null),G=d.useRef(null),te=d.useRef(null),ce=d.useRef(null),J=d.useCallback(be=>be.split("").filter(W).join(""),[W]),ie=d.useCallback(be=>{var tt;return(tt=T==null?void 0:T(be))!=null?tt:be},[T]),de=d.useCallback(be=>{var tt;return((tt=O==null?void 0:O(be))!=null?tt:be).toString()},[O]);Ea(()=>{(Q.valueAsNumber>s||Q.valueAsNumber<o)&&(U==null||U("rangeOverflow",de(Q.value),Q.valueAsNumber))},[Q.valueAsNumber,Q.value,de,U]),Sc(()=>{if(!q.current)return;if(q.current.value!=Q.value){const tt=ie(q.current.value);Q.setValue(J(tt))}},[ie,J]);const me=d.useCallback((be=i)=>{oe&&X(be)},[X,oe,i]),Ce=d.useCallback((be=i)=>{oe&&Y(be)},[Y,oe,i]),ve=KV(me,Ce);a4(te,"disabled",ve.stop,ve.isSpinning),a4(ce,"disabled",ve.stop,ve.isSpinning);const pe=d.useCallback(be=>{if(be.nativeEvent.isComposing)return;const ct=ie(be.currentTarget.value);F(J(ct)),G.current={start:be.currentTarget.selectionStart,end:be.currentTarget.selectionEnd}},[F,J,ie]),Re=d.useCallback(be=>{var tt,ct,pt;L==null||L(be),G.current&&(be.target.selectionStart=(ct=G.current.start)!=null?ct:(tt=be.currentTarget.value)==null?void 0:tt.length,be.currentTarget.selectionEnd=(pt=G.current.end)!=null?pt:be.currentTarget.selectionStart)},[L]),Pe=d.useCallback(be=>{if(be.nativeEvent.isComposing)return;QV(be,W)||be.preventDefault();const tt=Ve(be)*i,ct=be.key,Oe={ArrowUp:()=>me(tt),ArrowDown:()=>Ce(tt),Home:()=>F(o),End:()=>F(s)}[ct];Oe&&(be.preventDefault(),Oe(be))},[W,i,me,Ce,F,o,s]),Ve=be=>{let tt=1;return(be.metaKey||be.ctrlKey)&&(tt=.1),be.shiftKey&&(tt=10),tt},lt=d.useMemo(()=>{const be=z==null?void 0:z(Q.value);if(be!=null)return be;const tt=Q.value.toString();return tt||void 0},[Q.value,z]),Ke=d.useCallback(()=>{let be=Q.value;if(Q.value==="")return;/^[eE]/.test(Q.value.toString())?Q.setValue(""):(Q.valueAsNumber<o&&(be=o),Q.valueAsNumber>s&&(be=s),Q.cast(be))},[Q,s,o]),Et=d.useCallback(()=>{ae(!1),n&&Ke()},[n,ae,Ke]),et=d.useCallback(()=>{t&&requestAnimationFrame(()=>{var be;(be=q.current)==null||be.focus()})},[t]),ot=d.useCallback(be=>{be.preventDefault(),ve.up(),et()},[et,ve]),ye=d.useCallback(be=>{be.preventDefault(),ve.down(),et()},[et,ve]);Qi(()=>q.current,"wheel",be=>{var tt,ct;const Oe=((ct=(tt=q.current)==null?void 0:tt.ownerDocument)!=null?ct:document).activeElement===q.current;if(!x||!Oe)return;be.preventDefault();const $e=Ve(be)*i,Wt=Math.sign(be.deltaY);Wt===-1?me($e):Wt===1&&Ce($e)},{passive:!1});const Ae=d.useCallback((be={},tt=null)=>{const ct=c||r&&Q.isAtMax;return{...be,ref:Pt(tt,te),role:"button",tabIndex:-1,onPointerDown:Be(be.onPointerDown,pt=>{pt.button!==0||ct||ot(pt)}),onPointerLeave:Be(be.onPointerLeave,ve.stop),onPointerUp:Be(be.onPointerUp,ve.stop),disabled:ct,"aria-disabled":Po(ct)}},[Q.isAtMax,r,ot,ve.stop,c]),dt=d.useCallback((be={},tt=null)=>{const ct=c||r&&Q.isAtMin;return{...be,ref:Pt(tt,ce),role:"button",tabIndex:-1,onPointerDown:Be(be.onPointerDown,pt=>{pt.button!==0||ct||ye(pt)}),onPointerLeave:Be(be.onPointerLeave,ve.stop),onPointerUp:Be(be.onPointerUp,ve.stop),disabled:ct,"aria-disabled":Po(ct)}},[Q.isAtMin,r,ye,ve.stop,c]),yt=d.useCallback((be={},tt=null)=>{var ct,pt,Oe,$e;return{name:S,inputMode:g,type:"text",pattern:m,"aria-labelledby":M,"aria-label":I,"aria-describedby":j,id:y,disabled:c,...be,readOnly:(ct=be.readOnly)!=null?ct:l,"aria-readonly":(pt=be.readOnly)!=null?pt:l,"aria-required":(Oe=be.required)!=null?Oe:p,required:($e=be.required)!=null?$e:p,ref:Pt(q,tt),value:de(Q.value),role:"spinbutton","aria-valuemin":o,"aria-valuemax":s,"aria-valuenow":Number.isNaN(Q.valueAsNumber)?void 0:Q.valueAsNumber,"aria-invalid":Po(h??Q.isOutOfRange),"aria-valuetext":lt,autoComplete:"off",autoCorrect:"off",onChange:Be(be.onChange,pe),onKeyDown:Be(be.onKeyDown,Pe),onFocus:Be(be.onFocus,Re,()=>ae(!0)),onBlur:Be(be.onBlur,H,Et)}},[S,g,m,M,I,de,j,y,c,p,l,h,Q.value,Q.valueAsNumber,Q.isOutOfRange,o,s,lt,pe,Pe,Re,H,Et]);return{value:de(Q.value),valueAsNumber:Q.valueAsNumber,isFocused:se,isDisabled:c,isReadOnly:l,getIncrementButtonProps:Ae,getDecrementButtonProps:dt,getInputProps:yt,htmlProps:K}}var[ZV,hg]=Vt({name:"NumberInputStylesContext",errorMessage:`useNumberInputStyles returned is 'undefined'. Seems you forgot to wrap the components in "<NumberInput />" `}),[JV,gy]=Vt({name:"NumberInputContext",errorMessage:"useNumberInputContext: `context` is undefined. Seems you forgot to wrap number-input's components within <NumberInput />"}),mg=je(function(t,n){const r=Kn("NumberInput",t),o=sn(t),s=Hb(o),{htmlProps:i,...l}=YV(s),c=d.useMemo(()=>l,[l]);return a.jsx(JV,{value:c,children:a.jsx(ZV,{value:r,children:a.jsx(we.div,{...i,ref:n,className:Ze("chakra-numberinput",t.className),__css:{position:"relative",zIndex:0,...r.root}})})})});mg.displayName="NumberInput";var gg=je(function(t,n){const r=hg();return a.jsx(we.div,{"aria-hidden":!0,ref:n,...t,__css:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",height:"calc(100% - 2px)",zIndex:1,...r.stepperGroup}})});gg.displayName="NumberInputStepper";var vg=je(function(t,n){const{getInputProps:r}=gy(),o=r(t,n),s=hg();return a.jsx(we.input,{...o,className:Ze("chakra-numberinput__field",t.className),__css:{width:"100%",...s.field}})});vg.displayName="NumberInputField";var y3=we("div",{baseStyle:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,transitionProperty:"common",transitionDuration:"normal",userSelect:"none",cursor:"pointer",lineHeight:"normal"}}),xg=je(function(t,n){var r;const o=hg(),{getDecrementButtonProps:s}=gy(),i=s(t,n);return a.jsx(y3,{...i,__css:o.stepper,children:(r=t.children)!=null?r:a.jsx(VV,{})})});xg.displayName="NumberDecrementStepper";var bg=je(function(t,n){var r;const{getIncrementButtonProps:o}=gy(),s=o(t,n),i=hg();return a.jsx(y3,{...s,__css:i.stepper,children:(r=t.children)!=null?r:a.jsx(WV,{})})});bg.displayName="NumberIncrementStepper";var[eW,Cl]=Vt({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),[tW,yg]=Vt({name:"PopoverStylesContext",errorMessage:`usePopoverStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Popover />" `});function Cg(e){const t=d.Children.only(e.children),{getTriggerProps:n}=Cl();return d.cloneElement(t,n(t.props,t.ref))}Cg.displayName="PopoverTrigger";var nc={click:"click",hover:"hover"};function nW(e={}){const{closeOnBlur:t=!0,closeOnEsc:n=!0,initialFocusRef:r,id:o,returnFocusOnClose:s=!0,autoFocus:i=!0,arrowSize:l,arrowShadowColor:c,trigger:p=nc.click,openDelay:h=200,closeDelay:m=200,isLazy:g,lazyBehavior:x="unmount",computePositionOnMount:y,...b}=e,{isOpen:w,onClose:S,onOpen:j,onToggle:I}=hy(e),M=d.useRef(null),_=d.useRef(null),E=d.useRef(null),D=d.useRef(!1),R=d.useRef(!1);w&&(R.current=!0);const[A,O]=d.useState(!1),[T,K]=d.useState(!1),L=d.useId(),H=o??L,[U,W,z,Q]=["popover-trigger","popover-content","popover-header","popover-body"].map(pe=>`${pe}-${H}`),{referenceRef:F,getArrowProps:X,getPopperProps:Y,getArrowInnerProps:se,forceUpdate:ae}=py({...b,enabled:w||!!y}),oe=i3({isOpen:w,ref:E});eP({enabled:w,ref:_}),QP(E,{focusRef:_,visible:w,shouldFocus:s&&p===nc.click}),uB(E,{focusRef:r,visible:w,shouldFocus:i&&p===nc.click});const q=my({wasSelected:R.current,enabled:g,mode:x,isSelected:oe.present}),G=d.useCallback((pe={},Re=null)=>{const Pe={...pe,style:{...pe.style,transformOrigin:Ln.transformOrigin.varRef,[Ln.arrowSize.var]:l?`${l}px`:void 0,[Ln.arrowShadowColor.var]:c},ref:Pt(E,Re),children:q?pe.children:null,id:W,tabIndex:-1,role:"dialog",onKeyDown:Be(pe.onKeyDown,Ve=>{n&&Ve.key==="Escape"&&S()}),onBlur:Be(pe.onBlur,Ve=>{const lt=l4(Ve),Ke=Gv(E.current,lt),Et=Gv(_.current,lt);w&&t&&(!Ke&&!Et)&&S()}),"aria-labelledby":A?z:void 0,"aria-describedby":T?Q:void 0};return p===nc.hover&&(Pe.role="tooltip",Pe.onMouseEnter=Be(pe.onMouseEnter,()=>{D.current=!0}),Pe.onMouseLeave=Be(pe.onMouseLeave,Ve=>{Ve.nativeEvent.relatedTarget!==null&&(D.current=!1,setTimeout(()=>S(),m))})),Pe},[q,W,A,z,T,Q,p,n,S,w,t,m,c,l]),te=d.useCallback((pe={},Re=null)=>Y({...pe,style:{visibility:w?"visible":"hidden",...pe.style}},Re),[w,Y]),ce=d.useCallback((pe,Re=null)=>({...pe,ref:Pt(Re,M,F)}),[M,F]),J=d.useRef(),ie=d.useRef(),de=d.useCallback(pe=>{M.current==null&&F(pe)},[F]),me=d.useCallback((pe={},Re=null)=>{const Pe={...pe,ref:Pt(_,Re,de),id:U,"aria-haspopup":"dialog","aria-expanded":w,"aria-controls":W};return p===nc.click&&(Pe.onClick=Be(pe.onClick,I)),p===nc.hover&&(Pe.onFocus=Be(pe.onFocus,()=>{J.current===void 0&&j()}),Pe.onBlur=Be(pe.onBlur,Ve=>{const lt=l4(Ve),Ke=!Gv(E.current,lt);w&&t&&Ke&&S()}),Pe.onKeyDown=Be(pe.onKeyDown,Ve=>{Ve.key==="Escape"&&S()}),Pe.onMouseEnter=Be(pe.onMouseEnter,()=>{D.current=!0,J.current=window.setTimeout(()=>j(),h)}),Pe.onMouseLeave=Be(pe.onMouseLeave,()=>{D.current=!1,J.current&&(clearTimeout(J.current),J.current=void 0),ie.current=window.setTimeout(()=>{D.current===!1&&S()},m)})),Pe},[U,w,W,p,de,I,j,t,S,h,m]);d.useEffect(()=>()=>{J.current&&clearTimeout(J.current),ie.current&&clearTimeout(ie.current)},[]);const Ce=d.useCallback((pe={},Re=null)=>({...pe,id:z,ref:Pt(Re,Pe=>{O(!!Pe)})}),[z]),ve=d.useCallback((pe={},Re=null)=>({...pe,id:Q,ref:Pt(Re,Pe=>{K(!!Pe)})}),[Q]);return{forceUpdate:ae,isOpen:w,onAnimationComplete:oe.onComplete,onClose:S,getAnchorProps:ce,getArrowProps:X,getArrowInnerProps:se,getPopoverPositionerProps:te,getPopoverProps:G,getTriggerProps:me,getHeaderProps:Ce,getBodyProps:ve}}function Gv(e,t){return e===t||(e==null?void 0:e.contains(t))}function l4(e){var t;const n=e.currentTarget.ownerDocument.activeElement;return(t=e.relatedTarget)!=null?t:n}function gf(e){const t=Kn("Popover",e),{children:n,...r}=sn(e),o=Qd(),s=nW({...r,direction:o.direction});return a.jsx(eW,{value:s,children:a.jsx(tW,{value:t,children:vb(n,{isOpen:s.isOpen,onClose:s.onClose,forceUpdate:s.forceUpdate})})})}gf.displayName="Popover";function C3(e){const t=d.Children.only(e.children),{getAnchorProps:n}=Cl();return d.cloneElement(t,n(t.props,t.ref))}C3.displayName="PopoverAnchor";var Kv=(e,t)=>t?`${e}.${t}, ${t}`:void 0;function w3(e){var t;const{bg:n,bgColor:r,backgroundColor:o,shadow:s,boxShadow:i,shadowColor:l}=e,{getArrowProps:c,getArrowInnerProps:p}=Cl(),h=yg(),m=(t=n??r)!=null?t:o,g=s??i;return a.jsx(we.div,{...c(),className:"chakra-popover__arrow-positioner",children:a.jsx(we.div,{className:Ze("chakra-popover__arrow",e.className),...p(e),__css:{"--popper-arrow-shadow-color":Kv("colors",l),"--popper-arrow-bg":Kv("colors",m),"--popper-arrow-shadow":Kv("shadows",g),...h.arrow}})})}w3.displayName="PopoverArrow";var wg=je(function(t,n){const{getBodyProps:r}=Cl(),o=yg();return a.jsx(we.div,{...r(t,n),className:Ze("chakra-popover__body",t.className),__css:o.body})});wg.displayName="PopoverBody";var S3=je(function(t,n){const{onClose:r}=Cl(),o=yg();return a.jsx(E5,{size:"sm",onClick:r,className:Ze("chakra-popover__close-btn",t.className),__css:o.closeButton,ref:n,...t})});S3.displayName="PopoverCloseButton";function rW(e){if(e)return{enter:{...e.enter,visibility:"visible"},exit:{...e.exit,transitionEnd:{visibility:"hidden"}}}}var oW={exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}},sW=we(En.section),k3=je(function(t,n){const{variants:r=oW,...o}=t,{isOpen:s}=Cl();return a.jsx(sW,{ref:n,variants:rW(r),initial:!1,animate:s?"enter":"exit",...o})});k3.displayName="PopoverTransition";var vf=je(function(t,n){const{rootProps:r,motionProps:o,...s}=t,{getPopoverProps:i,getPopoverPositionerProps:l,onAnimationComplete:c}=Cl(),p=yg(),h={position:"relative",display:"flex",flexDirection:"column",...p.content};return a.jsx(we.div,{...l(r),__css:p.popper,className:"chakra-popover__popper",children:a.jsx(k3,{...o,...i(s,n),onAnimationComplete:Um(c,s.onAnimationComplete),className:Ze("chakra-popover__content",t.className),__css:h})})});vf.displayName="PopoverContent";var mx=e=>a.jsx(we.circle,{cx:50,cy:50,r:42,fill:"transparent",...e});mx.displayName="Circle";function aW(e,t,n){return(e-t)*100/(n-t)}var iW=Ia({"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260"}}),lW=Ia({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),cW=Ia({"0%":{left:"-40%"},"100%":{left:"100%"}}),uW=Ia({from:{backgroundPosition:"1rem 0"},to:{backgroundPosition:"0 0"}});function j3(e){const{value:t=0,min:n,max:r,valueText:o,getValueText:s,isIndeterminate:i,role:l="progressbar"}=e,c=aW(t,n,r);return{bind:{"data-indeterminate":i?"":void 0,"aria-valuemax":r,"aria-valuemin":n,"aria-valuenow":i?void 0:t,"aria-valuetext":(()=>{if(t!=null)return typeof s=="function"?s(t,c):o})(),role:l},percent:c,value:t}}var I3=e=>{const{size:t,isIndeterminate:n,...r}=e;return a.jsx(we.svg,{viewBox:"0 0 100 100",__css:{width:t,height:t,animation:n?`${lW} 2s linear infinite`:void 0},...r})};I3.displayName="Shape";var gx=je((e,t)=>{var n;const{size:r="48px",max:o=100,min:s=0,valueText:i,getValueText:l,value:c,capIsRound:p,children:h,thickness:m="10px",color:g="#0078d4",trackColor:x="#edebe9",isIndeterminate:y,...b}=e,w=j3({min:s,max:o,value:c,valueText:i,getValueText:l,isIndeterminate:y}),S=y?void 0:((n=w.percent)!=null?n:0)*2.64,j=S==null?void 0:`${S} ${264-S}`,I=y?{css:{animation:`${iW} 1.5s linear infinite`}}:{strokeDashoffset:66,strokeDasharray:j,transitionProperty:"stroke-dasharray, stroke",transitionDuration:"0.6s",transitionTimingFunction:"ease"},M={display:"inline-block",position:"relative",verticalAlign:"middle",fontSize:r};return a.jsxs(we.div,{ref:t,className:"chakra-progress",...w.bind,...b,__css:M,children:[a.jsxs(I3,{size:r,isIndeterminate:y,children:[a.jsx(mx,{stroke:x,strokeWidth:m,className:"chakra-progress__track"}),a.jsx(mx,{stroke:g,strokeWidth:m,className:"chakra-progress__indicator",strokeLinecap:p?"round":void 0,opacity:w.value===0&&!y?0:void 0,...I})]}),h]})});gx.displayName="CircularProgress";var[dW,fW]=Vt({name:"ProgressStylesContext",errorMessage:`useProgressStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Progress />" `}),pW=je((e,t)=>{const{min:n,max:r,value:o,isIndeterminate:s,role:i,...l}=e,c=j3({value:o,min:n,max:r,isIndeterminate:s,role:i}),h={height:"100%",...fW().filledTrack};return a.jsx(we.div,{ref:t,style:{width:`${c.percent}%`,...l.style},...c.bind,...l,__css:h})}),_3=je((e,t)=>{var n;const{value:r,min:o=0,max:s=100,hasStripe:i,isAnimated:l,children:c,borderRadius:p,isIndeterminate:h,"aria-label":m,"aria-labelledby":g,"aria-valuetext":x,title:y,role:b,...w}=sn(e),S=Kn("Progress",e),j=p??((n=S.track)==null?void 0:n.borderRadius),I={animation:`${uW} 1s linear infinite`},E={...!h&&i&&l&&I,...h&&{position:"absolute",willChange:"left",minWidth:"50%",animation:`${cW} 1s ease infinite normal none running`}},D={overflow:"hidden",position:"relative",...S.track};return a.jsx(we.div,{ref:t,borderRadius:j,__css:D,...w,children:a.jsxs(dW,{value:S,children:[a.jsx(pW,{"aria-label":m,"aria-labelledby":g,"aria-valuetext":x,min:o,max:s,value:r,isIndeterminate:h,css:E,borderRadius:j,title:y,role:b}),c]})})});_3.displayName="Progress";function hW(e){return e&&$1(e)&&$1(e.target)}function mW(e={}){const{onChange:t,value:n,defaultValue:r,name:o,isDisabled:s,isFocusable:i,isNative:l,...c}=e,[p,h]=d.useState(r||""),m=typeof n<"u",g=m?n:p,x=d.useRef(null),y=d.useCallback(()=>{const _=x.current;if(!_)return;let E="input:not(:disabled):checked";const D=_.querySelector(E);if(D){D.focus();return}E="input:not(:disabled)";const R=_.querySelector(E);R==null||R.focus()},[]),w=`radio-${d.useId()}`,S=o||w,j=d.useCallback(_=>{const E=hW(_)?_.target.value:_;m||h(E),t==null||t(String(E))},[t,m]),I=d.useCallback((_={},E=null)=>({..._,ref:Pt(E,x),role:"radiogroup"}),[]),M=d.useCallback((_={},E=null)=>({..._,ref:E,name:S,[l?"checked":"isChecked"]:g!=null?_.value===g:void 0,onChange(R){j(R)},"data-radiogroup":!0}),[l,S,j,g]);return{getRootProps:I,getRadioProps:M,name:S,ref:x,focus:y,setValue:h,value:g,onChange:j,isDisabled:s,isFocusable:i,htmlProps:c}}var[gW,P3]=Vt({name:"RadioGroupContext",strict:!1}),Bh=je((e,t)=>{const{colorScheme:n,size:r,variant:o,children:s,className:i,isDisabled:l,isFocusable:c,...p}=e,{value:h,onChange:m,getRootProps:g,name:x,htmlProps:y}=mW(p),b=d.useMemo(()=>({name:x,size:r,onChange:m,colorScheme:n,value:h,variant:o,isDisabled:l,isFocusable:c}),[x,r,m,n,h,o,l,c]);return a.jsx(gW,{value:b,children:a.jsx(we.div,{...g(y,t),className:Ze("chakra-radio-group",i),children:s})})});Bh.displayName="RadioGroup";var vW={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function xW(e={}){const{defaultChecked:t,isChecked:n,isFocusable:r,isDisabled:o,isReadOnly:s,isRequired:i,onChange:l,isInvalid:c,name:p,value:h,id:m,"data-radiogroup":g,"aria-describedby":x,...y}=e,b=`radio-${d.useId()}`,w=sf(),j=!!P3()||!!g;let M=!!w&&!j?w.id:b;M=m??M;const _=o??(w==null?void 0:w.isDisabled),E=s??(w==null?void 0:w.isReadOnly),D=i??(w==null?void 0:w.isRequired),R=c??(w==null?void 0:w.isInvalid),[A,O]=d.useState(!1),[T,K]=d.useState(!1),[L,H]=d.useState(!1),[U,W]=d.useState(!1),[z,Q]=d.useState(!!t),F=typeof n<"u",X=F?n:z;d.useEffect(()=>K5(O),[]);const Y=d.useCallback(de=>{if(E||_){de.preventDefault();return}F||Q(de.target.checked),l==null||l(de)},[F,_,E,l]),se=d.useCallback(de=>{de.key===" "&&W(!0)},[W]),ae=d.useCallback(de=>{de.key===" "&&W(!1)},[W]),oe=d.useCallback((de={},me=null)=>({...de,ref:me,"data-active":ft(U),"data-hover":ft(L),"data-disabled":ft(_),"data-invalid":ft(R),"data-checked":ft(X),"data-focus":ft(T),"data-focus-visible":ft(T&&A),"data-readonly":ft(E),"aria-hidden":!0,onMouseDown:Be(de.onMouseDown,()=>W(!0)),onMouseUp:Be(de.onMouseUp,()=>W(!1)),onMouseEnter:Be(de.onMouseEnter,()=>H(!0)),onMouseLeave:Be(de.onMouseLeave,()=>H(!1))}),[U,L,_,R,X,T,E,A]),{onFocus:q,onBlur:G}=w??{},te=d.useCallback((de={},me=null)=>{const Ce=_&&!r;return{...de,id:M,ref:me,type:"radio",name:p,value:h,onChange:Be(de.onChange,Y),onBlur:Be(G,de.onBlur,()=>K(!1)),onFocus:Be(q,de.onFocus,()=>K(!0)),onKeyDown:Be(de.onKeyDown,se),onKeyUp:Be(de.onKeyUp,ae),checked:X,disabled:Ce,readOnly:E,required:D,"aria-invalid":Po(R),"aria-disabled":Po(Ce),"aria-required":Po(D),"data-readonly":ft(E),"aria-describedby":x,style:vW}},[_,r,M,p,h,Y,G,q,se,ae,X,E,D,R,x]);return{state:{isInvalid:R,isFocused:T,isChecked:X,isActive:U,isHovered:L,isDisabled:_,isReadOnly:E,isRequired:D},getCheckboxProps:oe,getRadioProps:oe,getInputProps:te,getLabelProps:(de={},me=null)=>({...de,ref:me,onMouseDown:Be(de.onMouseDown,bW),"data-disabled":ft(_),"data-checked":ft(X),"data-invalid":ft(R)}),getRootProps:(de,me=null)=>({...de,ref:me,"data-disabled":ft(_),"data-checked":ft(X),"data-invalid":ft(R)}),htmlProps:y}}function bW(e){e.preventDefault(),e.stopPropagation()}function yW(e,t){const n={},r={};for(const[o,s]of Object.entries(e))t.includes(o)?n[o]=s:r[o]=s;return[n,r]}var oa=je((e,t)=>{var n;const r=P3(),{onChange:o,value:s}=e,i=Kn("Radio",{...r,...e}),l=sn(e),{spacing:c="0.5rem",children:p,isDisabled:h=r==null?void 0:r.isDisabled,isFocusable:m=r==null?void 0:r.isFocusable,inputProps:g,...x}=l;let y=e.isChecked;(r==null?void 0:r.value)!=null&&s!=null&&(y=r.value===s);let b=o;r!=null&&r.onChange&&s!=null&&(b=Um(r.onChange,o));const w=(n=e==null?void 0:e.name)!=null?n:r==null?void 0:r.name,{getInputProps:S,getCheckboxProps:j,getLabelProps:I,getRootProps:M,htmlProps:_}=xW({...x,isChecked:y,isFocusable:m,isDisabled:h,onChange:b,name:w}),[E,D]=yW(_,A_),R=j(D),A=S(g,t),O=I(),T=Object.assign({},E,M()),K={display:"inline-flex",alignItems:"center",verticalAlign:"top",cursor:"pointer",position:"relative",...i.container},L={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,...i.control},H={userSelect:"none",marginStart:c,...i.label};return a.jsxs(we.label,{className:"chakra-radio",...T,__css:K,children:[a.jsx("input",{className:"chakra-radio__input",...A}),a.jsx(we.span,{className:"chakra-radio__control",...R,__css:L}),p&&a.jsx(we.span,{className:"chakra-radio__label",...O,__css:H,children:p})]})});oa.displayName="Radio";var E3=je(function(t,n){const{children:r,placeholder:o,className:s,...i}=t;return a.jsxs(we.select,{...i,ref:n,className:Ze("chakra-select",s),children:[o&&a.jsx("option",{value:"",children:o}),r]})});E3.displayName="SelectField";function CW(e,t){const n={},r={};for(const[o,s]of Object.entries(e))t.includes(o)?n[o]=s:r[o]=s;return[n,r]}var M3=je((e,t)=>{var n;const r=Kn("Select",e),{rootProps:o,placeholder:s,icon:i,color:l,height:c,h:p,minH:h,minHeight:m,iconColor:g,iconSize:x,...y}=sn(e),[b,w]=CW(y,A_),S=Bb(w),j={width:"100%",height:"fit-content",position:"relative",color:l},I={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...(n=r.field)==null?void 0:n._focus}};return a.jsxs(we.div,{className:"chakra-select__wrapper",__css:j,...b,...o,children:[a.jsx(E3,{ref:t,height:p??c,minH:h??m,placeholder:s,...S,__css:I,children:e.children}),a.jsx(O3,{"data-disabled":ft(S.disabled),...(g||l)&&{color:g||l},__css:r.icon,...x&&{fontSize:x},children:i})]})});M3.displayName="Select";var wW=e=>a.jsx("svg",{viewBox:"0 0 24 24",...e,children:a.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),SW=we("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),O3=e=>{const{children:t=a.jsx(wW,{}),...n}=e,r=d.cloneElement(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return a.jsx(SW,{...n,className:"chakra-select__icon-wrapper",children:d.isValidElement(t)?r:null})};O3.displayName="SelectIcon";function kW(){const e=d.useRef(!0);return d.useEffect(()=>{e.current=!1},[]),e.current}function jW(e){const t=d.useRef();return d.useEffect(()=>{t.current=e},[e]),t.current}var IW=we("div",{baseStyle:{boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none","&::before, &::after, *":{visibility:"hidden"}}}),vx=T_("skeleton-start-color"),xx=T_("skeleton-end-color"),_W=Ia({from:{opacity:0},to:{opacity:1}}),PW=Ia({from:{borderColor:vx.reference,background:vx.reference},to:{borderColor:xx.reference,background:xx.reference}}),Sg=je((e,t)=>{const n={...e,fadeDuration:typeof e.fadeDuration=="number"?e.fadeDuration:.4,speed:typeof e.speed=="number"?e.speed:.8},r=bi("Skeleton",n),o=kW(),{startColor:s="",endColor:i="",isLoaded:l,fadeDuration:c,speed:p,className:h,fitContent:m,...g}=sn(n),[x,y]=Ps("colors",[s,i]),b=jW(l),w=Ze("chakra-skeleton",h),S={...x&&{[vx.variable]:x},...y&&{[xx.variable]:y}};if(l){const j=o||b?"none":`${_W} ${c}s`;return a.jsx(we.div,{ref:t,className:w,__css:{animation:j},...g})}return a.jsx(IW,{ref:t,className:w,...g,__css:{width:m?"fit-content":void 0,...r,...S,_dark:{...r._dark,...S},animation:`${p}s linear infinite alternate ${PW}`}})});Sg.displayName="Skeleton";var Co=e=>e?"":void 0,Mc=e=>e?!0:void 0,Ci=(...e)=>e.filter(Boolean).join(" ");function Oc(...e){return function(n){e.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}function EW(e){return{root:`slider-root-${e}`,getThumb:t=>`slider-thumb-${e}-${t}`,getInput:t=>`slider-input-${e}-${t}`,track:`slider-track-${e}`,innerTrack:`slider-filled-track-${e}`,getMarker:t=>`slider-marker-${e}-${t}`,output:`slider-output-${e}`}}function od(e){const{orientation:t,vertical:n,horizontal:r}=e;return t==="vertical"?n:r}var gh={width:0,height:0},Tp=e=>e||gh;function D3(e){const{orientation:t,thumbPercents:n,thumbRects:r,isReversed:o}=e,s=b=>{var w;const S=(w=r[b])!=null?w:gh;return{position:"absolute",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",touchAction:"none",...od({orientation:t,vertical:{bottom:`calc(${n[b]}% - ${S.height/2}px)`},horizontal:{left:`calc(${n[b]}% - ${S.width/2}px)`}})}},i=t==="vertical"?r.reduce((b,w)=>Tp(b).height>Tp(w).height?b:w,gh):r.reduce((b,w)=>Tp(b).width>Tp(w).width?b:w,gh),l={position:"relative",touchAction:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",userSelect:"none",outline:0,...od({orientation:t,vertical:i?{paddingLeft:i.width/2,paddingRight:i.width/2}:{},horizontal:i?{paddingTop:i.height/2,paddingBottom:i.height/2}:{}})},c={position:"absolute",...od({orientation:t,vertical:{left:"50%",transform:"translateX(-50%)",height:"100%"},horizontal:{top:"50%",transform:"translateY(-50%)",width:"100%"}})},p=n.length===1,h=[0,o?100-n[0]:n[0]],m=p?h:n;let g=m[0];!p&&o&&(g=100-g);const x=Math.abs(m[m.length-1]-m[0]),y={...c,...od({orientation:t,vertical:o?{height:`${x}%`,top:`${g}%`}:{height:`${x}%`,bottom:`${g}%`},horizontal:o?{width:`${x}%`,right:`${g}%`}:{width:`${x}%`,left:`${g}%`}})};return{trackStyle:c,innerTrackStyle:y,rootStyle:l,getThumbStyle:s}}function R3(e){const{isReversed:t,direction:n,orientation:r}=e;return n==="ltr"||r==="vertical"?t:!t}function MW(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function OW(e){const t=RW(e);return typeof t.PointerEvent<"u"&&e instanceof t.PointerEvent?e.pointerType==="mouse":e instanceof t.MouseEvent}function A3(e){return!!e.touches}function DW(e){return A3(e)&&e.touches.length>1}function RW(e){var t;return(t=e.view)!=null?t:window}function AW(e,t="page"){const n=e.touches[0]||e.changedTouches[0];return{x:n[`${t}X`],y:n[`${t}Y`]}}function TW(e,t="page"){return{x:e[`${t}X`],y:e[`${t}Y`]}}function T3(e,t="page"){return A3(e)?AW(e,t):TW(e,t)}function NW(e){return t=>{const n=OW(t);(!n||n&&t.button===0)&&e(t)}}function $W(e,t=!1){function n(o){e(o,{point:T3(o)})}return t?NW(n):n}function vh(e,t,n,r){return MW(e,t,$W(n,t==="pointerdown"),r)}var LW=Object.defineProperty,zW=(e,t,n)=>t in e?LW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wo=(e,t,n)=>(zW(e,typeof t!="symbol"?t+"":t,n),n),FW=class{constructor(e,t,n){Wo(this,"history",[]),Wo(this,"startEvent",null),Wo(this,"lastEvent",null),Wo(this,"lastEventInfo",null),Wo(this,"handlers",{}),Wo(this,"removeListeners",()=>{}),Wo(this,"threshold",3),Wo(this,"win"),Wo(this,"updatePoint",()=>{if(!(this.lastEvent&&this.lastEventInfo))return;const l=qv(this.lastEventInfo,this.history),c=this.startEvent!==null,p=WW(l.offset,{x:0,y:0})>=this.threshold;if(!c&&!p)return;const{timestamp:h}=kS();this.history.push({...l.point,timestamp:h});const{onStart:m,onMove:g}=this.handlers;c||(m==null||m(this.lastEvent,l),this.startEvent=this.lastEvent),g==null||g(this.lastEvent,l)}),Wo(this,"onPointerMove",(l,c)=>{this.lastEvent=l,this.lastEventInfo=c,uL.update(this.updatePoint,!0)}),Wo(this,"onPointerUp",(l,c)=>{const p=qv(c,this.history),{onEnd:h,onSessionEnd:m}=this.handlers;m==null||m(l,p),this.end(),!(!h||!this.startEvent)&&(h==null||h(l,p))});var r;if(this.win=(r=e.view)!=null?r:window,DW(e))return;this.handlers=t,n&&(this.threshold=n),e.stopPropagation(),e.preventDefault();const o={point:T3(e)},{timestamp:s}=kS();this.history=[{...o.point,timestamp:s}];const{onSessionStart:i}=t;i==null||i(e,qv(o,this.history)),this.removeListeners=VW(vh(this.win,"pointermove",this.onPointerMove),vh(this.win,"pointerup",this.onPointerUp),vh(this.win,"pointercancel",this.onPointerUp))}updateHandlers(e){this.handlers=e}end(){var e;(e=this.removeListeners)==null||e.call(this),dL.update(this.updatePoint)}};function c4(e,t){return{x:e.x-t.x,y:e.y-t.y}}function qv(e,t){return{point:e.point,delta:c4(e.point,t[t.length-1]),offset:c4(e.point,t[0]),velocity:HW(t,.1)}}var BW=e=>e*1e3;function HW(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=e[e.length-1];for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>BW(t)));)n--;if(!r)return{x:0,y:0};const s=(o.timestamp-r.timestamp)/1e3;if(s===0)return{x:0,y:0};const i={x:(o.x-r.x)/s,y:(o.y-r.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function VW(...e){return t=>e.reduce((n,r)=>r(n),t)}function Xv(e,t){return Math.abs(e-t)}function u4(e){return"x"in e&&"y"in e}function WW(e,t){if(typeof e=="number"&&typeof t=="number")return Xv(e,t);if(u4(e)&&u4(t)){const n=Xv(e.x,t.x),r=Xv(e.y,t.y);return Math.sqrt(n**2+r**2)}return 0}function N3(e){const t=d.useRef(null);return t.current=e,t}function $3(e,t){const{onPan:n,onPanStart:r,onPanEnd:o,onPanSessionStart:s,onPanSessionEnd:i,threshold:l}=t,c=!!(n||r||o||s||i),p=d.useRef(null),h=N3({onSessionStart:s,onSessionEnd:i,onStart:r,onMove:n,onEnd(m,g){p.current=null,o==null||o(m,g)}});d.useEffect(()=>{var m;(m=p.current)==null||m.updateHandlers(h.current)}),d.useEffect(()=>{const m=e.current;if(!m||!c)return;function g(x){p.current=new FW(x,h.current,l)}return vh(m,"pointerdown",g)},[e,c,h,l]),d.useEffect(()=>()=>{var m;(m=p.current)==null||m.end(),p.current=null},[])}function UW(e,t){if(!e){t(void 0);return}t({width:e.offsetWidth,height:e.offsetHeight});const n=e.ownerDocument.defaultView??window,r=new n.ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const[s]=o;let i,l;if("borderBoxSize"in s){const c=s.borderBoxSize,p=Array.isArray(c)?c[0]:c;i=p.inlineSize,l=p.blockSize}else i=e.offsetWidth,l=e.offsetHeight;t({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}var GW=globalThis!=null&&globalThis.document?d.useLayoutEffect:d.useEffect;function KW(e,t){var n,r;if(!e||!e.parentElement)return;const o=(r=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?r:window,s=new o.MutationObserver(()=>{t()});return s.observe(e.parentElement,{childList:!0}),()=>{s.disconnect()}}function L3({getNodes:e,observeMutation:t=!0}){const[n,r]=d.useState([]),[o,s]=d.useState(0);return GW(()=>{const i=e(),l=i.map((c,p)=>UW(c,h=>{r(m=>[...m.slice(0,p),h,...m.slice(p+1)])}));if(t){const c=i[0];l.push(KW(c,()=>{s(p=>p+1)}))}return()=>{l.forEach(c=>{c==null||c()})}},[o]),n}function qW(e){return typeof e=="object"&&e!==null&&"current"in e}function XW(e){const[t]=L3({observeMutation:!1,getNodes(){return[qW(e)?e.current:e]}});return t}function QW(e){const{min:t=0,max:n=100,onChange:r,value:o,defaultValue:s,isReversed:i,direction:l="ltr",orientation:c="horizontal",id:p,isDisabled:h,isReadOnly:m,onChangeStart:g,onChangeEnd:x,step:y=1,getAriaValueText:b,"aria-valuetext":w,"aria-label":S,"aria-labelledby":j,name:I,focusThumbOnChange:M=!0,minStepsBetweenThumbs:_=0,...E}=e,D=fn(g),R=fn(x),A=fn(b),O=R3({isReversed:i,direction:l,orientation:c}),[T,K]=rf({value:o,defaultValue:s??[25,75],onChange:r});if(!Array.isArray(T))throw new TypeError(`[range-slider] You passed an invalid value for \`value\` or \`defaultValue\`, expected \`Array\` but got \`${typeof T}\``);const[L,H]=d.useState(!1),[U,W]=d.useState(!1),[z,Q]=d.useState(-1),F=!(h||m),X=d.useRef(T),Y=T.map(ke=>Ic(ke,t,n)),se=_*y,ae=YW(Y,t,n,se),oe=d.useRef({eventSource:null,value:[],valueBounds:[]});oe.current.value=Y,oe.current.valueBounds=ae;const q=Y.map(ke=>n-ke+t),te=(O?q:Y).map(ke=>Nh(ke,t,n)),ce=c==="vertical",J=d.useRef(null),ie=d.useRef(null),de=L3({getNodes(){const ke=ie.current,Fe=ke==null?void 0:ke.querySelectorAll("[role=slider]");return Fe?Array.from(Fe):[]}}),me=d.useId(),ve=EW(p??me),pe=d.useCallback(ke=>{var Fe,Le;if(!J.current)return;oe.current.eventSource="pointer";const Ge=J.current.getBoundingClientRect(),{clientX:ht,clientY:Mn}=(Le=(Fe=ke.touches)==null?void 0:Fe[0])!=null?Le:ke,At=ce?Ge.bottom-Mn:ht-Ge.left,Tt=ce?Ge.height:Ge.width;let gr=At/Tt;return O&&(gr=1-gr),X5(gr,t,n)},[ce,O,n,t]),Re=(n-t)/10,Pe=y||(n-t)/100,Ve=d.useMemo(()=>({setValueAtIndex(ke,Fe){if(!F)return;const Le=oe.current.valueBounds[ke];Fe=parseFloat(rx(Fe,Le.min,Pe)),Fe=Ic(Fe,Le.min,Le.max);const Ge=[...oe.current.value];Ge[ke]=Fe,K(Ge)},setActiveIndex:Q,stepUp(ke,Fe=Pe){const Le=oe.current.value[ke],Ge=O?Le-Fe:Le+Fe;Ve.setValueAtIndex(ke,Ge)},stepDown(ke,Fe=Pe){const Le=oe.current.value[ke],Ge=O?Le+Fe:Le-Fe;Ve.setValueAtIndex(ke,Ge)},reset(){K(X.current)}}),[Pe,O,K,F]),lt=d.useCallback(ke=>{const Fe=ke.key,Ge={ArrowRight:()=>Ve.stepUp(z),ArrowUp:()=>Ve.stepUp(z),ArrowLeft:()=>Ve.stepDown(z),ArrowDown:()=>Ve.stepDown(z),PageUp:()=>Ve.stepUp(z,Re),PageDown:()=>Ve.stepDown(z,Re),Home:()=>{const{min:ht}=ae[z];Ve.setValueAtIndex(z,ht)},End:()=>{const{max:ht}=ae[z];Ve.setValueAtIndex(z,ht)}}[Fe];Ge&&(ke.preventDefault(),ke.stopPropagation(),Ge(ke),oe.current.eventSource="keyboard")},[Ve,z,Re,ae]),{getThumbStyle:Ke,rootStyle:Et,trackStyle:et,innerTrackStyle:ot}=d.useMemo(()=>D3({isReversed:O,orientation:c,thumbRects:de,thumbPercents:te}),[O,c,te,de]),ye=d.useCallback(ke=>{var Fe;const Le=ke??z;if(Le!==-1&&M){const Ge=ve.getThumb(Le),ht=(Fe=ie.current)==null?void 0:Fe.ownerDocument.getElementById(Ge);ht&&setTimeout(()=>ht.focus())}},[M,z,ve]);Ea(()=>{oe.current.eventSource==="keyboard"&&(R==null||R(oe.current.value))},[Y,R]);const Ae=ke=>{const Fe=pe(ke)||0,Le=oe.current.value.map(Tt=>Math.abs(Tt-Fe)),Ge=Math.min(...Le);let ht=Le.indexOf(Ge);const Mn=Le.filter(Tt=>Tt===Ge);Mn.length>1&&Fe>oe.current.value[ht]&&(ht=ht+Mn.length-1),Q(ht),Ve.setValueAtIndex(ht,Fe),ye(ht)},dt=ke=>{if(z==-1)return;const Fe=pe(ke)||0;Q(z),Ve.setValueAtIndex(z,Fe),ye(z)};$3(ie,{onPanSessionStart(ke){F&&(H(!0),Ae(ke),D==null||D(oe.current.value))},onPanSessionEnd(){F&&(H(!1),R==null||R(oe.current.value))},onPan(ke){F&&dt(ke)}});const yt=d.useCallback((ke={},Fe=null)=>({...ke,...E,id:ve.root,ref:Pt(Fe,ie),tabIndex:-1,"aria-disabled":Mc(h),"data-focused":Co(U),style:{...ke.style,...Et}}),[E,h,U,Et,ve]),be=d.useCallback((ke={},Fe=null)=>({...ke,ref:Pt(Fe,J),id:ve.track,"data-disabled":Co(h),style:{...ke.style,...et}}),[h,et,ve]),tt=d.useCallback((ke={},Fe=null)=>({...ke,ref:Fe,id:ve.innerTrack,style:{...ke.style,...ot}}),[ot,ve]),ct=d.useCallback((ke,Fe=null)=>{var Le;const{index:Ge,...ht}=ke,Mn=Y[Ge];if(Mn==null)throw new TypeError(`[range-slider > thumb] Cannot find value at index \`${Ge}\`. The \`value\` or \`defaultValue\` length is : ${Y.length}`);const At=ae[Ge];return{...ht,ref:Fe,role:"slider",tabIndex:F?0:void 0,id:ve.getThumb(Ge),"data-active":Co(L&&z===Ge),"aria-valuetext":(Le=A==null?void 0:A(Mn))!=null?Le:w==null?void 0:w[Ge],"aria-valuemin":At.min,"aria-valuemax":At.max,"aria-valuenow":Mn,"aria-orientation":c,"aria-disabled":Mc(h),"aria-readonly":Mc(m),"aria-label":S==null?void 0:S[Ge],"aria-labelledby":S!=null&&S[Ge]||j==null?void 0:j[Ge],style:{...ke.style,...Ke(Ge)},onKeyDown:Oc(ke.onKeyDown,lt),onFocus:Oc(ke.onFocus,()=>{W(!0),Q(Ge)}),onBlur:Oc(ke.onBlur,()=>{W(!1),Q(-1)})}},[ve,Y,ae,F,L,z,A,w,c,h,m,S,j,Ke,lt,W]),pt=d.useCallback((ke={},Fe=null)=>({...ke,ref:Fe,id:ve.output,htmlFor:Y.map((Le,Ge)=>ve.getThumb(Ge)).join(" "),"aria-live":"off"}),[ve,Y]),Oe=d.useCallback((ke,Fe=null)=>{const{value:Le,...Ge}=ke,ht=!(Le<t||Le>n),Mn=Le>=Y[0]&&Le<=Y[Y.length-1];let At=Nh(Le,t,n);At=O?100-At:At;const Tt={position:"absolute",pointerEvents:"none",...od({orientation:c,vertical:{bottom:`${At}%`},horizontal:{left:`${At}%`}})};return{...Ge,ref:Fe,id:ve.getMarker(ke.value),role:"presentation","aria-hidden":!0,"data-disabled":Co(h),"data-invalid":Co(!ht),"data-highlighted":Co(Mn),style:{...ke.style,...Tt}}},[h,O,n,t,c,Y,ve]),$e=d.useCallback((ke,Fe=null)=>{const{index:Le,...Ge}=ke;return{...Ge,ref:Fe,id:ve.getInput(Le),type:"hidden",value:Y[Le],name:Array.isArray(I)?I[Le]:`${I}-${Le}`}},[I,Y,ve]);return{state:{value:Y,isFocused:U,isDragging:L,getThumbPercent:ke=>te[ke],getThumbMinValue:ke=>ae[ke].min,getThumbMaxValue:ke=>ae[ke].max},actions:Ve,getRootProps:yt,getTrackProps:be,getInnerTrackProps:tt,getThumbProps:ct,getMarkerProps:Oe,getInputProps:$e,getOutputProps:pt}}function YW(e,t,n,r){return e.map((o,s)=>{const i=s===0?t:e[s-1]+r,l=s===e.length-1?n:e[s+1]-r;return{min:i,max:l}})}var[ZW,kg]=Vt({name:"SliderContext",errorMessage:"useSliderContext: `context` is undefined. Seems you forgot to wrap all slider components within <RangeSlider />"}),[JW,jg]=Vt({name:"RangeSliderStylesContext",errorMessage:`useRangeSliderStyles returned is 'undefined'. Seems you forgot to wrap the components in "<RangeSlider />" `}),vy=je(function(t,n){const r={orientation:"horizontal",...t},o=Kn("Slider",r),s=sn(r),{direction:i}=Qd();s.direction=i;const{getRootProps:l,...c}=QW(s),p=d.useMemo(()=>({...c,name:r.name}),[c,r.name]);return a.jsx(ZW,{value:p,children:a.jsx(JW,{value:o,children:a.jsx(we.div,{...l({},n),className:"chakra-slider",__css:o.container,children:r.children})})})});vy.displayName="RangeSlider";var Ed=je(function(t,n){const{getThumbProps:r,getInputProps:o,name:s}=kg(),i=jg(),l=r(t,n);return a.jsxs(we.div,{...l,className:Ci("chakra-slider__thumb",t.className),__css:i.thumb,children:[l.children,s&&a.jsx("input",{...o({index:t.index})})]})});Ed.displayName="RangeSliderThumb";var xy=je(function(t,n){const{getTrackProps:r}=kg(),o=jg(),s=r(t,n);return a.jsx(we.div,{...s,className:Ci("chakra-slider__track",t.className),__css:o.track,"data-testid":"chakra-range-slider-track"})});xy.displayName="RangeSliderTrack";var by=je(function(t,n){const{getInnerTrackProps:r}=kg(),o=jg(),s=r(t,n);return a.jsx(we.div,{...s,className:"chakra-slider__filled-track",__css:o.filledTrack})});by.displayName="RangeSliderFilledTrack";var Zi=je(function(t,n){const{getMarkerProps:r}=kg(),o=jg(),s=r(t,n);return a.jsx(we.div,{...s,className:Ci("chakra-slider__marker",t.className),__css:o.mark})});Zi.displayName="RangeSliderMark";function eU(e){var t;const{min:n=0,max:r=100,onChange:o,value:s,defaultValue:i,isReversed:l,direction:c="ltr",orientation:p="horizontal",id:h,isDisabled:m,isReadOnly:g,onChangeStart:x,onChangeEnd:y,step:b=1,getAriaValueText:w,"aria-valuetext":S,"aria-label":j,"aria-labelledby":I,name:M,focusThumbOnChange:_=!0,...E}=e,D=fn(x),R=fn(y),A=fn(w),O=R3({isReversed:l,direction:c,orientation:p}),[T,K]=rf({value:s,defaultValue:i??nU(n,r),onChange:o}),[L,H]=d.useState(!1),[U,W]=d.useState(!1),z=!(m||g),Q=(r-n)/10,F=b||(r-n)/100,X=Ic(T,n,r),Y=r-X+n,ae=Nh(O?Y:X,n,r),oe=p==="vertical",q=N3({min:n,max:r,step:b,isDisabled:m,value:X,isInteractive:z,isReversed:O,isVertical:oe,eventSource:null,focusThumbOnChange:_,orientation:p}),G=d.useRef(null),te=d.useRef(null),ce=d.useRef(null),J=d.useId(),ie=h??J,[de,me]=[`slider-thumb-${ie}`,`slider-track-${ie}`],Ce=d.useCallback(Oe=>{var $e,Wt;if(!G.current)return;const ke=q.current;ke.eventSource="pointer";const Fe=G.current.getBoundingClientRect(),{clientX:Le,clientY:Ge}=(Wt=($e=Oe.touches)==null?void 0:$e[0])!=null?Wt:Oe,ht=oe?Fe.bottom-Ge:Le-Fe.left,Mn=oe?Fe.height:Fe.width;let At=ht/Mn;O&&(At=1-At);let Tt=X5(At,ke.min,ke.max);return ke.step&&(Tt=parseFloat(rx(Tt,ke.min,ke.step))),Tt=Ic(Tt,ke.min,ke.max),Tt},[oe,O,q]),ve=d.useCallback(Oe=>{const $e=q.current;$e.isInteractive&&(Oe=parseFloat(rx(Oe,$e.min,F)),Oe=Ic(Oe,$e.min,$e.max),K(Oe))},[F,K,q]),pe=d.useMemo(()=>({stepUp(Oe=F){const $e=O?X-Oe:X+Oe;ve($e)},stepDown(Oe=F){const $e=O?X+Oe:X-Oe;ve($e)},reset(){ve(i||0)},stepTo(Oe){ve(Oe)}}),[ve,O,X,F,i]),Re=d.useCallback(Oe=>{const $e=q.current,ke={ArrowRight:()=>pe.stepUp(),ArrowUp:()=>pe.stepUp(),ArrowLeft:()=>pe.stepDown(),ArrowDown:()=>pe.stepDown(),PageUp:()=>pe.stepUp(Q),PageDown:()=>pe.stepDown(Q),Home:()=>ve($e.min),End:()=>ve($e.max)}[Oe.key];ke&&(Oe.preventDefault(),Oe.stopPropagation(),ke(Oe),$e.eventSource="keyboard")},[pe,ve,Q,q]),Pe=(t=A==null?void 0:A(X))!=null?t:S,Ve=XW(te),{getThumbStyle:lt,rootStyle:Ke,trackStyle:Et,innerTrackStyle:et}=d.useMemo(()=>{const Oe=q.current,$e=Ve??{width:0,height:0};return D3({isReversed:O,orientation:Oe.orientation,thumbRects:[$e],thumbPercents:[ae]})},[O,Ve,ae,q]),ot=d.useCallback(()=>{q.current.focusThumbOnChange&&setTimeout(()=>{var $e;return($e=te.current)==null?void 0:$e.focus()})},[q]);Ea(()=>{const Oe=q.current;ot(),Oe.eventSource==="keyboard"&&(R==null||R(Oe.value))},[X,R]);function ye(Oe){const $e=Ce(Oe);$e!=null&&$e!==q.current.value&&K($e)}$3(ce,{onPanSessionStart(Oe){const $e=q.current;$e.isInteractive&&(H(!0),ot(),ye(Oe),D==null||D($e.value))},onPanSessionEnd(){const Oe=q.current;Oe.isInteractive&&(H(!1),R==null||R(Oe.value))},onPan(Oe){q.current.isInteractive&&ye(Oe)}});const Ae=d.useCallback((Oe={},$e=null)=>({...Oe,...E,ref:Pt($e,ce),tabIndex:-1,"aria-disabled":Mc(m),"data-focused":Co(U),style:{...Oe.style,...Ke}}),[E,m,U,Ke]),dt=d.useCallback((Oe={},$e=null)=>({...Oe,ref:Pt($e,G),id:me,"data-disabled":Co(m),style:{...Oe.style,...Et}}),[m,me,Et]),yt=d.useCallback((Oe={},$e=null)=>({...Oe,ref:$e,style:{...Oe.style,...et}}),[et]),be=d.useCallback((Oe={},$e=null)=>({...Oe,ref:Pt($e,te),role:"slider",tabIndex:z?0:void 0,id:de,"data-active":Co(L),"aria-valuetext":Pe,"aria-valuemin":n,"aria-valuemax":r,"aria-valuenow":X,"aria-orientation":p,"aria-disabled":Mc(m),"aria-readonly":Mc(g),"aria-label":j,"aria-labelledby":j?void 0:I,style:{...Oe.style,...lt(0)},onKeyDown:Oc(Oe.onKeyDown,Re),onFocus:Oc(Oe.onFocus,()=>W(!0)),onBlur:Oc(Oe.onBlur,()=>W(!1))}),[z,de,L,Pe,n,r,X,p,m,g,j,I,lt,Re]),tt=d.useCallback((Oe,$e=null)=>{const Wt=!(Oe.value<n||Oe.value>r),ke=X>=Oe.value,Fe=Nh(Oe.value,n,r),Le={position:"absolute",pointerEvents:"none",...tU({orientation:p,vertical:{bottom:O?`${100-Fe}%`:`${Fe}%`},horizontal:{left:O?`${100-Fe}%`:`${Fe}%`}})};return{...Oe,ref:$e,role:"presentation","aria-hidden":!0,"data-disabled":Co(m),"data-invalid":Co(!Wt),"data-highlighted":Co(ke),style:{...Oe.style,...Le}}},[m,O,r,n,p,X]),ct=d.useCallback((Oe={},$e=null)=>({...Oe,ref:$e,type:"hidden",value:X,name:M}),[M,X]);return{state:{value:X,isFocused:U,isDragging:L},actions:pe,getRootProps:Ae,getTrackProps:dt,getInnerTrackProps:yt,getThumbProps:be,getMarkerProps:tt,getInputProps:ct}}function tU(e){const{orientation:t,vertical:n,horizontal:r}=e;return t==="vertical"?n:r}function nU(e,t){return t<e?e:e+(t-e)/2}var[rU,Ig]=Vt({name:"SliderContext",hookName:"useSliderContext",providerName:"<Slider />"}),[oU,_g]=Vt({name:"SliderStylesContext",hookName:"useSliderStyles",providerName:"<Slider />"}),yy=je((e,t)=>{var n;const r={...e,orientation:(n=e==null?void 0:e.orientation)!=null?n:"horizontal"},o=Kn("Slider",r),s=sn(r),{direction:i}=Qd();s.direction=i;const{getInputProps:l,getRootProps:c,...p}=eU(s),h=c(),m=l({},t);return a.jsx(rU,{value:p,children:a.jsx(oU,{value:o,children:a.jsxs(we.div,{...h,className:Ci("chakra-slider",r.className),__css:o.container,children:[r.children,a.jsx("input",{...m})]})})})});yy.displayName="Slider";var Cy=je((e,t)=>{const{getThumbProps:n}=Ig(),r=_g(),o=n(e,t);return a.jsx(we.div,{...o,className:Ci("chakra-slider__thumb",e.className),__css:r.thumb})});Cy.displayName="SliderThumb";var wy=je((e,t)=>{const{getTrackProps:n}=Ig(),r=_g(),o=n(e,t);return a.jsx(we.div,{...o,className:Ci("chakra-slider__track",e.className),__css:r.track})});wy.displayName="SliderTrack";var Sy=je((e,t)=>{const{getInnerTrackProps:n}=Ig(),r=_g(),o=n(e,t);return a.jsx(we.div,{...o,className:Ci("chakra-slider__filled-track",e.className),__css:r.filledTrack})});Sy.displayName="SliderFilledTrack";var dc=je((e,t)=>{const{getMarkerProps:n}=Ig(),r=_g(),o=n(e,t);return a.jsx(we.div,{...o,className:Ci("chakra-slider__marker",e.className),__css:r.mark})});dc.displayName="SliderMark";var[sU,z3]=Vt({name:"StatStylesContext",errorMessage:`useStatStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Stat />" `}),F3=je(function(t,n){const r=Kn("Stat",t),o={position:"relative",flex:"1 1 0%",...r.container},{className:s,children:i,...l}=sn(t);return a.jsx(sU,{value:r,children:a.jsx(we.div,{ref:n,...l,className:Ze("chakra-stat",s),__css:o,children:a.jsx("dl",{children:i})})})});F3.displayName="Stat";var B3=je(function(t,n){return a.jsx(we.div,{...t,ref:n,role:"group",className:Ze("chakra-stat__group",t.className),__css:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start"}})});B3.displayName="StatGroup";var H3=je(function(t,n){const r=z3();return a.jsx(we.dt,{ref:n,...t,className:Ze("chakra-stat__label",t.className),__css:r.label})});H3.displayName="StatLabel";var V3=je(function(t,n){const r=z3();return a.jsx(we.dd,{ref:n,...t,className:Ze("chakra-stat__number",t.className),__css:{...r.number,fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}})});V3.displayName="StatNumber";var ky=je(function(t,n){const r=Kn("Switch",t),{spacing:o="0.5rem",children:s,...i}=sn(t),{getIndicatorProps:l,getInputProps:c,getCheckboxProps:p,getRootProps:h,getLabelProps:m}=q5(i),g=d.useMemo(()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...r.container}),[r.container]),x=d.useMemo(()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...r.track}),[r.track]),y=d.useMemo(()=>({userSelect:"none",marginStart:o,...r.label}),[o,r.label]);return a.jsxs(we.label,{...h(),className:Ze("chakra-switch",t.className),__css:g,children:[a.jsx("input",{className:"chakra-switch__input",...c({},n)}),a.jsx(we.span,{...p(),className:"chakra-switch__track",__css:x,children:a.jsx(we.span,{__css:r.thumb,className:"chakra-switch__thumb",...l()})}),s&&a.jsx(we.span,{className:"chakra-switch__label",...m(),__css:y,children:s})]})});ky.displayName="Switch";var[aU,iU,lU,cU]=Lb();function uU(e){var t;const{defaultIndex:n,onChange:r,index:o,isManual:s,isLazy:i,lazyBehavior:l="unmount",orientation:c="horizontal",direction:p="ltr",...h}=e,[m,g]=d.useState(n??0),[x,y]=rf({defaultValue:n??0,value:o,onChange:r});d.useEffect(()=>{o!=null&&g(o)},[o]);const b=lU(),w=d.useId();return{id:`tabs-${(t=e.id)!=null?t:w}`,selectedIndex:x,focusedIndex:m,setSelectedIndex:y,setFocusedIndex:g,isManual:s,isLazy:i,lazyBehavior:l,orientation:c,descendants:b,direction:p,htmlProps:h}}var[dU,Pg]=Vt({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function fU(e){const{focusedIndex:t,orientation:n,direction:r}=Pg(),o=iU(),s=d.useCallback(i=>{const l=()=>{var j;const I=o.nextEnabled(t);I&&((j=I.node)==null||j.focus())},c=()=>{var j;const I=o.prevEnabled(t);I&&((j=I.node)==null||j.focus())},p=()=>{var j;const I=o.firstEnabled();I&&((j=I.node)==null||j.focus())},h=()=>{var j;const I=o.lastEnabled();I&&((j=I.node)==null||j.focus())},m=n==="horizontal",g=n==="vertical",x=i.key,y=r==="ltr"?"ArrowLeft":"ArrowRight",b=r==="ltr"?"ArrowRight":"ArrowLeft",S={[y]:()=>m&&c(),[b]:()=>m&&l(),ArrowDown:()=>g&&l(),ArrowUp:()=>g&&c(),Home:p,End:h}[x];S&&(i.preventDefault(),S(i))},[o,t,n,r]);return{...e,role:"tablist","aria-orientation":n,onKeyDown:Be(e.onKeyDown,s)}}function pU(e){const{isDisabled:t=!1,isFocusable:n=!1,...r}=e,{setSelectedIndex:o,isManual:s,id:i,setFocusedIndex:l,selectedIndex:c}=Pg(),{index:p,register:h}=cU({disabled:t&&!n}),m=p===c,g=()=>{o(p)},x=()=>{l(p),!s&&!(t&&n)&&o(p)},y=XP({...r,ref:Pt(h,e.ref),isDisabled:t,isFocusable:n,onClick:Be(e.onClick,g)}),b="button";return{...y,id:W3(i,p),role:"tab",tabIndex:m?0:-1,type:b,"aria-selected":m,"aria-controls":U3(i,p),onFocus:t?void 0:Be(e.onFocus,x)}}var[hU,mU]=Vt({});function gU(e){const t=Pg(),{id:n,selectedIndex:r}=t,s=tg(e.children).map((i,l)=>d.createElement(hU,{key:l,value:{isSelected:l===r,id:U3(n,l),tabId:W3(n,l),selectedIndex:r}},i));return{...e,children:s}}function vU(e){const{children:t,...n}=e,{isLazy:r,lazyBehavior:o}=Pg(),{isSelected:s,id:i,tabId:l}=mU(),c=d.useRef(!1);s&&(c.current=!0);const p=my({wasSelected:c.current,isSelected:s,enabled:r,mode:o});return{tabIndex:0,...n,children:p?t:null,role:"tabpanel","aria-labelledby":l,hidden:!s,id:i}}function W3(e,t){return`${e}--tab-${t}`}function U3(e,t){return`${e}--tabpanel-${t}`}var[xU,Eg]=Vt({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),wl=je(function(t,n){const r=Kn("Tabs",t),{children:o,className:s,...i}=sn(t),{htmlProps:l,descendants:c,...p}=uU(i),h=d.useMemo(()=>p,[p]),{isFitted:m,...g}=l;return a.jsx(aU,{value:c,children:a.jsx(dU,{value:h,children:a.jsx(xU,{value:r,children:a.jsx(we.div,{className:Ze("chakra-tabs",s),ref:n,...g,__css:r.root,children:o})})})})});wl.displayName="Tabs";var Sl=je(function(t,n){const r=fU({...t,ref:n}),s={display:"flex",...Eg().tablist};return a.jsx(we.div,{...r,className:Ze("chakra-tabs__tablist",t.className),__css:s})});Sl.displayName="TabList";var Mo=je(function(t,n){const r=vU({...t,ref:n}),o=Eg();return a.jsx(we.div,{outline:"0",...r,className:Ze("chakra-tabs__tab-panel",t.className),__css:o.tabpanel})});Mo.displayName="TabPanel";var uu=je(function(t,n){const r=gU(t),o=Eg();return a.jsx(we.div,{...r,width:"100%",ref:n,className:Ze("chakra-tabs__tab-panels",t.className),__css:o.tabpanels})});uu.displayName="TabPanels";var Lr=je(function(t,n){const r=Eg(),o=pU({...t,ref:n}),s={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...r.tab};return a.jsx(we.button,{...o,className:Ze("chakra-tabs__tab",t.className),__css:s})});Lr.displayName="Tab";function bU(e,t=[]){const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}var yU=["h","minH","height","minHeight"],G3=je((e,t)=>{const n=bi("Textarea",e),{className:r,rows:o,...s}=sn(e),i=Bb(s),l=o?bU(n,yU):n;return a.jsx(we.textarea,{ref:t,rows:o,...i,className:Ze("chakra-textarea",r),__css:l})});G3.displayName="Textarea";var CU={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},bx=e=>{var t;return((t=e.current)==null?void 0:t.ownerDocument)||document},xh=e=>{var t,n;return((n=(t=e.current)==null?void 0:t.ownerDocument)==null?void 0:n.defaultView)||window};function wU(e={}){const{openDelay:t=0,closeDelay:n=0,closeOnClick:r=!0,closeOnMouseDown:o,closeOnScroll:s,closeOnPointerDown:i=o,closeOnEsc:l=!0,onOpen:c,onClose:p,placement:h,id:m,isOpen:g,defaultIsOpen:x,arrowSize:y=10,arrowShadowColor:b,arrowPadding:w,modifiers:S,isDisabled:j,gutter:I,offset:M,direction:_,...E}=e,{isOpen:D,onOpen:R,onClose:A}=hy({isOpen:g,defaultIsOpen:x,onOpen:c,onClose:p}),{referenceRef:O,getPopperProps:T,getArrowInnerProps:K,getArrowProps:L}=py({enabled:D,placement:h,arrowPadding:w,modifiers:S,gutter:I,offset:M,direction:_}),H=d.useId(),W=`tooltip-${m??H}`,z=d.useRef(null),Q=d.useRef(),F=d.useCallback(()=>{Q.current&&(clearTimeout(Q.current),Q.current=void 0)},[]),X=d.useRef(),Y=d.useCallback(()=>{X.current&&(clearTimeout(X.current),X.current=void 0)},[]),se=d.useCallback(()=>{Y(),A()},[A,Y]),ae=SU(z,se),oe=d.useCallback(()=>{if(!j&&!Q.current){D&&ae();const me=xh(z);Q.current=me.setTimeout(R,t)}},[ae,j,D,R,t]),q=d.useCallback(()=>{F();const me=xh(z);X.current=me.setTimeout(se,n)},[n,se,F]),G=d.useCallback(()=>{D&&r&&q()},[r,q,D]),te=d.useCallback(()=>{D&&i&&q()},[i,q,D]),ce=d.useCallback(me=>{D&&me.key==="Escape"&&q()},[D,q]);Qi(()=>bx(z),"keydown",l?ce:void 0),Qi(()=>{const me=z.current;if(!me)return null;const Ce=NP(me);return Ce.localName==="body"?xh(z):Ce},"scroll",()=>{D&&s&&se()},{passive:!0,capture:!0}),d.useEffect(()=>{j&&(F(),D&&A())},[j,D,A,F]),d.useEffect(()=>()=>{F(),Y()},[F,Y]),Qi(()=>z.current,"pointerleave",q);const J=d.useCallback((me={},Ce=null)=>({...me,ref:Pt(z,Ce,O),onPointerEnter:Be(me.onPointerEnter,pe=>{pe.pointerType!=="touch"&&oe()}),onClick:Be(me.onClick,G),onPointerDown:Be(me.onPointerDown,te),onFocus:Be(me.onFocus,oe),onBlur:Be(me.onBlur,q),"aria-describedby":D?W:void 0}),[oe,q,te,D,W,G,O]),ie=d.useCallback((me={},Ce=null)=>T({...me,style:{...me.style,[Ln.arrowSize.var]:y?`${y}px`:void 0,[Ln.arrowShadowColor.var]:b}},Ce),[T,y,b]),de=d.useCallback((me={},Ce=null)=>{const ve={...me.style,position:"relative",transformOrigin:Ln.transformOrigin.varRef};return{ref:Ce,...E,...me,id:W,role:"tooltip",style:ve}},[E,W]);return{isOpen:D,show:oe,hide:q,getTriggerProps:J,getTooltipProps:de,getTooltipPositionerProps:ie,getArrowProps:L,getArrowInnerProps:K}}var Qv="chakra-ui:close-tooltip";function SU(e,t){return d.useEffect(()=>{const n=bx(e);return n.addEventListener(Qv,t),()=>n.removeEventListener(Qv,t)},[t,e]),()=>{const n=bx(e),r=xh(e);n.dispatchEvent(new r.CustomEvent(Qv))}}function kU(e,t=[]){const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}function jU(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}var IU=we(En.div),Ht=je((e,t)=>{var n,r;const o=bi("Tooltip",e),s=sn(e),i=Qd(),{children:l,label:c,shouldWrapChildren:p,"aria-label":h,hasArrow:m,bg:g,portalProps:x,background:y,backgroundColor:b,bgColor:w,motionProps:S,...j}=s,I=(r=(n=y??b)!=null?n:g)!=null?r:w;if(I){o.bg=I;const T=ER(i,"colors",I);o[Ln.arrowBg.var]=T}const M=wU({...j,direction:i.direction}),_=typeof l=="string"||p;let E;if(_)E=a.jsx(we.span,{display:"inline-block",tabIndex:0,...M.getTriggerProps(),children:l});else{const T=d.Children.only(l);E=d.cloneElement(T,M.getTriggerProps(T.props,T.ref))}const D=!!h,R=M.getTooltipProps({},t),A=D?kU(R,["role","id"]):R,O=jU(R,["role","id"]);return c?a.jsxs(a.Fragment,{children:[E,a.jsx(pr,{children:M.isOpen&&a.jsx(su,{...x,children:a.jsx(we.div,{...M.getTooltipPositionerProps(),__css:{zIndex:o.zIndex,pointerEvents:"none"},children:a.jsxs(IU,{variants:CU,initial:"exit",animate:"enter",exit:"exit",...S,...A,__css:o,children:[c,D&&a.jsx(we.span,{srOnly:!0,...O,children:h}),m&&a.jsx(we.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:a.jsx(we.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:o.bg}})})]})})})})]}):a.jsx(a.Fragment,{children:l})});Ht.displayName="Tooltip";const _U=le(xe,({system:e})=>{const{consoleLogLevel:t,shouldLogToConsole:n}=e;return{consoleLogLevel:t,shouldLogToConsole:n}},{memoizeOptions:{resultEqualityCheck:Bt}}),K3=e=>{const{consoleLogLevel:t,shouldLogToConsole:n}=V(_U);return d.useEffect(()=>{n?(localStorage.setItem("ROARR_LOG","true"),localStorage.setItem("ROARR_FILTER",`context.logLevel:>=${MR[t]}`)):localStorage.setItem("ROARR_LOG","false"),Ow.ROARR.write=OR.createLogWriter()},[t,n]),d.useEffect(()=>{const o={...DR};RR.set(Ow.Roarr.child(o))},[]),d.useMemo(()=>bl(e),[e])},PU=()=>{const e=ee(),t=V(r=>r.system.toastQueue),n=L5();return d.useEffect(()=>{t.forEach(r=>{n(r)}),t.length>0&&e(AR())},[e,n,t]),null},kl=()=>{const e=ee();return d.useCallback(n=>e(ut(Yt(n))),[e])},EU=d.memo(PU);var MU=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function xf(e,t){var n=OU(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function OU(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),o=MU.get(r);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var DU=[".DS_Store","Thumbs.db"];function RU(e){return au(this,void 0,void 0,function(){return iu(this,function(t){return Hh(e)&&AU(e.dataTransfer)?[2,LU(e.dataTransfer,e.type)]:TU(e)?[2,NU(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,$U(e)]:[2,[]]})})}function AU(e){return Hh(e)}function TU(e){return Hh(e)&&Hh(e.target)}function Hh(e){return typeof e=="object"&&e!==null}function NU(e){return yx(e.target.files).map(function(t){return xf(t)})}function $U(e){return au(this,void 0,void 0,function(){var t;return iu(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(r){return r.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(r){return xf(r)})]}})})}function LU(e,t){return au(this,void 0,void 0,function(){var n,r;return iu(this,function(o){switch(o.label){case 0:return e.items?(n=yx(e.items).filter(function(s){return s.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(zU))]):[3,2];case 1:return r=o.sent(),[2,d4(q3(r))];case 2:return[2,d4(yx(e.files).map(function(s){return xf(s)}))]}})})}function d4(e){return e.filter(function(t){return DU.indexOf(t.name)===-1})}function yx(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function zU(e){if(typeof e.webkitGetAsEntry!="function")return f4(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?X3(t):f4(e)}function q3(e){return e.reduce(function(t,n){return sx(sx([],AS(t),!1),AS(Array.isArray(n)?q3(n):[n]),!1)},[])}function f4(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=xf(t);return Promise.resolve(n)}function FU(e){return au(this,void 0,void 0,function(){return iu(this,function(t){return[2,e.isDirectory?X3(e):BU(e)]})})}function X3(e){var t=e.createReader();return new Promise(function(n,r){var o=[];function s(){var i=this;t.readEntries(function(l){return au(i,void 0,void 0,function(){var c,p,h;return iu(this,function(m){switch(m.label){case 0:if(l.length)return[3,5];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return c=m.sent(),n(c),[3,4];case 3:return p=m.sent(),r(p),[3,4];case 4:return[3,6];case 5:h=Promise.all(l.map(FU)),o.push(h),s(),m.label=6;case 6:return[2]}})})},function(l){r(l)})}s()})}function BU(e){return au(this,void 0,void 0,function(){return iu(this,function(t){return[2,new Promise(function(n,r){e.file(function(o){var s=xf(o,e.fullPath);n(s)},function(o){r(o)})})]})})}var HU=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),s=o.replace(/\/.*$/,"");return n.some(function(i){var l=i.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):o===l})}return!0};function p4(e){return UU(e)||WU(e)||Y3(e)||VU()}function VU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UU(e){if(Array.isArray(e))return Cx(e)}function h4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function m4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h4(Object(n),!0).forEach(function(r){Q3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Md(e,t){return qU(e)||KU(e,t)||Y3(e,t)||GU()}function GU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y3(e,t){if(e){if(typeof e=="string")return Cx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cx(e,t)}}function Cx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],o=!0,s=!1,i,l;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!(t&&r.length===t));o=!0);}catch(c){s=!0,l=c}finally{try{!o&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function qU(e){if(Array.isArray(e))return e}var XU="file-invalid-type",QU="file-too-large",YU="file-too-small",ZU="too-many-files",JU=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:XU,message:"File type must be ".concat(n)}},g4=function(t){return{code:QU,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},v4=function(t){return{code:YU,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},eG={code:ZU,message:"Too many files"};function Z3(e,t){var n=e.type==="application/x-moz-file"||HU(e,t);return[n,n?null:JU(t)]}function J3(e,t,n){if(Hi(e.size))if(Hi(t)&&Hi(n)){if(e.size>n)return[!1,g4(n)];if(e.size<t)return[!1,v4(t)]}else{if(Hi(t)&&e.size<t)return[!1,v4(t)];if(Hi(n)&&e.size>n)return[!1,g4(n)]}return[!0,null]}function Hi(e){return e!=null}function tG(e){var t=e.files,n=e.accept,r=e.minSize,o=e.maxSize,s=e.multiple,i=e.maxFiles,l=e.validator;return!s&&t.length>1||s&&i>=1&&t.length>i?!1:t.every(function(c){var p=Z3(c,n),h=Md(p,1),m=h[0],g=J3(c,r,o),x=Md(g,1),y=x[0],b=l?l(c):null;return m&&y&&!b})}function Vh(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Np(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function x4(e){e.preventDefault()}function nG(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function rG(e){return e.indexOf("Edge/")!==-1}function oG(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return nG(e)||rG(e)}function Cs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),i=1;i<o;i++)s[i-1]=arguments[i];return t.some(function(l){return!Vh(r)&&l&&l.apply(void 0,[r].concat(s)),Vh(r)})}}function sG(){return"showOpenFilePicker"in window}function aG(e){if(Hi(e)){var t=Object.entries(e).filter(function(n){var r=Md(n,2),o=r[0],s=r[1],i=!0;return e6(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(s)||!s.every(t6))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(n,r){var o=Md(r,2),s=o[0],i=o[1];return m4(m4({},n),{},Q3({},s,i))},{});return[{description:"Files",accept:t}]}return e}function iG(e){if(Hi(e))return Object.entries(e).reduce(function(t,n){var r=Md(n,2),o=r[0],s=r[1];return[].concat(p4(t),[o],p4(s))},[]).filter(function(t){return e6(t)||t6(t)}).join(",")}function lG(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function cG(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function e6(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function t6(e){return/^.*\.[\w]+$/.test(e)}var uG=["children"],dG=["open"],fG=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],pG=["refKey","onChange","onClick"];function hG(e){return vG(e)||gG(e)||n6(e)||mG()}function mG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vG(e){if(Array.isArray(e))return wx(e)}function Yv(e,t){return yG(e)||bG(e,t)||n6(e,t)||xG()}function xG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n6(e,t){if(e){if(typeof e=="string")return wx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wx(e,t)}}function wx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bG(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],o=!0,s=!1,i,l;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!(t&&r.length===t));o=!0);}catch(c){s=!0,l=c}finally{try{!o&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function yG(e){if(Array.isArray(e))return e}function b4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(n),!0).forEach(function(r){Sx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wh(e,t){if(e==null)return{};var n=CG(e,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function CG(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var jy=d.forwardRef(function(e,t){var n=e.children,r=Wh(e,uG),o=Iy(r),s=o.open,i=Wh(o,dG);return d.useImperativeHandle(t,function(){return{open:s}},[s]),B.createElement(d.Fragment,null,n(Cn(Cn({},i),{},{open:s})))});jy.displayName="Dropzone";var r6={disabled:!1,getFilesFromEvent:RU,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};jy.defaultProps=r6;jy.propTypes={children:en.func,accept:en.objectOf(en.arrayOf(en.string)),multiple:en.bool,preventDropOnDocument:en.bool,noClick:en.bool,noKeyboard:en.bool,noDrag:en.bool,noDragEventsBubbling:en.bool,minSize:en.number,maxSize:en.number,maxFiles:en.number,disabled:en.bool,getFilesFromEvent:en.func,onFileDialogCancel:en.func,onFileDialogOpen:en.func,useFsAccessApi:en.bool,autoFocus:en.bool,onDragEnter:en.func,onDragLeave:en.func,onDragOver:en.func,onDrop:en.func,onDropAccepted:en.func,onDropRejected:en.func,onError:en.func,validator:en.func};var kx={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Iy(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Cn(Cn({},r6),e),n=t.accept,r=t.disabled,o=t.getFilesFromEvent,s=t.maxSize,i=t.minSize,l=t.multiple,c=t.maxFiles,p=t.onDragEnter,h=t.onDragLeave,m=t.onDragOver,g=t.onDrop,x=t.onDropAccepted,y=t.onDropRejected,b=t.onFileDialogCancel,w=t.onFileDialogOpen,S=t.useFsAccessApi,j=t.autoFocus,I=t.preventDropOnDocument,M=t.noClick,_=t.noKeyboard,E=t.noDrag,D=t.noDragEventsBubbling,R=t.onError,A=t.validator,O=d.useMemo(function(){return iG(n)},[n]),T=d.useMemo(function(){return aG(n)},[n]),K=d.useMemo(function(){return typeof w=="function"?w:y4},[w]),L=d.useMemo(function(){return typeof b=="function"?b:y4},[b]),H=d.useRef(null),U=d.useRef(null),W=d.useReducer(wG,kx),z=Yv(W,2),Q=z[0],F=z[1],X=Q.isFocused,Y=Q.isFileDialogActive,se=d.useRef(typeof window<"u"&&window.isSecureContext&&S&&sG()),ae=function(){!se.current&&Y&&setTimeout(function(){if(U.current){var Ae=U.current.files;Ae.length||(F({type:"closeDialog"}),L())}},300)};d.useEffect(function(){return window.addEventListener("focus",ae,!1),function(){window.removeEventListener("focus",ae,!1)}},[U,Y,L,se]);var oe=d.useRef([]),q=function(Ae){H.current&&H.current.contains(Ae.target)||(Ae.preventDefault(),oe.current=[])};d.useEffect(function(){return I&&(document.addEventListener("dragover",x4,!1),document.addEventListener("drop",q,!1)),function(){I&&(document.removeEventListener("dragover",x4),document.removeEventListener("drop",q))}},[H,I]),d.useEffect(function(){return!r&&j&&H.current&&H.current.focus(),function(){}},[H,j,r]);var G=d.useCallback(function(ye){R?R(ye):console.error(ye)},[R]),te=d.useCallback(function(ye){ye.preventDefault(),ye.persist(),Ke(ye),oe.current=[].concat(hG(oe.current),[ye.target]),Np(ye)&&Promise.resolve(o(ye)).then(function(Ae){if(!(Vh(ye)&&!D)){var dt=Ae.length,yt=dt>0&&tG({files:Ae,accept:O,minSize:i,maxSize:s,multiple:l,maxFiles:c,validator:A}),be=dt>0&&!yt;F({isDragAccept:yt,isDragReject:be,isDragActive:!0,type:"setDraggedFiles"}),p&&p(ye)}}).catch(function(Ae){return G(Ae)})},[o,p,G,D,O,i,s,l,c,A]),ce=d.useCallback(function(ye){ye.preventDefault(),ye.persist(),Ke(ye);var Ae=Np(ye);if(Ae&&ye.dataTransfer)try{ye.dataTransfer.dropEffect="copy"}catch{}return Ae&&m&&m(ye),!1},[m,D]),J=d.useCallback(function(ye){ye.preventDefault(),ye.persist(),Ke(ye);var Ae=oe.current.filter(function(yt){return H.current&&H.current.contains(yt)}),dt=Ae.indexOf(ye.target);dt!==-1&&Ae.splice(dt,1),oe.current=Ae,!(Ae.length>0)&&(F({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Np(ye)&&h&&h(ye))},[H,h,D]),ie=d.useCallback(function(ye,Ae){var dt=[],yt=[];ye.forEach(function(be){var tt=Z3(be,O),ct=Yv(tt,2),pt=ct[0],Oe=ct[1],$e=J3(be,i,s),Wt=Yv($e,2),ke=Wt[0],Fe=Wt[1],Le=A?A(be):null;if(pt&&ke&&!Le)dt.push(be);else{var Ge=[Oe,Fe];Le&&(Ge=Ge.concat(Le)),yt.push({file:be,errors:Ge.filter(function(ht){return ht})})}}),(!l&&dt.length>1||l&&c>=1&&dt.length>c)&&(dt.forEach(function(be){yt.push({file:be,errors:[eG]})}),dt.splice(0)),F({acceptedFiles:dt,fileRejections:yt,type:"setFiles"}),g&&g(dt,yt,Ae),yt.length>0&&y&&y(yt,Ae),dt.length>0&&x&&x(dt,Ae)},[F,l,O,i,s,c,g,x,y,A]),de=d.useCallback(function(ye){ye.preventDefault(),ye.persist(),Ke(ye),oe.current=[],Np(ye)&&Promise.resolve(o(ye)).then(function(Ae){Vh(ye)&&!D||ie(Ae,ye)}).catch(function(Ae){return G(Ae)}),F({type:"reset"})},[o,ie,G,D]),me=d.useCallback(function(){if(se.current){F({type:"openDialog"}),K();var ye={multiple:l,types:T};window.showOpenFilePicker(ye).then(function(Ae){return o(Ae)}).then(function(Ae){ie(Ae,null),F({type:"closeDialog"})}).catch(function(Ae){lG(Ae)?(L(Ae),F({type:"closeDialog"})):cG(Ae)?(se.current=!1,U.current?(U.current.value=null,U.current.click()):G(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):G(Ae)});return}U.current&&(F({type:"openDialog"}),K(),U.current.value=null,U.current.click())},[F,K,L,S,ie,G,T,l]),Ce=d.useCallback(function(ye){!H.current||!H.current.isEqualNode(ye.target)||(ye.key===" "||ye.key==="Enter"||ye.keyCode===32||ye.keyCode===13)&&(ye.preventDefault(),me())},[H,me]),ve=d.useCallback(function(){F({type:"focus"})},[]),pe=d.useCallback(function(){F({type:"blur"})},[]),Re=d.useCallback(function(){M||(oG()?setTimeout(me,0):me())},[M,me]),Pe=function(Ae){return r?null:Ae},Ve=function(Ae){return _?null:Pe(Ae)},lt=function(Ae){return E?null:Pe(Ae)},Ke=function(Ae){D&&Ae.stopPropagation()},Et=d.useMemo(function(){return function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ae=ye.refKey,dt=Ae===void 0?"ref":Ae,yt=ye.role,be=ye.onKeyDown,tt=ye.onFocus,ct=ye.onBlur,pt=ye.onClick,Oe=ye.onDragEnter,$e=ye.onDragOver,Wt=ye.onDragLeave,ke=ye.onDrop,Fe=Wh(ye,fG);return Cn(Cn(Sx({onKeyDown:Ve(Cs(be,Ce)),onFocus:Ve(Cs(tt,ve)),onBlur:Ve(Cs(ct,pe)),onClick:Pe(Cs(pt,Re)),onDragEnter:lt(Cs(Oe,te)),onDragOver:lt(Cs($e,ce)),onDragLeave:lt(Cs(Wt,J)),onDrop:lt(Cs(ke,de)),role:typeof yt=="string"&&yt!==""?yt:"presentation"},dt,H),!r&&!_?{tabIndex:0}:{}),Fe)}},[H,Ce,ve,pe,Re,te,ce,J,de,_,E,r]),et=d.useCallback(function(ye){ye.stopPropagation()},[]),ot=d.useMemo(function(){return function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ae=ye.refKey,dt=Ae===void 0?"ref":Ae,yt=ye.onChange,be=ye.onClick,tt=Wh(ye,pG),ct=Sx({accept:O,multiple:l,type:"file",style:{display:"none"},onChange:Pe(Cs(yt,de)),onClick:Pe(Cs(be,et)),tabIndex:-1},dt,U);return Cn(Cn({},ct),tt)}},[U,n,l,de,r]);return Cn(Cn({},Q),{},{isFocused:X&&!r,getRootProps:Et,getInputProps:ot,rootRef:H,inputRef:U,open:Pe(me)})}function wG(e,t){switch(t.type){case"focus":return Cn(Cn({},e),{},{isFocused:!0});case"blur":return Cn(Cn({},e),{},{isFocused:!1});case"openDialog":return Cn(Cn({},kx),{},{isFileDialogActive:!0});case"closeDialog":return Cn(Cn({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Cn(Cn({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Cn(Cn({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Cn({},kx);default:return e}}function y4(){}function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jx.apply(this,arguments)}var o6=["shift","alt","meta","mod","ctrl"],SG={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function ni(e){return(SG[e]||e).trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function kG(e){return o6.includes(e)}function Zv(e,t){return t===void 0&&(t=","),e.split(t)}function Jv(e,t,n){t===void 0&&(t="+");var r=e.toLocaleLowerCase().split(t).map(function(i){return ni(i)}),o={alt:r.includes("alt"),ctrl:r.includes("ctrl")||r.includes("control"),shift:r.includes("shift"),meta:r.includes("meta"),mod:r.includes("mod")},s=r.filter(function(i){return!o6.includes(i)});return jx({},o,{keys:s,description:n})}(function(){typeof document<"u"&&(document.addEventListener("keydown",function(e){e.key!==void 0&&s6([ni(e.key),ni(e.code)])}),document.addEventListener("keyup",function(e){e.key!==void 0&&a6([ni(e.key),ni(e.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){ri.clear()})})();var ri=new Set;function _y(e){return Array.isArray(e)}function bh(e,t){t===void 0&&(t=",");var n=_y(e)?e:e.split(t);return n.every(function(r){return ri.has(r.trim().toLowerCase())})}function s6(e){var t=Array.isArray(e)?e:[e];ri.has("meta")&&ri.forEach(function(n){return!kG(n)&&ri.delete(n.toLowerCase())}),t.forEach(function(n){return ri.add(n.toLowerCase())})}function a6(e){var t=Array.isArray(e)?e:[e];e==="meta"?ri.clear():t.forEach(function(n){return ri.delete(n.toLowerCase())})}function jG(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function IG(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}function _G(e){return i6(e,["input","textarea","select"])}function i6(e,t){var n=e.target;t===void 0&&(t=!1);var r=n&&n.tagName;return _y(t)?!!(r&&t&&t.some(function(o){return o.toLowerCase()===r.toLowerCase()})):!!(r&&t&&t===!0)}function PG(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(function(n){return t.includes(n)})||e.includes("*"):!0}var EG=function(t,n,r){r===void 0&&(r=!1);var o=n.alt,s=n.meta,i=n.mod,l=n.shift,c=n.ctrl,p=n.keys,h=t.key,m=t.code,g=t.ctrlKey,x=t.metaKey,y=t.shiftKey,b=t.altKey,w=ni(m),S=h.toLowerCase();if(!r){if(o===!b&&S!=="alt"||l===!y&&S!=="shift")return!1;if(i){if(!x&&!g)return!1}else if(s===!x&&S!=="meta"&&S!=="os"||c===!g&&S!=="ctrl"&&S!=="control")return!1}return p&&p.length===1&&(p.includes(S)||p.includes(w))?!0:p?bh(p):!p},MG=d.createContext(void 0),OG=function(){return d.useContext(MG)};function l6(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce(function(n,r){return n&&l6(e[r],t[r])},!0):e===t}var DG=d.createContext({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),RG=function(){return d.useContext(DG)};function AG(e){var t=d.useRef(void 0);return l6(t.current,e)||(t.current=e),t.current}var C4=function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},TG=typeof window<"u"?d.useLayoutEffect:d.useEffect;function Je(e,t,n,r){var o=d.useRef(null),s=d.useRef(!1),i=n instanceof Array?r instanceof Array?void 0:r:n,l=_y(e)?e.join(i==null?void 0:i.splitKey):e,c=n instanceof Array?n:r instanceof Array?r:void 0,p=d.useCallback(t,c??[]),h=d.useRef(p);c?h.current=p:h.current=t;var m=AG(i),g=RG(),x=g.enabledScopes,y=OG();return TG(function(){if(!((m==null?void 0:m.enabled)===!1||!PG(x,m==null?void 0:m.scopes))){var b=function(M,_){var E;if(_===void 0&&(_=!1),!(_G(M)&&!i6(M,m==null?void 0:m.enableOnFormTags))&&!(m!=null&&m.ignoreEventWhen!=null&&m.ignoreEventWhen(M))){if(o.current!==null&&document.activeElement!==o.current&&!o.current.contains(document.activeElement)){C4(M);return}(E=M.target)!=null&&E.isContentEditable&&!(m!=null&&m.enableOnContentEditable)||Zv(l,m==null?void 0:m.splitKey).forEach(function(D){var R,A=Jv(D,m==null?void 0:m.combinationKey);if(EG(M,A,m==null?void 0:m.ignoreModifiers)||(R=A.keys)!=null&&R.includes("*")){if(_&&s.current)return;if(jG(M,A,m==null?void 0:m.preventDefault),!IG(M,A,m==null?void 0:m.enabled)){C4(M);return}h.current(M,A),_||(s.current=!0)}})}},w=function(M){M.key!==void 0&&(s6(ni(M.code)),((m==null?void 0:m.keydown)===void 0&&(m==null?void 0:m.keyup)!==!0||m!=null&&m.keydown)&&b(M))},S=function(M){M.key!==void 0&&(a6(ni(M.code)),s.current=!1,m!=null&&m.keyup&&b(M,!0))},j=o.current||(i==null?void 0:i.document)||document;return j.addEventListener("keyup",S),j.addEventListener("keydown",w),y&&Zv(l,m==null?void 0:m.splitKey).forEach(function(I){return y.addHotkey(Jv(I,m==null?void 0:m.combinationKey,m==null?void 0:m.description))}),function(){j.removeEventListener("keyup",S),j.removeEventListener("keydown",w),y&&Zv(l,m==null?void 0:m.splitKey).forEach(function(I){return y.removeHotkey(Jv(I,m==null?void 0:m.combinationKey,m==null?void 0:m.description))})}}},[l,m,x]),o}const NG=e=>{const{isDragAccept:t,isDragReject:n,setIsHandlingUpload:r}=e;return Je("esc",()=>{r(!1)}),a.jsxs(_e,{sx:{position:"absolute",top:0,insetInlineStart:0,width:"100vw",height:"100vh",zIndex:999,backdropFilter:"blur(20px)"},children:[a.jsx(N,{sx:{position:"absolute",top:0,insetInlineStart:0,w:"full",h:"full",bg:"base.700",_dark:{bg:"base.900"},opacity:.7,alignItems:"center",justifyContent:"center",transitionProperty:"common",transitionDuration:"0.1s"}}),a.jsx(N,{sx:{position:"absolute",top:0,insetInlineStart:0,width:"full",height:"full",alignItems:"center",justifyContent:"center",p:4},children:a.jsx(N,{sx:{width:"full",height:"full",alignItems:"center",justifyContent:"center",flexDir:"column",gap:4,borderWidth:3,borderRadius:"xl",borderStyle:"dashed",color:"base.100",borderColor:"base.100",_dark:{borderColor:"base.200"}},children:t?a.jsx(dr,{size:"lg",children:"Drop to Upload"}):a.jsxs(a.Fragment,{children:[a.jsx(dr,{size:"lg",children:"Invalid Upload"}),a.jsx(dr,{size:"md",children:"Must be single JPEG or PNG image"})]})})})]})},$G=d.memo(NG),LG=le([xe,tr],({gallery:e},t)=>{let n={type:"TOAST"};t==="unifiedCanvas"&&(n={type:"SET_CANVAS_INITIAL_IMAGE"}),t==="img2img"&&(n={type:"SET_INITIAL_IMAGE"});const{autoAddBoardId:r}=e;return{autoAddBoardId:r,postUploadAction:n}},Ie),zG=e=>{const{children:t}=e,{autoAddBoardId:n,postUploadAction:r}=V(LG),o=kl(),{t:s}=Z(),[i,l]=d.useState(!1),[c]=N_(),p=d.useCallback(I=>{l(!0),o({title:s("toast.uploadFailed"),description:I.errors.map(M=>M.message).join(`
`),status:"error"})},[s,o]),h=d.useCallback(async I=>{c({file:I,image_category:"user",is_intermediate:!1,postUploadAction:r,board_id:n==="none"?void 0:n})},[n,r,c]),m=d.useCallback((I,M)=>{if(M.length>1){o({title:s("toast.uploadFailed"),description:s("toast.uploadFailedInvalidUploadDesc"),status:"error"});return}M.forEach(_=>{p(_)}),I.forEach(_=>{h(_)})},[s,o,h,p]),g=d.useCallback(()=>{l(!0)},[]),{getRootProps:x,getInputProps:y,isDragAccept:b,isDragReject:w,isDragActive:S,inputRef:j}=Iy({accept:{"image/png":[".png"],"image/jpeg":[".jpg",".jpeg",".png"]},noClick:!0,onDrop:m,onDragOver:g,multiple:!1});return d.useEffect(()=>{const I=async M=>{var _,E;j.current&&(_=M.clipboardData)!=null&&_.files&&(j.current.files=M.clipboardData.files,(E=j.current)==null||E.dispatchEvent(new Event("change",{bubbles:!0})))};return document.addEventListener("paste",I),()=>{document.removeEventListener("paste",I)}},[j]),a.jsxs(_e,{...x({style:{}}),onKeyDown:I=>{I.key},children:[a.jsx("input",{...y()}),t,a.jsx(pr,{children:S&&i&&a.jsx(En.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.1}},exit:{opacity:0,transition:{duration:.1}},children:a.jsx($G,{isDragAccept:b,isDragReject:w,setIsHandlingUpload:l})},"image-upload-overlay")})]})},FG=d.memo(zG),BG=je((e,t)=>{const{children:n,tooltip:r="",tooltipProps:{placement:o="top",hasArrow:s=!0,...i}={},isChecked:l,...c}=e;return a.jsx(Ht,{label:r,placement:o,hasArrow:s,...i,children:a.jsx(fi,{ref:t,colorScheme:l?"accent":"base",...c,children:n})})}),it=d.memo(BG);function HG(e){const t=d.createContext(null);return[({children:o,value:s})=>B.createElement(t.Provider,{value:s},o),()=>{const o=d.useContext(t);if(o===null)throw new Error(e);return o}]}function c6(e){return Array.isArray(e)?e:[e]}const VG=()=>{};function WG(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||VG:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function u6({data:e}){const t=[],n=[],r=e.reduce((o,s,i)=>(s.group?o[s.group]?o[s.group].push(i):o[s.group]=[i]:n.push(i),o),{});return Object.keys(r).forEach(o=>{t.push(...r[o].map(s=>e[s]))}),t.push(...n.map(o=>e[o])),t}function d6(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==B.Fragment:!1}function f6(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=f6(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function p6(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=f6(t))&&(r&&(r+=" "),r+=n);return r}const UG={app:100,modal:200,popover:300,overlay:400,max:9999};function Py(e){return UG[e]}function GG(e,t){const n=d.useRef();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map((r,o)=>r===t[o]).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}const KG=TR({key:"mantine",prepend:!0});function qG(){return M5()||KG}var XG=Object.defineProperty,w4=Object.getOwnPropertySymbols,QG=Object.prototype.hasOwnProperty,YG=Object.prototype.propertyIsEnumerable,S4=(e,t,n)=>t in e?XG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZG=(e,t)=>{for(var n in t||(t={}))QG.call(t,n)&&S4(e,n,t[n]);if(w4)for(var n of w4(t))YG.call(t,n)&&S4(e,n,t[n]);return e};const e1="ref";function JG(e){let t;if(e.length!==1)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(e1 in n))return{args:e,ref:t};t=n[e1];const r=ZG({},n);return delete r[e1],{args:[r],ref:t}}const{cssFactory:eK}=(()=>{function e(n,r,o){const s=[],i=LR(n,s,o);return s.length<2?o:i+r(s)}function t(n){const{cache:r}=n,o=(...i)=>{const{ref:l,args:c}=JG(i),p=NR(c,r.registered);return $R(r,p,!1),`${r.key}-${p.name}${l===void 0?"":` ${l}`}`};return{css:o,cx:(...i)=>e(r.registered,o,p6(i))}}return{cssFactory:t}})();function h6(){const e=qG();return GG(()=>eK({cache:e}),[e])}function tK({cx:e,classes:t,context:n,classNames:r,name:o,cache:s}){const i=n.reduce((l,c)=>(Object.keys(c.classNames).forEach(p=>{typeof l[p]!="string"?l[p]=`${c.classNames[p]}`:l[p]=`${l[p]} ${c.classNames[p]}`}),l),{});return Object.keys(t).reduce((l,c)=>(l[c]=e(t[c],i[c],r!=null&&r[c],Array.isArray(o)?o.filter(Boolean).map(p=>`${(s==null?void 0:s.key)||"mantine"}-${p}-${c}`).join(" "):o?`${(s==null?void 0:s.key)||"mantine"}-${o}-${c}`:null),l),{})}var nK=Object.defineProperty,k4=Object.getOwnPropertySymbols,rK=Object.prototype.hasOwnProperty,oK=Object.prototype.propertyIsEnumerable,j4=(e,t,n)=>t in e?nK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t1=(e,t)=>{for(var n in t||(t={}))rK.call(t,n)&&j4(e,n,t[n]);if(k4)for(var n of k4(t))oK.call(t,n)&&j4(e,n,t[n]);return e};function Ix(e,t){return t&&Object.keys(t).forEach(n=>{e[n]?e[n]=t1(t1({},e[n]),t[n]):e[n]=t1({},t[n])}),e}function I4(e,t,n,r){const o=s=>typeof s=="function"?s(t,n||{},r):s||{};return Array.isArray(e)?e.map(s=>o(s.styles)).reduce((s,i)=>Ix(s,i),{}):o(e)}function sK({ctx:e,theme:t,params:n,variant:r,size:o}){return e.reduce((s,i)=>(i.variants&&r in i.variants&&Ix(s,i.variants[r](t,n,{variant:r,size:o})),i.sizes&&o in i.sizes&&Ix(s,i.sizes[o](t,n,{variant:r,size:o})),s),{})}function mr(e){const t=typeof e=="function"?e:()=>e;function n(r,o){const s=Ma(),i=k$(o==null?void 0:o.name),l=M5(),c={variant:o==null?void 0:o.variant,size:o==null?void 0:o.size},{css:p,cx:h}=h6(),m=t(s,r,c),g=I4(o==null?void 0:o.styles,s,r,c),x=I4(i,s,r,c),y=sK({ctx:i,theme:s,params:r,variant:o==null?void 0:o.variant,size:o==null?void 0:o.size}),b=Object.fromEntries(Object.keys(m).map(w=>{const S=h({[p(m[w])]:!(o!=null&&o.unstyled)},p(y[w]),p(x[w]),p(g[w]));return[w,S]}));return{classes:tK({cx:h,classes:b,context:i,classNames:o==null?void 0:o.classNames,name:o==null?void 0:o.name,cache:l}),cx:h,theme:s}}return n}function _4(e){return`___ref-${e||""}`}var aK=Object.defineProperty,iK=Object.defineProperties,lK=Object.getOwnPropertyDescriptors,P4=Object.getOwnPropertySymbols,cK=Object.prototype.hasOwnProperty,uK=Object.prototype.propertyIsEnumerable,E4=(e,t,n)=>t in e?aK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ku=(e,t)=>{for(var n in t||(t={}))cK.call(t,n)&&E4(e,n,t[n]);if(P4)for(var n of P4(t))uK.call(t,n)&&E4(e,n,t[n]);return e},qu=(e,t)=>iK(e,lK(t));const Xu={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${De(10)})`},transitionProperty:"transform, opacity"},$p={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(-${De(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${De(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${De(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${De(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:qu(Ku({},Xu),{common:{transformOrigin:"center center"}}),"pop-bottom-left":qu(Ku({},Xu),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":qu(Ku({},Xu),{common:{transformOrigin:"bottom right"}}),"pop-top-left":qu(Ku({},Xu),{common:{transformOrigin:"top left"}}),"pop-top-right":qu(Ku({},Xu),{common:{transformOrigin:"top right"}})},M4=["mousedown","touchstart"];function dK(e,t,n){const r=d.useRef();return d.useEffect(()=>{const o=s=>{const{target:i}=s??{};if(Array.isArray(n)){const l=(i==null?void 0:i.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(i)&&i.tagName!=="HTML";n.every(p=>!!p&&!s.composedPath().includes(p))&&!l&&e()}else r.current&&!r.current.contains(i)&&e()};return(t||M4).forEach(s=>document.addEventListener(s,o)),()=>{(t||M4).forEach(s=>document.removeEventListener(s,o))}},[r,e,n]),r}function fK(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function pK(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function hK(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,o]=d.useState(n?t:pK(e,t)),s=d.useRef();return d.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),o(s.current.matches),fK(s.current,i=>o(i.matches))},[e]),r}const m6=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Zo(e,t){const n=d.useRef(!1);d.useEffect(()=>()=>{n.current=!1},[]),d.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function mK({opened:e,shouldReturnFocus:t=!0}){const n=d.useRef(),r=()=>{var o;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((o=n.current)==null||o.focus({preventScroll:!0}))};return Zo(()=>{let o=-1;const s=i=>{i.key==="Tab"&&window.clearTimeout(o)};return document.addEventListener("keydown",s),e?n.current=document.activeElement:t&&(o=window.setTimeout(r,10)),()=>{window.clearTimeout(o),document.removeEventListener("keydown",s)}},[e,t]),r}const gK=/input|select|textarea|button|object/,g6="a, input, select, textarea, button, object, [tabindex]";function vK(e){return e.style.display==="none"}function xK(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(vK(n))return!1;n=n.parentNode}return!0}function v6(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function _x(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(v6(e));return(gK.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&xK(e)}function x6(e){const t=v6(e);return(Number.isNaN(t)||t>=0)&&_x(e)}function bK(e){return Array.from(e.querySelectorAll(g6)).filter(x6)}function yK(e,t){const n=bK(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],o=e.getRootNode();if(!(r===o.activeElement||e===o.activeElement))return;t.preventDefault();const i=n[t.shiftKey?n.length-1:0];i&&i.focus()}function Ey(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function CK(e,t="body > :not(script)"){const n=Ey(),r=Array.from(document.querySelectorAll(t)).map(o=>{var s;if((s=o==null?void 0:o.shadowRoot)!=null&&s.contains(e)||o.contains(e))return;const i=o.getAttribute("aria-hidden"),l=o.getAttribute("data-hidden"),c=o.getAttribute("data-focus-id");return o.setAttribute("data-focus-id",n),i===null||i==="false"?o.setAttribute("aria-hidden","true"):!l&&!c&&o.setAttribute("data-hidden",i),{node:o,ariaHidden:l||null}});return()=>{r.forEach(o=>{!o||n!==o.node.getAttribute("data-focus-id")||(o.ariaHidden===null?o.node.removeAttribute("aria-hidden"):o.node.setAttribute("aria-hidden",o.ariaHidden),o.node.removeAttribute("data-focus-id"),o.node.removeAttribute("data-hidden"))})}}function wK(e=!0){const t=d.useRef(),n=d.useRef(null),r=s=>{let i=s.querySelector("[data-autofocus]");if(!i){const l=Array.from(s.querySelectorAll(g6));i=l.find(x6)||l.find(_x)||null,!i&&_x(s)&&(i=s)}i&&i.focus({preventScroll:!0})},o=d.useCallback(s=>{if(e){if(s===null){n.current&&(n.current(),n.current=null);return}n.current=CK(s),t.current!==s&&(s?(setTimeout(()=>{s.getRootNode()&&r(s)}),t.current=s):t.current=null)}},[e]);return d.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const s=i=>{i.key==="Tab"&&t.current&&yK(t.current,i)};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s),n.current&&n.current()}},[e]),o}const SK=B["useId".toString()]||(()=>{});function kK(){const e=SK();return e?`mantine-${e.replace(/:/g,"")}`:""}function My(e){const t=kK(),[n,r]=d.useState(t);return m6(()=>{r(Ey())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function O4(e,t,n){d.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function b6(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function jK(...e){return t=>{e.forEach(n=>b6(n,t))}}function bf(...e){return d.useCallback(jK(...e),e)}function Od({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[o,s]=d.useState(t!==void 0?t:n),i=l=>{s(l),r==null||r(l)};return e!==void 0?[e,r,!0]:[o,i,!1]}function y6(e,t){return hK("(prefers-reduced-motion: reduce)",e,t)}const IK=e=>e<.5?2*e*e:-1+(4-2*e)*e,_K=({axis:e,target:t,parent:n,alignment:r,offset:o,isList:s})=>{if(!t||!n&&typeof document>"u")return 0;const i=!!n,c=(n||document.body).getBoundingClientRect(),p=t.getBoundingClientRect(),h=m=>p[m]-c[m];if(e==="y"){const m=h("top");if(m===0)return 0;if(r==="start"){const x=m-o;return x<=p.height*(s?0:1)||!s?x:0}const g=i?c.height:window.innerHeight;if(r==="end"){const x=m+o-g+p.height;return x>=-p.height*(s?0:1)||!s?x:0}return r==="center"?m-g/2+p.height/2:0}if(e==="x"){const m=h("left");if(m===0)return 0;if(r==="start"){const x=m-o;return x<=p.width||!s?x:0}const g=i?c.width:window.innerWidth;if(r==="end"){const x=m+o-g+p.width;return x>=-p.width||!s?x:0}return r==="center"?m-g/2+p.width/2:0}return 0},PK=({axis:e,parent:t})=>{if(!t&&typeof document>"u")return 0;const n=e==="y"?"scrollTop":"scrollLeft";if(t)return t[n];const{body:r,documentElement:o}=document;return r[n]+o[n]},EK=({axis:e,parent:t,distance:n})=>{if(!t&&typeof document>"u")return;const r=e==="y"?"scrollTop":"scrollLeft";if(t)t[r]=n;else{const{body:o,documentElement:s}=document;o[r]=n,s[r]=n}};function C6({duration:e=1250,axis:t="y",onScrollFinish:n,easing:r=IK,offset:o=0,cancelable:s=!0,isList:i=!1}={}){const l=d.useRef(0),c=d.useRef(0),p=d.useRef(!1),h=d.useRef(null),m=d.useRef(null),g=y6(),x=()=>{l.current&&cancelAnimationFrame(l.current)},y=d.useCallback(({alignment:w="start"}={})=>{var S;p.current=!1,l.current&&x();const j=(S=PK({parent:h.current,axis:t}))!=null?S:0,I=_K({parent:h.current,target:m.current,axis:t,alignment:w,offset:o,isList:i})-(h.current?0:j);function M(){c.current===0&&(c.current=performance.now());const E=performance.now()-c.current,D=g||e===0?1:E/e,R=j+I*r(D);EK({parent:h.current,axis:t,distance:R}),!p.current&&D<1?l.current=requestAnimationFrame(M):(typeof n=="function"&&n(),c.current=0,l.current=0,x())}M()},[t,e,r,i,o,n,g]),b=()=>{s&&(p.current=!0)};return O4("wheel",b,{passive:!0}),O4("touchmove",b,{passive:!0}),d.useEffect(()=>x,[]),{scrollableRef:h,targetRef:m,scrollIntoView:y,cancel:x}}var D4=Object.getOwnPropertySymbols,MK=Object.prototype.hasOwnProperty,OK=Object.prototype.propertyIsEnumerable,DK=(e,t)=>{var n={};for(var r in e)MK.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&D4)for(var r of D4(e))t.indexOf(r)<0&&OK.call(e,r)&&(n[r]=e[r]);return n};function Mg(e){const t=e,{m:n,mx:r,my:o,mt:s,mb:i,ml:l,mr:c,p,px:h,py:m,pt:g,pb:x,pl:y,pr:b,bg:w,c:S,opacity:j,ff:I,fz:M,fw:_,lts:E,ta:D,lh:R,fs:A,tt:O,td:T,w:K,miw:L,maw:H,h:U,mih:W,mah:z,bgsz:Q,bgp:F,bgr:X,bga:Y,pos:se,top:ae,left:oe,bottom:q,right:G,inset:te,display:ce}=t,J=DK(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:j$({m:n,mx:r,my:o,mt:s,mb:i,ml:l,mr:c,p,px:h,py:m,pt:g,pb:x,pl:y,pr:b,bg:w,c:S,opacity:j,ff:I,fz:M,fw:_,lts:E,ta:D,lh:R,fs:A,tt:O,td:T,w:K,miw:L,maw:H,h:U,mih:W,mah:z,bgsz:Q,bgp:F,bgr:X,bga:Y,pos:se,top:ae,left:oe,bottom:q,right:G,inset:te,display:ce}),rest:J}}function RK(e,t){const n=Object.keys(e).filter(r=>r!=="base").sort((r,o)=>bS(mt({size:r,sizes:t.breakpoints}))-bS(mt({size:o,sizes:t.breakpoints})));return"base"in e?["base",...n]:n}function AK({value:e,theme:t,getValue:n,property:r}){if(e==null)return;if(typeof e=="object")return RK(e,t).reduce((i,l)=>{if(l==="base"&&e.base!==void 0){const p=n(e.base,t);return Array.isArray(r)?(r.forEach(h=>{i[h]=p}),i):(i[r]=p,i)}const c=n(e[l],t);return Array.isArray(r)?(i[t.fn.largerThan(l)]={},r.forEach(p=>{i[t.fn.largerThan(l)][p]=c}),i):(i[t.fn.largerThan(l)]={[r]:c},i)},{});const o=n(e,t);return Array.isArray(r)?r.reduce((s,i)=>(s[i]=o,s),{}):{[r]:o}}function TK(e,t){return e==="dimmed"?t.colorScheme==="dark"?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background}function NK(e){return De(e)}function $K(e){return e}function LK(e,t){return mt({size:e,sizes:t.fontSizes})}const zK=["-xs","-sm","-md","-lg","-xl"];function FK(e,t){return zK.includes(e)?`calc(${mt({size:e.replace("-",""),sizes:t.spacing})} * -1)`:mt({size:e,sizes:t.spacing})}const BK={identity:$K,color:TK,size:NK,fontSize:LK,spacing:FK},HK={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"identity",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"identity",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"}};var VK=Object.defineProperty,R4=Object.getOwnPropertySymbols,WK=Object.prototype.hasOwnProperty,UK=Object.prototype.propertyIsEnumerable,A4=(e,t,n)=>t in e?VK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T4=(e,t)=>{for(var n in t||(t={}))WK.call(t,n)&&A4(e,n,t[n]);if(R4)for(var n of R4(t))UK.call(t,n)&&A4(e,n,t[n]);return e};function N4(e,t,n=HK){return Object.keys(n).reduce((o,s)=>(s in e&&e[s]!==void 0&&o.push(AK({value:e[s],getValue:BK[n[s].type],property:n[s].property,theme:t})),o),[]).reduce((o,s)=>(Object.keys(s).forEach(i=>{typeof s[i]=="object"&&s[i]!==null&&i in o?o[i]=T4(T4({},o[i]),s[i]):o[i]=s[i]}),o),{})}function $4(e,t){return typeof e=="function"?e(t):e}function GK(e,t,n){const r=Ma(),{css:o,cx:s}=h6();return Array.isArray(e)?s(n,o(N4(t,r)),e.map(i=>o($4(i,r)))):s(n,o($4(e,r)),o(N4(t,r)))}var KK=Object.defineProperty,Uh=Object.getOwnPropertySymbols,w6=Object.prototype.hasOwnProperty,S6=Object.prototype.propertyIsEnumerable,L4=(e,t,n)=>t in e?KK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qK=(e,t)=>{for(var n in t||(t={}))w6.call(t,n)&&L4(e,n,t[n]);if(Uh)for(var n of Uh(t))S6.call(t,n)&&L4(e,n,t[n]);return e},XK=(e,t)=>{var n={};for(var r in e)w6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Uh)for(var r of Uh(e))t.indexOf(r)<0&&S6.call(e,r)&&(n[r]=e[r]);return n};const k6=d.forwardRef((e,t)=>{var n=e,{className:r,component:o,style:s,sx:i}=n,l=XK(n,["className","component","style","sx"]);const{systemStyles:c,rest:p}=Mg(l),h=o||"div";return B.createElement(h,qK({ref:t,className:GK(i,c,r),style:s},p))});k6.displayName="@mantine/core/Box";const Hr=k6;var QK=Object.defineProperty,YK=Object.defineProperties,ZK=Object.getOwnPropertyDescriptors,z4=Object.getOwnPropertySymbols,JK=Object.prototype.hasOwnProperty,eq=Object.prototype.propertyIsEnumerable,F4=(e,t,n)=>t in e?QK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B4=(e,t)=>{for(var n in t||(t={}))JK.call(t,n)&&F4(e,n,t[n]);if(z4)for(var n of z4(t))eq.call(t,n)&&F4(e,n,t[n]);return e},tq=(e,t)=>YK(e,ZK(t)),nq=mr(e=>({root:tq(B4(B4({},e.fn.focusStyles()),e.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"})}));const rq=nq;var oq=Object.defineProperty,Gh=Object.getOwnPropertySymbols,j6=Object.prototype.hasOwnProperty,I6=Object.prototype.propertyIsEnumerable,H4=(e,t,n)=>t in e?oq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sq=(e,t)=>{for(var n in t||(t={}))j6.call(t,n)&&H4(e,n,t[n]);if(Gh)for(var n of Gh(t))I6.call(t,n)&&H4(e,n,t[n]);return e},aq=(e,t)=>{var n={};for(var r in e)j6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Gh)for(var r of Gh(e))t.indexOf(r)<0&&I6.call(e,r)&&(n[r]=e[r]);return n};const _6=d.forwardRef((e,t)=>{const n=An("UnstyledButton",{},e),{className:r,component:o="button",unstyled:s,variant:i}=n,l=aq(n,["className","component","unstyled","variant"]),{classes:c,cx:p}=rq(null,{name:"UnstyledButton",unstyled:s,variant:i});return B.createElement(Hr,sq({component:o,ref:t,className:p(c.root,r),type:o==="button"?"button":void 0},l))});_6.displayName="@mantine/core/UnstyledButton";const iq=_6;var lq=Object.defineProperty,cq=Object.defineProperties,uq=Object.getOwnPropertyDescriptors,V4=Object.getOwnPropertySymbols,dq=Object.prototype.hasOwnProperty,fq=Object.prototype.propertyIsEnumerable,W4=(e,t,n)=>t in e?lq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Px=(e,t)=>{for(var n in t||(t={}))dq.call(t,n)&&W4(e,n,t[n]);if(V4)for(var n of V4(t))fq.call(t,n)&&W4(e,n,t[n]);return e},U4=(e,t)=>cq(e,uq(t));const pq=["subtle","filled","outline","light","default","transparent","gradient"],Lp={xs:De(18),sm:De(22),md:De(28),lg:De(34),xl:De(44)};function hq({variant:e,theme:t,color:n,gradient:r}){const o=t.fn.variant({color:n,variant:e,gradient:r});return e==="gradient"?{border:0,backgroundImage:o.background,color:o.color,"&:hover":t.fn.hover({backgroundSize:"200%"})}:pq.includes(e)?Px({border:`${De(1)} solid ${o.border}`,backgroundColor:o.background,color:o.color},t.fn.hover({backgroundColor:o.hover})):null}var mq=mr((e,{radius:t,color:n,gradient:r},{variant:o,size:s})=>({root:U4(Px({position:"relative",borderRadius:e.fn.radius(t),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center",height:mt({size:s,sizes:Lp}),minHeight:mt({size:s,sizes:Lp}),width:mt({size:s,sizes:Lp}),minWidth:mt({size:s,sizes:Lp})},hq({variant:o,theme:e,color:n,gradient:r})),{"&:active":e.activeStyles,"& [data-action-icon-loader]":{maxWidth:"70%"},"&:disabled, &[data-disabled]":{color:e.colors.gray[e.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:o==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),borderColor:o==="transparent"?void 0:e.fn.themeColor("gray",e.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":U4(Px({content:'""'},e.fn.cover(De(-1))),{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(t),cursor:"not-allowed"})}})}));const gq=mq;var vq=Object.defineProperty,Kh=Object.getOwnPropertySymbols,P6=Object.prototype.hasOwnProperty,E6=Object.prototype.propertyIsEnumerable,G4=(e,t,n)=>t in e?vq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K4=(e,t)=>{for(var n in t||(t={}))P6.call(t,n)&&G4(e,n,t[n]);if(Kh)for(var n of Kh(t))E6.call(t,n)&&G4(e,n,t[n]);return e},q4=(e,t)=>{var n={};for(var r in e)P6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Kh)for(var r of Kh(e))t.indexOf(r)<0&&E6.call(e,r)&&(n[r]=e[r]);return n};function xq(e){var t=e,{size:n,color:r}=t,o=q4(t,["size","color"]);const s=o,{style:i}=s,l=q4(s,["style"]);return B.createElement("svg",K4({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:r,style:K4({width:n},i)},l),B.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},B.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),B.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),B.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},B.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),B.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),B.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},B.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),B.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),B.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},B.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),B.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),B.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},B.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),B.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var bq=Object.defineProperty,qh=Object.getOwnPropertySymbols,M6=Object.prototype.hasOwnProperty,O6=Object.prototype.propertyIsEnumerable,X4=(e,t,n)=>t in e?bq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q4=(e,t)=>{for(var n in t||(t={}))M6.call(t,n)&&X4(e,n,t[n]);if(qh)for(var n of qh(t))O6.call(t,n)&&X4(e,n,t[n]);return e},Y4=(e,t)=>{var n={};for(var r in e)M6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qh)for(var r of qh(e))t.indexOf(r)<0&&O6.call(e,r)&&(n[r]=e[r]);return n};function yq(e){var t=e,{size:n,color:r}=t,o=Y4(t,["size","color"]);const s=o,{style:i}=s,l=Y4(s,["style"]);return B.createElement("svg",Q4({viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:r,style:Q4({width:n,height:n},i)},l),B.createElement("g",{fill:"none",fillRule:"evenodd"},B.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},B.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),B.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},B.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var Cq=Object.defineProperty,Xh=Object.getOwnPropertySymbols,D6=Object.prototype.hasOwnProperty,R6=Object.prototype.propertyIsEnumerable,Z4=(e,t,n)=>t in e?Cq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J4=(e,t)=>{for(var n in t||(t={}))D6.call(t,n)&&Z4(e,n,t[n]);if(Xh)for(var n of Xh(t))R6.call(t,n)&&Z4(e,n,t[n]);return e},ek=(e,t)=>{var n={};for(var r in e)D6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Xh)for(var r of Xh(e))t.indexOf(r)<0&&R6.call(e,r)&&(n[r]=e[r]);return n};function wq(e){var t=e,{size:n,color:r}=t,o=ek(t,["size","color"]);const s=o,{style:i}=s,l=ek(s,["style"]);return B.createElement("svg",J4({viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:r,style:J4({width:n},i)},l),B.createElement("circle",{cx:"15",cy:"15",r:"15"},B.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),B.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),B.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},B.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),B.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),B.createElement("circle",{cx:"105",cy:"15",r:"15"},B.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),B.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var Sq=Object.defineProperty,Qh=Object.getOwnPropertySymbols,A6=Object.prototype.hasOwnProperty,T6=Object.prototype.propertyIsEnumerable,tk=(e,t,n)=>t in e?Sq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kq=(e,t)=>{for(var n in t||(t={}))A6.call(t,n)&&tk(e,n,t[n]);if(Qh)for(var n of Qh(t))T6.call(t,n)&&tk(e,n,t[n]);return e},jq=(e,t)=>{var n={};for(var r in e)A6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Qh)for(var r of Qh(e))t.indexOf(r)<0&&T6.call(e,r)&&(n[r]=e[r]);return n};const n1={bars:xq,oval:yq,dots:wq},Iq={xs:De(18),sm:De(22),md:De(36),lg:De(44),xl:De(58)},_q={size:"md"};function N6(e){const t=An("Loader",_q,e),{size:n,color:r,variant:o}=t,s=jq(t,["size","color","variant"]),i=Ma(),l=o in n1?o:i.loader;return B.createElement(Hr,kq({role:"presentation",component:n1[l]||n1.bars,size:mt({size:n,sizes:Iq}),color:i.fn.variant({variant:"filled",primaryFallback:!1,color:r||i.primaryColor}).background},s))}N6.displayName="@mantine/core/Loader";var Pq=Object.defineProperty,Yh=Object.getOwnPropertySymbols,$6=Object.prototype.hasOwnProperty,L6=Object.prototype.propertyIsEnumerable,nk=(e,t,n)=>t in e?Pq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rk=(e,t)=>{for(var n in t||(t={}))$6.call(t,n)&&nk(e,n,t[n]);if(Yh)for(var n of Yh(t))L6.call(t,n)&&nk(e,n,t[n]);return e},Eq=(e,t)=>{var n={};for(var r in e)$6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Yh)for(var r of Yh(e))t.indexOf(r)<0&&L6.call(e,r)&&(n[r]=e[r]);return n};const Mq={color:"gray",size:"md",variant:"subtle"},z6=d.forwardRef((e,t)=>{const n=An("ActionIcon",Mq,e),{className:r,color:o,children:s,radius:i,size:l,variant:c,gradient:p,disabled:h,loaderProps:m,loading:g,unstyled:x,__staticSelector:y}=n,b=Eq(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled","__staticSelector"]),{classes:w,cx:S,theme:j}=gq({radius:i,color:o,gradient:p},{name:["ActionIcon",y],unstyled:x,size:l,variant:c}),I=B.createElement(N6,rk({color:j.fn.variant({color:o,variant:c}).color,size:"100%","data-action-icon-loader":!0},m));return B.createElement(iq,rk({className:S(w.root,r),ref:t,disabled:h,"data-disabled":h||void 0,"data-loading":g||void 0,unstyled:x},b),g?I:s)});z6.displayName="@mantine/core/ActionIcon";const Oq=z6;var Dq=Object.defineProperty,Rq=Object.defineProperties,Aq=Object.getOwnPropertyDescriptors,Zh=Object.getOwnPropertySymbols,F6=Object.prototype.hasOwnProperty,B6=Object.prototype.propertyIsEnumerable,ok=(e,t,n)=>t in e?Dq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tq=(e,t)=>{for(var n in t||(t={}))F6.call(t,n)&&ok(e,n,t[n]);if(Zh)for(var n of Zh(t))B6.call(t,n)&&ok(e,n,t[n]);return e},Nq=(e,t)=>Rq(e,Aq(t)),$q=(e,t)=>{var n={};for(var r in e)F6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Zh)for(var r of Zh(e))t.indexOf(r)<0&&B6.call(e,r)&&(n[r]=e[r]);return n};function H6(e){const t=An("Portal",{},e),{children:n,target:r,className:o,innerRef:s}=t,i=$q(t,["children","target","className","innerRef"]),l=Ma(),[c,p]=d.useState(!1),h=d.useRef();return m6(()=>(p(!0),h.current=r?typeof r=="string"?document.querySelector(r):r:document.createElement("div"),r||document.body.appendChild(h.current),()=>{!r&&document.body.removeChild(h.current)}),[r]),c?Zr.createPortal(B.createElement("div",Nq(Tq({className:o,dir:l.dir},i),{ref:s}),n),h.current):null}H6.displayName="@mantine/core/Portal";var Lq=Object.defineProperty,Jh=Object.getOwnPropertySymbols,V6=Object.prototype.hasOwnProperty,W6=Object.prototype.propertyIsEnumerable,sk=(e,t,n)=>t in e?Lq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zq=(e,t)=>{for(var n in t||(t={}))V6.call(t,n)&&sk(e,n,t[n]);if(Jh)for(var n of Jh(t))W6.call(t,n)&&sk(e,n,t[n]);return e},Fq=(e,t)=>{var n={};for(var r in e)V6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Jh)for(var r of Jh(e))t.indexOf(r)<0&&W6.call(e,r)&&(n[r]=e[r]);return n};function U6(e){var t=e,{withinPortal:n=!0,children:r}=t,o=Fq(t,["withinPortal","children"]);return n?B.createElement(H6,zq({},o),r):B.createElement(B.Fragment,null,r)}U6.displayName="@mantine/core/OptionalPortal";var Bq=Object.defineProperty,em=Object.getOwnPropertySymbols,G6=Object.prototype.hasOwnProperty,K6=Object.prototype.propertyIsEnumerable,ak=(e,t,n)=>t in e?Bq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ik=(e,t)=>{for(var n in t||(t={}))G6.call(t,n)&&ak(e,n,t[n]);if(em)for(var n of em(t))K6.call(t,n)&&ak(e,n,t[n]);return e},Hq=(e,t)=>{var n={};for(var r in e)G6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&em)for(var r of em(e))t.indexOf(r)<0&&K6.call(e,r)&&(n[r]=e[r]);return n};function q6(e){const t=e,{width:n,height:r,style:o}=t,s=Hq(t,["width","height","style"]);return B.createElement("svg",ik({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:ik({width:n,height:r},o)},s),B.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}q6.displayName="@mantine/core/CloseIcon";var Vq=Object.defineProperty,tm=Object.getOwnPropertySymbols,X6=Object.prototype.hasOwnProperty,Q6=Object.prototype.propertyIsEnumerable,lk=(e,t,n)=>t in e?Vq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wq=(e,t)=>{for(var n in t||(t={}))X6.call(t,n)&&lk(e,n,t[n]);if(tm)for(var n of tm(t))Q6.call(t,n)&&lk(e,n,t[n]);return e},Uq=(e,t)=>{var n={};for(var r in e)X6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&tm)for(var r of tm(e))t.indexOf(r)<0&&Q6.call(e,r)&&(n[r]=e[r]);return n};const Gq={xs:De(12),sm:De(16),md:De(20),lg:De(28),xl:De(34)},Kq={size:"sm"},Y6=d.forwardRef((e,t)=>{const n=An("CloseButton",Kq,e),{iconSize:r,size:o,children:s}=n,i=Uq(n,["iconSize","size","children"]),l=De(r||Gq[o]);return B.createElement(Oq,Wq({ref:t,__staticSelector:"CloseButton",size:o},i),s||B.createElement(q6,{width:l,height:l}))});Y6.displayName="@mantine/core/CloseButton";const Z6=Y6;var qq=Object.defineProperty,Xq=Object.defineProperties,Qq=Object.getOwnPropertyDescriptors,ck=Object.getOwnPropertySymbols,Yq=Object.prototype.hasOwnProperty,Zq=Object.prototype.propertyIsEnumerable,uk=(e,t,n)=>t in e?qq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zp=(e,t)=>{for(var n in t||(t={}))Yq.call(t,n)&&uk(e,n,t[n]);if(ck)for(var n of ck(t))Zq.call(t,n)&&uk(e,n,t[n]);return e},Jq=(e,t)=>Xq(e,Qq(t));function eX({underline:e,strikethrough:t}){const n=[];return e&&n.push("underline"),t&&n.push("line-through"),n.length>0?n.join(" "):"none"}function tX({theme:e,color:t}){return t==="dimmed"?e.fn.dimmed():typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?e.fn.variant({variant:"filled",color:t}).background:t||"inherit"}function nX(e){return typeof e=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}function rX({theme:e,truncate:t}){return t==="start"?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",direction:e.dir==="ltr"?"rtl":"ltr",textAlign:e.dir==="ltr"?"right":"left"}:t?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:null}var oX=mr((e,{color:t,lineClamp:n,truncate:r,inline:o,inherit:s,underline:i,gradient:l,weight:c,transform:p,align:h,strikethrough:m,italic:g},{size:x})=>{const y=e.fn.variant({variant:"gradient",gradient:l});return{root:Jq(zp(zp(zp(zp({},e.fn.fontStyles()),e.fn.focusStyles()),nX(n)),rX({theme:e,truncate:r})),{color:tX({color:t,theme:e}),fontFamily:s?"inherit":e.fontFamily,fontSize:s||x===void 0?"inherit":mt({size:x,sizes:e.fontSizes}),lineHeight:s?"inherit":o?1:e.lineHeight,textDecoration:eX({underline:i,strikethrough:m}),WebkitTapHighlightColor:"transparent",fontWeight:s?"inherit":c,textTransform:p,textAlign:h,fontStyle:g?"italic":void 0}),gradient:{backgroundImage:y.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}});const sX=oX;var aX=Object.defineProperty,nm=Object.getOwnPropertySymbols,J6=Object.prototype.hasOwnProperty,eE=Object.prototype.propertyIsEnumerable,dk=(e,t,n)=>t in e?aX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iX=(e,t)=>{for(var n in t||(t={}))J6.call(t,n)&&dk(e,n,t[n]);if(nm)for(var n of nm(t))eE.call(t,n)&&dk(e,n,t[n]);return e},lX=(e,t)=>{var n={};for(var r in e)J6.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nm)for(var r of nm(e))t.indexOf(r)<0&&eE.call(e,r)&&(n[r]=e[r]);return n};const cX={variant:"text"},tE=d.forwardRef((e,t)=>{const n=An("Text",cX,e),{className:r,size:o,weight:s,transform:i,color:l,align:c,variant:p,lineClamp:h,truncate:m,gradient:g,inline:x,inherit:y,underline:b,strikethrough:w,italic:S,classNames:j,styles:I,unstyled:M,span:_,__staticSelector:E}=n,D=lX(n,["className","size","weight","transform","color","align","variant","lineClamp","truncate","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span","__staticSelector"]),{classes:R,cx:A}=sX({color:l,lineClamp:h,truncate:m,inline:x,inherit:y,underline:b,strikethrough:w,italic:S,weight:s,transform:i,align:c,gradient:g},{unstyled:M,name:E||"Text",variant:p,size:o});return B.createElement(Hr,iX({ref:t,className:A(R.root,{[R.gradient]:p==="gradient"},r),component:_?"span":"div"},D))});tE.displayName="@mantine/core/Text";const Kc=tE,Fp={xs:De(1),sm:De(2),md:De(3),lg:De(4),xl:De(5)};function Bp(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return typeof t=="string"&&(t in e.colors||t.split(".")[0]in e.colors)?n:t===void 0?e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]:t}var uX=mr((e,{color:t},{size:n,variant:r})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:De(1),borderTop:`${mt({size:n,sizes:Fp})} ${r} ${Bp(e,t)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${mt({size:n,sizes:Fp})} ${r} ${Bp(e,t)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:t==="dark"?e.colors.dark[1]:e.fn.themeColor(t,e.colorScheme==="dark"?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:De(mt({size:n,sizes:Fp})),borderTopColor:Bp(e,t),borderTopStyle:r,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:De(mt({size:n,sizes:Fp})),borderLeftColor:Bp(e,t),borderLeftStyle:r}}));const dX=uX;var fX=Object.defineProperty,pX=Object.defineProperties,hX=Object.getOwnPropertyDescriptors,rm=Object.getOwnPropertySymbols,nE=Object.prototype.hasOwnProperty,rE=Object.prototype.propertyIsEnumerable,fk=(e,t,n)=>t in e?fX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pk=(e,t)=>{for(var n in t||(t={}))nE.call(t,n)&&fk(e,n,t[n]);if(rm)for(var n of rm(t))rE.call(t,n)&&fk(e,n,t[n]);return e},mX=(e,t)=>pX(e,hX(t)),gX=(e,t)=>{var n={};for(var r in e)nE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&rm)for(var r of rm(e))t.indexOf(r)<0&&rE.call(e,r)&&(n[r]=e[r]);return n};const vX={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},Ex=d.forwardRef((e,t)=>{const n=An("Divider",vX,e),{className:r,color:o,orientation:s,size:i,label:l,labelPosition:c,labelProps:p,variant:h,styles:m,classNames:g,unstyled:x}=n,y=gX(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:b,cx:w}=dX({color:o},{classNames:g,styles:m,unstyled:x,name:"Divider",variant:h,size:i}),S=s==="vertical",j=s==="horizontal",I=!!l&&j,M=!(p!=null&&p.color);return B.createElement(Hr,pk({ref:t,className:w(b.root,{[b.vertical]:S,[b.horizontal]:j,[b.withLabel]:I},r),role:"separator"},y),I&&B.createElement(Kc,mX(pk({},p),{size:(p==null?void 0:p.size)||"xs",mt:De(2),className:w(b.label,b[c],{[b.labelDefaultStyles]:M})}),l))});Ex.displayName="@mantine/core/Divider";var xX=Object.defineProperty,bX=Object.defineProperties,yX=Object.getOwnPropertyDescriptors,hk=Object.getOwnPropertySymbols,CX=Object.prototype.hasOwnProperty,wX=Object.prototype.propertyIsEnumerable,mk=(e,t,n)=>t in e?xX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gk=(e,t)=>{for(var n in t||(t={}))CX.call(t,n)&&mk(e,n,t[n]);if(hk)for(var n of hk(t))wX.call(t,n)&&mk(e,n,t[n]);return e},SX=(e,t)=>bX(e,yX(t)),kX=mr((e,t,{size:n})=>({item:SX(gk({},e.fn.fontStyles()),{boxSizing:"border-box",wordBreak:"break-all",textAlign:"left",width:"100%",padding:`calc(${mt({size:n,sizes:e.spacing})} / 1.5) ${mt({size:n,sizes:e.spacing})}`,cursor:"pointer",fontSize:mt({size:n,sizes:e.fontSizes}),color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,borderRadius:e.fn.radius(),"&[data-hovered]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":gk({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:`calc(${mt({size:n,sizes:e.spacing})} / 2)`,paddingBottom:`calc(${mt({size:n,sizes:e.spacing})} / 2)`,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`calc(${mt({size:n,sizes:e.spacing})} / 1.5) ${mt({size:n,sizes:e.spacing})}`},separatorLabel:{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}));const jX=kX;var IX=Object.defineProperty,vk=Object.getOwnPropertySymbols,_X=Object.prototype.hasOwnProperty,PX=Object.prototype.propertyIsEnumerable,xk=(e,t,n)=>t in e?IX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EX=(e,t)=>{for(var n in t||(t={}))_X.call(t,n)&&xk(e,n,t[n]);if(vk)for(var n of vk(t))PX.call(t,n)&&xk(e,n,t[n]);return e};function Oy({data:e,hovered:t,classNames:n,styles:r,isItemSelected:o,uuid:s,__staticSelector:i,onItemHover:l,onItemSelect:c,itemsRefs:p,itemComponent:h,size:m,nothingFound:g,creatable:x,createLabel:y,unstyled:b,variant:w}){const{classes:S}=jX(null,{classNames:n,styles:r,unstyled:b,name:i,variant:w,size:m}),j=[],I=[];let M=null;const _=(D,R)=>{const A=typeof o=="function"?o(D.value):!1;return B.createElement(h,EX({key:D.value,className:S.item,"data-disabled":D.disabled||void 0,"data-hovered":!D.disabled&&t===R||void 0,"data-selected":!D.disabled&&A||void 0,selected:A,onMouseEnter:()=>l(R),id:`${s}-${R}`,role:"option",tabIndex:-1,"aria-selected":t===R,ref:O=>{p&&p.current&&(p.current[D.value]=O)},onMouseDown:D.disabled?null:O=>{O.preventDefault(),c(D)},disabled:D.disabled,variant:w},D))};let E=null;if(e.forEach((D,R)=>{D.creatable?M=R:D.group?(E!==D.group&&(E=D.group,I.push(B.createElement("div",{className:S.separator,key:`__mantine-divider-${R}`},B.createElement(Ex,{classNames:{label:S.separatorLabel},label:D.group})))),I.push(_(D,R))):j.push(_(D,R))}),x){const D=e[M];j.push(B.createElement("div",{key:Ey(),className:S.item,"data-hovered":t===M||void 0,onMouseEnter:()=>l(M),onMouseDown:R=>{R.preventDefault(),c(D)},tabIndex:-1,ref:R=>{p&&p.current&&(p.current[D.value]=R)}},y))}return I.length>0&&j.length>0&&j.unshift(B.createElement("div",{className:S.separator,key:"empty-group-separator"},B.createElement(Ex,null))),I.length>0||j.length>0?B.createElement(B.Fragment,null,I,j):B.createElement(Kc,{size:m,unstyled:b,className:S.nothingFound},g)}Oy.displayName="@mantine/core/SelectItems";var MX=Object.defineProperty,om=Object.getOwnPropertySymbols,oE=Object.prototype.hasOwnProperty,sE=Object.prototype.propertyIsEnumerable,bk=(e,t,n)=>t in e?MX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OX=(e,t)=>{for(var n in t||(t={}))oE.call(t,n)&&bk(e,n,t[n]);if(om)for(var n of om(t))sE.call(t,n)&&bk(e,n,t[n]);return e},DX=(e,t)=>{var n={};for(var r in e)oE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&om)for(var r of om(e))t.indexOf(r)<0&&sE.call(e,r)&&(n[r]=e[r]);return n};const Dy=d.forwardRef((e,t)=>{var n=e,{label:r,value:o}=n,s=DX(n,["label","value"]);return B.createElement("div",OX({ref:t},s),r||o)});Dy.displayName="@mantine/core/DefaultItem";function RX(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function aE(...e){return t=>e.forEach(n=>RX(n,t))}function jl(...e){return d.useCallback(aE(...e),e)}const iE=d.forwardRef((e,t)=>{const{children:n,...r}=e,o=d.Children.toArray(n),s=o.find(TX);if(s){const i=s.props.children,l=o.map(c=>c===s?d.Children.count(i)>1?d.Children.only(null):d.isValidElement(i)?i.props.children:null:c);return d.createElement(Mx,mn({},r,{ref:t}),d.isValidElement(i)?d.cloneElement(i,void 0,l):null)}return d.createElement(Mx,mn({},r,{ref:t}),n)});iE.displayName="Slot";const Mx=d.forwardRef((e,t)=>{const{children:n,...r}=e;return d.isValidElement(n)?d.cloneElement(n,{...NX(r,n.props),ref:aE(t,n.ref)}):d.Children.count(n)>1?d.Children.only(null):null});Mx.displayName="SlotClone";const AX=({children:e})=>d.createElement(d.Fragment,null,e);function TX(e){return d.isValidElement(e)&&e.type===AX}function NX(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...l)=>{s(...l),o(...l)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}const $X=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"],yf=$X.reduce((e,t)=>{const n=d.forwardRef((r,o)=>{const{asChild:s,...i}=r,l=s?iE:t;return d.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),d.createElement(l,mn({},i,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Ox=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{};function LX(e,t){return d.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const Cf=e=>{const{present:t,children:n}=e,r=zX(t),o=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),s=jl(r.ref,o.ref);return typeof n=="function"||r.isPresent?d.cloneElement(o,{ref:s}):null};Cf.displayName="Presence";function zX(e){const[t,n]=d.useState(),r=d.useRef({}),o=d.useRef(e),s=d.useRef("none"),i=e?"mounted":"unmounted",[l,c]=LX(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const p=Hp(r.current);s.current=l==="mounted"?p:"none"},[l]),Ox(()=>{const p=r.current,h=o.current;if(h!==e){const g=s.current,x=Hp(p);e?c("MOUNT"):x==="none"||(p==null?void 0:p.display)==="none"?c("UNMOUNT"):c(h&&g!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),Ox(()=>{if(t){const p=m=>{const x=Hp(r.current).includes(m.animationName);m.target===t&&x&&Zr.flushSync(()=>c("ANIMATION_END"))},h=m=>{m.target===t&&(s.current=Hp(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(p=>{p&&(r.current=getComputedStyle(p)),n(p)},[])}}function Hp(e){return(e==null?void 0:e.animationName)||"none"}function FX(e,t=[]){let n=[];function r(s,i){const l=d.createContext(i),c=n.length;n=[...n,i];function p(m){const{scope:g,children:x,...y}=m,b=(g==null?void 0:g[e][c])||l,w=d.useMemo(()=>y,Object.values(y));return d.createElement(b.Provider,{value:w},x)}function h(m,g){const x=(g==null?void 0:g[e][c])||l,y=d.useContext(x);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${s}\``)}return p.displayName=s+"Provider",[p,h]}const o=()=>{const s=n.map(i=>d.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[r,BX(o,...t)]}function BX(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const i=r.reduce((l,{useScope:c,scopeName:p})=>{const m=c(s)[`__scope${p}`];return{...l,...m}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Vi(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}const HX=d.createContext(void 0);function VX(e){const t=d.useContext(HX);return e||t||"ltr"}function WX(e,[t,n]){return Math.min(n,Math.max(t,e))}function Ji(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function UX(e,t){return d.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const lE="ScrollArea",[cE,Kxe]=FX(lE),[GX,Ro]=cE(lE),KX=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:s=600,...i}=e,[l,c]=d.useState(null),[p,h]=d.useState(null),[m,g]=d.useState(null),[x,y]=d.useState(null),[b,w]=d.useState(null),[S,j]=d.useState(0),[I,M]=d.useState(0),[_,E]=d.useState(!1),[D,R]=d.useState(!1),A=jl(t,T=>c(T)),O=VX(o);return d.createElement(GX,{scope:n,type:r,dir:O,scrollHideDelay:s,scrollArea:l,viewport:p,onViewportChange:h,content:m,onContentChange:g,scrollbarX:x,onScrollbarXChange:y,scrollbarXEnabled:_,onScrollbarXEnabledChange:E,scrollbarY:b,onScrollbarYChange:w,scrollbarYEnabled:D,onScrollbarYEnabledChange:R,onCornerWidthChange:j,onCornerHeightChange:M},d.createElement(yf.div,mn({dir:O},i,{ref:A,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":I+"px",...e.style}})))}),qX="ScrollAreaViewport",XX=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...o}=e,s=Ro(qX,n),i=d.useRef(null),l=jl(t,i,s.onViewportChange);return d.createElement(d.Fragment,null,d.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),d.createElement(yf.div,mn({"data-radix-scroll-area-viewport":""},o,{ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),d.createElement("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),Da="ScrollAreaScrollbar",QX=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Ro(Da,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=o,l=e.orientation==="horizontal";return d.useEffect(()=>(l?s(!0):i(!0),()=>{l?s(!1):i(!1)}),[l,s,i]),o.type==="hover"?d.createElement(YX,mn({},r,{ref:t,forceMount:n})):o.type==="scroll"?d.createElement(ZX,mn({},r,{ref:t,forceMount:n})):o.type==="auto"?d.createElement(uE,mn({},r,{ref:t,forceMount:n})):o.type==="always"?d.createElement(Ry,mn({},r,{ref:t})):null}),YX=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Ro(Da,e.__scopeScrollArea),[s,i]=d.useState(!1);return d.useEffect(()=>{const l=o.scrollArea;let c=0;if(l){const p=()=>{window.clearTimeout(c),i(!0)},h=()=>{c=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",p),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",p),l.removeEventListener("pointerleave",h)}}},[o.scrollArea,o.scrollHideDelay]),d.createElement(Cf,{present:n||s},d.createElement(uE,mn({"data-state":s?"visible":"hidden"},r,{ref:t})))}),ZX=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=Ro(Da,e.__scopeScrollArea),s=e.orientation==="horizontal",i=Dg(()=>c("SCROLL_END"),100),[l,c]=UX("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(l==="idle"){const p=window.setTimeout(()=>c("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(p)}},[l,o.scrollHideDelay,c]),d.useEffect(()=>{const p=o.viewport,h=s?"scrollLeft":"scrollTop";if(p){let m=p[h];const g=()=>{const x=p[h];m!==x&&(c("SCROLL"),i()),m=x};return p.addEventListener("scroll",g),()=>p.removeEventListener("scroll",g)}},[o.viewport,s,c,i]),d.createElement(Cf,{present:n||l!=="hidden"},d.createElement(Ry,mn({"data-state":l==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:Ji(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ji(e.onPointerLeave,()=>c("POINTER_LEAVE"))})))}),uE=d.forwardRef((e,t)=>{const n=Ro(Da,e.__scopeScrollArea),{forceMount:r,...o}=e,[s,i]=d.useState(!1),l=e.orientation==="horizontal",c=Dg(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?p:h)}},10);return qc(n.viewport,c),qc(n.content,c),d.createElement(Cf,{present:r||s},d.createElement(Ry,mn({"data-state":s?"visible":"hidden"},o,{ref:t})))}),Ry=d.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=Ro(Da,e.__scopeScrollArea),s=d.useRef(null),i=d.useRef(0),[l,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=hE(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:p>0&&p<1,onThumbChange:g=>s.current=g,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:g=>i.current=g};function m(g,x){return aQ(g,i.current,l,x)}return n==="horizontal"?d.createElement(JX,mn({},h,{ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const g=o.viewport.scrollLeft,x=yk(g,l,o.dir);s.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollLeft=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollLeft=m(g,o.dir))}})):n==="vertical"?d.createElement(eQ,mn({},h,{ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const g=o.viewport.scrollTop,x=yk(g,l);s.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollTop=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollTop=m(g))}})):null}),JX=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=Ro(Da,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),p=jl(t,c,s.onScrollbarXChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),d.createElement(fE,mn({"data-orientation":"horizontal"},o,{ref:p,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Og(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(s.viewport){const g=s.viewport.scrollLeft+h.deltaX;e.onWheelScroll(g),gE(g,m)&&h.preventDefault()}},onResize:()=>{c.current&&s.viewport&&i&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:sm(i.paddingLeft),paddingEnd:sm(i.paddingRight)}})}}))}),eQ=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=Ro(Da,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),p=jl(t,c,s.onScrollbarYChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),d.createElement(fE,mn({"data-orientation":"vertical"},o,{ref:p,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Og(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(s.viewport){const g=s.viewport.scrollTop+h.deltaY;e.onWheelScroll(g),gE(g,m)&&h.preventDefault()}},onResize:()=>{c.current&&s.viewport&&i&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:sm(i.paddingTop),paddingEnd:sm(i.paddingBottom)}})}}))}),[tQ,dE]=cE(Da),fE=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:p,onWheelScroll:h,onResize:m,...g}=e,x=Ro(Da,n),[y,b]=d.useState(null),w=jl(t,A=>b(A)),S=d.useRef(null),j=d.useRef(""),I=x.viewport,M=r.content-r.viewport,_=Vi(h),E=Vi(c),D=Dg(m,10);function R(A){if(S.current){const O=A.clientX-S.current.left,T=A.clientY-S.current.top;p({x:O,y:T})}}return d.useEffect(()=>{const A=O=>{const T=O.target;(y==null?void 0:y.contains(T))&&_(O,M)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[I,y,M,_]),d.useEffect(E,[r,E]),qc(y,D),qc(x.content,D),d.createElement(tQ,{scope:n,scrollbar:y,hasThumb:o,onThumbChange:Vi(s),onThumbPointerUp:Vi(i),onThumbPositionChange:E,onThumbPointerDown:Vi(l)},d.createElement(yf.div,mn({},g,{ref:w,style:{position:"absolute",...g.style},onPointerDown:Ji(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),S.current=y.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",R(A))}),onPointerMove:Ji(e.onPointerMove,R),onPointerUp:Ji(e.onPointerUp,A=>{const O=A.target;O.hasPointerCapture(A.pointerId)&&O.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=j.current,S.current=null})})))}),Dx="ScrollAreaThumb",nQ=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=dE(Dx,e.__scopeScrollArea);return d.createElement(Cf,{present:n||o.hasThumb},d.createElement(rQ,mn({ref:t},r)))}),rQ=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,s=Ro(Dx,n),i=dE(Dx,n),{onThumbPositionChange:l}=i,c=jl(t,m=>i.onThumbChange(m)),p=d.useRef(),h=Dg(()=>{p.current&&(p.current(),p.current=void 0)},100);return d.useEffect(()=>{const m=s.viewport;if(m){const g=()=>{if(h(),!p.current){const x=iQ(m,l);p.current=x,l()}};return l(),m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[s.viewport,h,l]),d.createElement(yf.div,mn({"data-state":i.hasThumb?"visible":"hidden"},o,{ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ji(e.onPointerDownCapture,m=>{const x=m.target.getBoundingClientRect(),y=m.clientX-x.left,b=m.clientY-x.top;i.onThumbPointerDown({x:y,y:b})}),onPointerUp:Ji(e.onPointerUp,i.onThumbPointerUp)}))}),pE="ScrollAreaCorner",oQ=d.forwardRef((e,t)=>{const n=Ro(pE,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?d.createElement(sQ,mn({},e,{ref:t})):null}),sQ=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=Ro(pE,n),[s,i]=d.useState(0),[l,c]=d.useState(0),p=!!(s&&l);return qc(o.scrollbarX,()=>{var h;const m=((h=o.scrollbarX)===null||h===void 0?void 0:h.offsetHeight)||0;o.onCornerHeightChange(m),c(m)}),qc(o.scrollbarY,()=>{var h;const m=((h=o.scrollbarY)===null||h===void 0?void 0:h.offsetWidth)||0;o.onCornerWidthChange(m),i(m)}),p?d.createElement(yf.div,mn({},r,{ref:t,style:{width:s,height:l,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function sm(e){return e?parseInt(e,10):0}function hE(e,t){const n=e/t;return isNaN(n)?0:n}function Og(e){const t=hE(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function aQ(e,t,n,r="ltr"){const o=Og(n),s=o/2,i=t||s,l=o-i,c=n.scrollbar.paddingStart+i,p=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,m=r==="ltr"?[0,h]:[h*-1,0];return mE([c,p],m)(e)}function yk(e,t,n="ltr"){const r=Og(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,i=t.content-t.viewport,l=s-r,c=n==="ltr"?[0,i]:[i*-1,0],p=WX(e,c);return mE([0,i],[0,l])(p)}function mE(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function gE(e,t){return e>0&&e<t}const iQ=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const s={left:e.scrollLeft,top:e.scrollTop},i=n.left!==s.left,l=n.top!==s.top;(i||l)&&t(),n=s,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function Dg(e,t){const n=Vi(e),r=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),d.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function qc(e,t){const n=Vi(t);Ox(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}const lQ=KX,cQ=XX,Ck=QX,wk=nQ,uQ=oQ;var dQ=mr((e,{scrollbarSize:t,offsetScrollbars:n,scrollbarHovered:r,hidden:o})=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:n?De(t):void 0,paddingBottom:n?De(t):void 0},scrollbar:{display:o?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:`calc(${De(t)}  / 5)`,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[8]:e.colors.gray[0],[`& .${_4("thumb")}`]:{backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:De(t)},'&[data-orientation="horizontal"]':{flexDirection:"column",height:De(t)},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:_4("thumb"),flex:1,backgroundColor:e.colorScheme==="dark"?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:De(t),position:"relative",transition:"background-color 150ms ease",display:o?"none":void 0,overflow:"hidden","&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",minWidth:De(44),minHeight:De(44)}},corner:{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:r?1:0,display:o?"none":void 0}}));const fQ=dQ;var pQ=Object.defineProperty,hQ=Object.defineProperties,mQ=Object.getOwnPropertyDescriptors,am=Object.getOwnPropertySymbols,vE=Object.prototype.hasOwnProperty,xE=Object.prototype.propertyIsEnumerable,Sk=(e,t,n)=>t in e?pQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rx=(e,t)=>{for(var n in t||(t={}))vE.call(t,n)&&Sk(e,n,t[n]);if(am)for(var n of am(t))xE.call(t,n)&&Sk(e,n,t[n]);return e},bE=(e,t)=>hQ(e,mQ(t)),yE=(e,t)=>{var n={};for(var r in e)vE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&am)for(var r of am(e))t.indexOf(r)<0&&xE.call(e,r)&&(n[r]=e[r]);return n};const CE={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},Rg=d.forwardRef((e,t)=>{const n=An("ScrollArea",CE,e),{children:r,className:o,classNames:s,styles:i,scrollbarSize:l,scrollHideDelay:c,type:p,dir:h,offsetScrollbars:m,viewportRef:g,onScrollPositionChange:x,unstyled:y,variant:b,viewportProps:w}=n,S=yE(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","variant","viewportProps"]),[j,I]=d.useState(!1),M=Ma(),{classes:_,cx:E}=fQ({scrollbarSize:l,offsetScrollbars:m,scrollbarHovered:j,hidden:p==="never"},{name:"ScrollArea",classNames:s,styles:i,unstyled:y,variant:b});return B.createElement(lQ,{type:p==="never"?"always":p,scrollHideDelay:c,dir:h||M.dir,ref:t,asChild:!0},B.createElement(Hr,Rx({className:E(_.root,o)},S),B.createElement(cQ,bE(Rx({},w),{className:_.viewport,ref:g,onScroll:typeof x=="function"?({currentTarget:D})=>x({x:D.scrollLeft,y:D.scrollTop}):void 0}),r),B.createElement(Ck,{orientation:"horizontal",className:_.scrollbar,forceMount:!0,onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1)},B.createElement(wk,{className:_.thumb})),B.createElement(Ck,{orientation:"vertical",className:_.scrollbar,forceMount:!0,onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1)},B.createElement(wk,{className:_.thumb})),B.createElement(uQ,{className:_.corner})))}),wE=d.forwardRef((e,t)=>{const n=An("ScrollAreaAutosize",CE,e),{children:r,classNames:o,styles:s,scrollbarSize:i,scrollHideDelay:l,type:c,dir:p,offsetScrollbars:h,viewportRef:m,onScrollPositionChange:g,unstyled:x,sx:y,variant:b,viewportProps:w}=n,S=yE(n,["children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx","variant","viewportProps"]);return B.createElement(Hr,bE(Rx({},S),{ref:t,sx:[{display:"flex"},...c6(y)]}),B.createElement(Hr,{sx:{display:"flex",flexDirection:"column",flex:1}},B.createElement(Rg,{classNames:o,styles:s,scrollHideDelay:l,scrollbarSize:i,type:c,dir:p,offsetScrollbars:h,viewportRef:m,onScrollPositionChange:g,unstyled:x,variant:b,viewportProps:w},r)))});wE.displayName="@mantine/core/ScrollAreaAutosize";Rg.displayName="@mantine/core/ScrollArea";Rg.Autosize=wE;const SE=Rg;var gQ=Object.defineProperty,vQ=Object.defineProperties,xQ=Object.getOwnPropertyDescriptors,im=Object.getOwnPropertySymbols,kE=Object.prototype.hasOwnProperty,jE=Object.prototype.propertyIsEnumerable,kk=(e,t,n)=>t in e?gQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jk=(e,t)=>{for(var n in t||(t={}))kE.call(t,n)&&kk(e,n,t[n]);if(im)for(var n of im(t))jE.call(t,n)&&kk(e,n,t[n]);return e},bQ=(e,t)=>vQ(e,xQ(t)),yQ=(e,t)=>{var n={};for(var r in e)kE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&im)for(var r of im(e))t.indexOf(r)<0&&jE.call(e,r)&&(n[r]=e[r]);return n};const Ag=d.forwardRef((e,t)=>{var n=e,{style:r}=n,o=yQ(n,["style"]);return B.createElement(SE,bQ(jk({},o),{style:jk({width:"100%"},r),viewportProps:{tabIndex:-1},viewportRef:t}),o.children)});Ag.displayName="@mantine/core/SelectScrollArea";var CQ=mr(()=>({dropdown:{},itemsWrapper:{padding:De(4),display:"flex",width:"100%",boxSizing:"border-box"}}));const wQ=CQ;function du(e){return e.split("-")[1]}function Ay(e){return e==="y"?"height":"width"}function Jo(e){return e.split("-")[0]}function wi(e){return["top","bottom"].includes(Jo(e))?"x":"y"}function Ik(e,t,n){let{reference:r,floating:o}=e;const s=r.x+r.width/2-o.width/2,i=r.y+r.height/2-o.height/2,l=wi(t),c=Ay(l),p=r[c]/2-o[c]/2,h=l==="x";let m;switch(Jo(t)){case"top":m={x:s,y:r.y-o.height};break;case"bottom":m={x:s,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:i};break;case"left":m={x:r.x-o.width,y:i};break;default:m={x:r.x,y:r.y}}switch(du(t)){case"start":m[l]-=p*(n&&h?-1:1);break;case"end":m[l]+=p*(n&&h?-1:1)}return m}const SQ=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,l=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let p=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:h,y:m}=Ik(p,r,c),g=r,x={},y=0;for(let b=0;b<l.length;b++){const{name:w,fn:S}=l[b],{x:j,y:I,data:M,reset:_}=await S({x:h,y:m,initialPlacement:r,placement:g,strategy:o,middlewareData:x,rects:p,platform:i,elements:{reference:e,floating:t}});h=j??h,m=I??m,x={...x,[w]:{...x[w],...M}},_&&y<=50&&(y++,typeof _=="object"&&(_.placement&&(g=_.placement),_.rects&&(p=_.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):_.rects),{x:h,y:m}=Ik(p,g,c)),b=-1)}return{x:h,y:m,placement:g,strategy:o,middlewareData:x}};function ya(e,t){return typeof e=="function"?e(t):e}function Ty(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function Xc(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Ny(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:i,elements:l,strategy:c}=e,{boundary:p="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:g=!1,padding:x=0}=ya(t,e),y=Ty(x),b=l[g?m==="floating"?"reference":"floating":m],w=Xc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:p,rootBoundary:h,strategy:c})),S=m==="floating"?{...i.floating,x:r,y:o}:i.reference,j=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),I=await(s.isElement==null?void 0:s.isElement(j))&&await(s.getScale==null?void 0:s.getScale(j))||{x:1,y:1},M=Xc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:S,offsetParent:j,strategy:c}):S);return{top:(w.top-M.top+y.top)/I.y,bottom:(M.bottom-w.bottom+y.bottom)/I.y,left:(w.left-M.left+y.left)/I.x,right:(M.right-w.right+y.right)/I.x}}const hi=Math.min,ks=Math.max;function Ax(e,t,n){return ks(e,hi(t,n))}const _k=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:i,elements:l}=t,{element:c,padding:p=0}=ya(e,t)||{};if(c==null)return{};const h=Ty(p),m={x:n,y:r},g=wi(o),x=Ay(g),y=await i.getDimensions(c),b=g==="y",w=b?"top":"left",S=b?"bottom":"right",j=b?"clientHeight":"clientWidth",I=s.reference[x]+s.reference[g]-m[g]-s.floating[x],M=m[g]-s.reference[g],_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let E=_?_[j]:0;E&&await(i.isElement==null?void 0:i.isElement(_))||(E=l.floating[j]||s.floating[x]);const D=I/2-M/2,R=E/2-y[x]/2-1,A=hi(h[w],R),O=hi(h[S],R),T=A,K=E-y[x]-O,L=E/2-y[x]/2+D,H=Ax(T,L,K),U=du(o)!=null&&L!=H&&s.reference[x]/2-(L<T?A:O)-y[x]/2<0?L<T?T-L:K-L:0;return{[g]:m[g]-U,data:{[g]:H,centerOffset:L-H+U}}}}),kQ=["top","right","bottom","left"];kQ.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const jQ={left:"right",right:"left",bottom:"top",top:"bottom"};function lm(e){return e.replace(/left|right|bottom|top/g,t=>jQ[t])}function IQ(e,t,n){n===void 0&&(n=!1);const r=du(e),o=wi(e),s=Ay(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=lm(i)),{main:i,cross:lm(i)}}const _Q={start:"end",end:"start"};function r1(e){return e.replace(/start|end/g,t=>_Q[t])}const PQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:o,rects:s,initialPlacement:i,platform:l,elements:c}=t,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...b}=ya(e,t),w=Jo(r),S=Jo(i)===i,j=await(l.isRTL==null?void 0:l.isRTL(c.floating)),I=m||(S||!y?[lm(i)]:function(T){const K=lm(T);return[r1(T),K,r1(K)]}(i));m||x==="none"||I.push(...function(T,K,L,H){const U=du(T);let W=function(z,Q,F){const X=["left","right"],Y=["right","left"],se=["top","bottom"],ae=["bottom","top"];switch(z){case"top":case"bottom":return F?Q?Y:X:Q?X:Y;case"left":case"right":return Q?se:ae;default:return[]}}(Jo(T),L==="start",H);return U&&(W=W.map(z=>z+"-"+U),K&&(W=W.concat(W.map(r1)))),W}(i,y,x,j));const M=[i,...I],_=await Ny(t,b),E=[];let D=((n=o.flip)==null?void 0:n.overflows)||[];if(p&&E.push(_[w]),h){const{main:T,cross:K}=IQ(r,s,j);E.push(_[T],_[K])}if(D=[...D,{placement:r,overflows:E}],!E.every(T=>T<=0)){var R,A;const T=(((R=o.flip)==null?void 0:R.index)||0)+1,K=M[T];if(K)return{data:{index:T,overflows:D},reset:{placement:K}};let L=(A=D.filter(H=>H.overflows[0]<=0).sort((H,U)=>H.overflows[1]-U.overflows[1])[0])==null?void 0:A.placement;if(!L)switch(g){case"bestFit":{var O;const H=(O=D.map(U=>[U.placement,U.overflows.filter(W=>W>0).reduce((W,z)=>W+z,0)]).sort((U,W)=>U[1]-W[1])[0])==null?void 0:O[0];H&&(L=H);break}case"initialPlacement":L=i}if(r!==L)return{reset:{placement:L}}}return{}}}};function Pk(e){const t=hi(...e.map(r=>r.left)),n=hi(...e.map(r=>r.top));return{x:t,y:n,width:ks(...e.map(r=>r.right))-t,height:ks(...e.map(r=>r.bottom))-n}}const EQ=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:s,strategy:i}=t,{padding:l=2,x:c,y:p}=ya(e,t),h=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),m=function(b){const w=b.slice().sort((I,M)=>I.y-M.y),S=[];let j=null;for(let I=0;I<w.length;I++){const M=w[I];!j||M.y-j.y>j.height/2?S.push([M]):S[S.length-1].push(M),j=M}return S.map(I=>Xc(Pk(I)))}(h),g=Xc(Pk(h)),x=Ty(l),y=await s.getElementRects({reference:{getBoundingClientRect:function(){if(m.length===2&&m[0].left>m[1].right&&c!=null&&p!=null)return m.find(b=>c>b.left-x.left&&c<b.right+x.right&&p>b.top-x.top&&p<b.bottom+x.bottom)||g;if(m.length>=2){if(wi(n)==="x"){const _=m[0],E=m[m.length-1],D=Jo(n)==="top",R=_.top,A=E.bottom,O=D?_.left:E.left,T=D?_.right:E.right;return{top:R,bottom:A,left:O,right:T,width:T-O,height:A-R,x:O,y:R}}const b=Jo(n)==="left",w=ks(...m.map(_=>_.right)),S=hi(...m.map(_=>_.left)),j=m.filter(_=>b?_.left===S:_.right===w),I=j[0].top,M=j[j.length-1].bottom;return{top:I,bottom:M,left:S,right:w,width:w-S,height:M-I,x:S,y:I}}return g}},floating:r.floating,strategy:i});return o.reference.x!==y.reference.x||o.reference.y!==y.reference.y||o.reference.width!==y.reference.width||o.reference.height!==y.reference.height?{reset:{rects:y}}:{}}}},MQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await async function(s,i){const{placement:l,platform:c,elements:p}=s,h=await(c.isRTL==null?void 0:c.isRTL(p.floating)),m=Jo(l),g=du(l),x=wi(l)==="x",y=["left","top"].includes(m)?-1:1,b=h&&x?-1:1,w=ya(i,s);let{mainAxis:S,crossAxis:j,alignmentAxis:I}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...w};return g&&typeof I=="number"&&(j=g==="end"?-1*I:I),x?{x:j*b,y:S*y}:{x:S*y,y:j*b}}(t,e);return{x:n+o.x,y:r+o.y,data:o}}}};function IE(e){return e==="x"?"y":"x"}const OQ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:S,y:j}=w;return{x:S,y:j}}},...c}=ya(e,t),p={x:n,y:r},h=await Ny(t,c),m=wi(Jo(o)),g=IE(m);let x=p[m],y=p[g];if(s){const w=m==="y"?"bottom":"right";x=Ax(x+h[m==="y"?"top":"left"],x,x-h[w])}if(i){const w=g==="y"?"bottom":"right";y=Ax(y+h[g==="y"?"top":"left"],y,y-h[w])}const b=l.fn({...t,[m]:x,[g]:y});return{...b,data:{x:b.x-n,y:b.y-r}}}}},DQ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:p=!0}=ya(e,t),h={x:n,y:r},m=wi(o),g=IE(m);let x=h[m],y=h[g];const b=ya(l,t),w=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(c){const I=m==="y"?"height":"width",M=s.reference[m]-s.floating[I]+w.mainAxis,_=s.reference[m]+s.reference[I]-w.mainAxis;x<M?x=M:x>_&&(x=_)}if(p){var S,j;const I=m==="y"?"width":"height",M=["top","left"].includes(Jo(o)),_=s.reference[g]-s.floating[I]+(M&&((S=i.offset)==null?void 0:S[g])||0)+(M?0:w.crossAxis),E=s.reference[g]+s.reference[I]+(M?0:((j=i.offset)==null?void 0:j[g])||0)-(M?w.crossAxis:0);y<_?y=_:y>E&&(y=E)}return{[m]:x,[g]:y}}}},RQ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:s}=t,{apply:i=()=>{},...l}=ya(e,t),c=await Ny(t,l),p=Jo(n),h=du(n),m=wi(n)==="x",{width:g,height:x}=r.floating;let y,b;p==="top"||p==="bottom"?(y=p,b=h===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(b=p,y=h==="end"?"top":"bottom");const w=x-c[y],S=g-c[b],j=!t.middlewareData.shift;let I=w,M=S;if(m){const E=g-c.left-c.right;M=h||j?hi(S,E):E}else{const E=x-c.top-c.bottom;I=h||j?hi(w,E):E}if(j&&!h){const E=ks(c.left,0),D=ks(c.right,0),R=ks(c.top,0),A=ks(c.bottom,0);m?M=g-2*(E!==0||D!==0?E+D:ks(c.left,c.right)):I=x-2*(R!==0||A!==0?R+A:ks(c.top,c.bottom))}await i({...t,availableWidth:M,availableHeight:I});const _=await o.getDimensions(s.floating);return g!==_.width||x!==_.height?{reset:{rects:!0}}:{}}}};function to(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ts(e){return to(e).getComputedStyle(e)}function _E(e){return e instanceof to(e).Node}function mi(e){return _E(e)?(e.nodeName||"").toLowerCase():"#document"}function as(e){return e instanceof HTMLElement||e instanceof to(e).HTMLElement}function Ek(e){return typeof ShadowRoot<"u"&&(e instanceof to(e).ShadowRoot||e instanceof ShadowRoot)}function Dd(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Ts(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function AQ(e){return["table","td","th"].includes(mi(e))}function Tx(e){const t=$y(),n=Ts(e);return n.transform!=="none"||n.perspective!=="none"||!!n.containerType&&n.containerType!=="normal"||!t&&!!n.backdropFilter&&n.backdropFilter!=="none"||!t&&!!n.filter&&n.filter!=="none"||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $y(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Tg(e){return["html","body","#document"].includes(mi(e))}const Nx=Math.min,Dc=Math.max,cm=Math.round,Vp=Math.floor,gi=e=>({x:e,y:e});function PE(e){const t=Ts(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=as(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,l=cm(n)!==s||cm(r)!==i;return l&&(n=s,r=i),{width:n,height:r,$:l}}function ha(e){return e instanceof Element||e instanceof to(e).Element}function Ly(e){return ha(e)?e:e.contextElement}function Rc(e){const t=Ly(e);if(!as(t))return gi(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=PE(t);let i=(s?cm(n.width):n.width)/r,l=(s?cm(n.height):n.height)/o;return i&&Number.isFinite(i)||(i=1),l&&Number.isFinite(l)||(l=1),{x:i,y:l}}const TQ=gi(0);function EE(e){const t=to(e);return $y()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:TQ}function hl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=Ly(e);let i=gi(1);t&&(r?ha(r)&&(i=Rc(r)):i=Rc(e));const l=function(g,x,y){return x===void 0&&(x=!1),!(!y||x&&y!==to(g))&&x}(s,n,r)?EE(s):gi(0);let c=(o.left+l.x)/i.x,p=(o.top+l.y)/i.y,h=o.width/i.x,m=o.height/i.y;if(s){const g=to(s),x=r&&ha(r)?to(r):r;let y=g.frameElement;for(;y&&r&&x!==g;){const b=Rc(y),w=y.getBoundingClientRect(),S=getComputedStyle(y),j=w.left+(y.clientLeft+parseFloat(S.paddingLeft))*b.x,I=w.top+(y.clientTop+parseFloat(S.paddingTop))*b.y;c*=b.x,p*=b.y,h*=b.x,m*=b.y,c+=j,p+=I,y=to(y).frameElement}}return Xc({width:h,height:m,x:c,y:p})}function Ng(e){return ha(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ma(e){var t;return(t=(_E(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ME(e){return hl(ma(e)).left+Ng(e).scrollLeft}function Qc(e){if(mi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ek(e)&&e.host||ma(e);return Ek(t)?t.host:t}function OE(e){const t=Qc(e);return Tg(t)?e.ownerDocument?e.ownerDocument.body:e.body:as(t)&&Dd(t)?t:OE(t)}function um(e,t){var n;t===void 0&&(t=[]);const r=OE(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),s=to(r);return o?t.concat(s,s.visualViewport||[],Dd(r)?r:[]):t.concat(r,um(r))}function Mk(e,t,n){let r;if(t==="viewport")r=function(o,s){const i=to(o),l=ma(o),c=i.visualViewport;let p=l.clientWidth,h=l.clientHeight,m=0,g=0;if(c){p=c.width,h=c.height;const x=$y();(!x||x&&s==="fixed")&&(m=c.offsetLeft,g=c.offsetTop)}return{width:p,height:h,x:m,y:g}}(e,n);else if(t==="document")r=function(o){const s=ma(o),i=Ng(o),l=o.ownerDocument.body,c=Dc(s.scrollWidth,s.clientWidth,l.scrollWidth,l.clientWidth),p=Dc(s.scrollHeight,s.clientHeight,l.scrollHeight,l.clientHeight);let h=-i.scrollLeft+ME(o);const m=-i.scrollTop;return Ts(l).direction==="rtl"&&(h+=Dc(s.clientWidth,l.clientWidth)-c),{width:c,height:p,x:h,y:m}}(ma(e));else if(ha(t))r=function(o,s){const i=hl(o,!0,s==="fixed"),l=i.top+o.clientTop,c=i.left+o.clientLeft,p=as(o)?Rc(o):gi(1);return{width:o.clientWidth*p.x,height:o.clientHeight*p.y,x:c*p.x,y:l*p.y}}(t,n);else{const o=EE(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Xc(r)}function DE(e,t){const n=Qc(e);return!(n===t||!ha(n)||Tg(n))&&(Ts(n).position==="fixed"||DE(n,t))}function NQ(e,t,n){const r=as(t),o=ma(t),s=n==="fixed",i=hl(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=gi(0);if(r||!r&&!s)if((mi(t)!=="body"||Dd(o))&&(l=Ng(t)),as(t)){const p=hl(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else o&&(c.x=ME(o));return{x:i.left+l.scrollLeft-c.x,y:i.top+l.scrollTop-c.y,width:i.width,height:i.height}}function Ok(e,t){return as(e)&&Ts(e).position!=="fixed"?t?t(e):e.offsetParent:null}function Dk(e,t){const n=to(e);if(!as(e))return n;let r=Ok(e,t);for(;r&&AQ(r)&&Ts(r).position==="static";)r=Ok(r,t);return r&&(mi(r)==="html"||mi(r)==="body"&&Ts(r).position==="static"&&!Tx(r))?n:r||function(o){let s=Qc(o);for(;as(s)&&!Tg(s);){if(Tx(s))return s;s=Qc(s)}return null}(e)||n}const $Q={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=as(n),s=ma(n);if(n===s)return t;let i={scrollLeft:0,scrollTop:0},l=gi(1);const c=gi(0);if((o||!o&&r!=="fixed")&&((mi(n)!=="body"||Dd(s))&&(i=Ng(n)),as(n))){const p=hl(n);l=Rc(n),c.x=p.x+n.clientLeft,c.y=p.y+n.clientTop}return{width:t.width*l.x,height:t.height*l.y,x:t.x*l.x-i.scrollLeft*l.x+c.x,y:t.y*l.y-i.scrollTop*l.y+c.y}},getDocumentElement:ma,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?function(c,p){const h=p.get(c);if(h)return h;let m=um(c).filter(b=>ha(b)&&mi(b)!=="body"),g=null;const x=Ts(c).position==="fixed";let y=x?Qc(c):c;for(;ha(y)&&!Tg(y);){const b=Ts(y),w=Tx(y);w||b.position!=="fixed"||(g=null),(x?!w&&!g:!w&&b.position==="static"&&g&&["absolute","fixed"].includes(g.position)||Dd(y)&&!w&&DE(c,y))?m=m.filter(S=>S!==y):g=b,y=Qc(y)}return p.set(c,m),m}(t,this._c):[].concat(n),r],i=s[0],l=s.reduce((c,p)=>{const h=Mk(t,p,o);return c.top=Dc(h.top,c.top),c.right=Nx(h.right,c.right),c.bottom=Nx(h.bottom,c.bottom),c.left=Dc(h.left,c.left),c},Mk(t,i,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:Dk,getElementRects:async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||Dk,s=this.getDimensions;return{reference:NQ(t,await o(n),r),floating:{x:0,y:0,...await s(n)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){return PE(e)},getScale:Rc,isElement:ha,isRTL:function(e){return getComputedStyle(e).direction==="rtl"}};function LQ(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,p=Ly(e),h=o||s?[...p?um(p):[],...um(t)]:[];h.forEach(w=>{o&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const m=p&&l?function(w,S){let j,I=null;const M=ma(w);function _(){clearTimeout(j),I&&I.disconnect(),I=null}return function E(D,R){D===void 0&&(D=!1),R===void 0&&(R=1),_();const{left:A,top:O,width:T,height:K}=w.getBoundingClientRect();if(D||S(),!T||!K)return;const L={rootMargin:-Vp(O)+"px "+-Vp(M.clientWidth-(A+T))+"px "+-Vp(M.clientHeight-(O+K))+"px "+-Vp(A)+"px",threshold:Dc(0,Nx(1,R))||1};let H=!0;function U(W){const z=W[0].intersectionRatio;if(z!==R){if(!H)return E();z?E(!1,z):j=setTimeout(()=>{E(!1,1e-7)},100)}H=!1}try{I=new IntersectionObserver(U,{...L,root:M.ownerDocument})}catch{I=new IntersectionObserver(U,L)}I.observe(w)}(!0),_}(p,n):null;let g,x=-1,y=null;i&&(y=new ResizeObserver(w=>{let[S]=w;S&&S.target===p&&y&&(y.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{y&&y.observe(t)})),n()}),p&&!c&&y.observe(p),y.observe(t));let b=c?hl(e):null;return c&&function w(){const S=hl(e);!b||S.x===b.x&&S.y===b.y&&S.width===b.width&&S.height===b.height||n(),b=S,g=requestAnimationFrame(w)}(),n(),()=>{h.forEach(w=>{o&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),m&&m(),y&&y.disconnect(),y=null,c&&cancelAnimationFrame(g)}}const zQ=(e,t,n)=>{const r=new Map,o={platform:$Q,...n},s={...o.platform,_c:r};return SQ(e,t,{...o,platform:s})},FQ=e=>{const{element:t,padding:n}=e;function r(o){return Object.prototype.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return r(t)?t.current!=null?_k({element:t.current,padding:n}).fn(o):{}:t?_k({element:t,padding:n}).fn(o):{}}}};var yh=typeof document<"u"?d.useLayoutEffect:d.useEffect;function dm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!dm(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!dm(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Rk(e){const t=d.useRef(e);return yh(()=>{t.current=e}),t}function BQ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,whileElementsMounted:s,open:i}=e,[l,c]=d.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=d.useState(r);dm(p,r)||h(r);const m=d.useRef(null),g=d.useRef(null),x=d.useRef(l),y=Rk(s),b=Rk(o),[w,S]=d.useState(null),[j,I]=d.useState(null),M=d.useCallback(O=>{m.current!==O&&(m.current=O,S(O))},[]),_=d.useCallback(O=>{g.current!==O&&(g.current=O,I(O))},[]),E=d.useCallback(()=>{if(!m.current||!g.current)return;const O={placement:t,strategy:n,middleware:p};b.current&&(O.platform=b.current),zQ(m.current,g.current,O).then(T=>{const K={...T,isPositioned:!0};D.current&&!dm(x.current,K)&&(x.current=K,Zr.flushSync(()=>{c(K)}))})},[p,t,n,b]);yh(()=>{i===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,c(O=>({...O,isPositioned:!1})))},[i]);const D=d.useRef(!1);yh(()=>(D.current=!0,()=>{D.current=!1}),[]),yh(()=>{if(w&&j){if(y.current)return y.current(w,j,E);E()}},[w,j,E,y]);const R=d.useMemo(()=>({reference:m,floating:g,setReference:M,setFloating:_}),[M,_]),A=d.useMemo(()=>({reference:w,floating:j}),[w,j]);return d.useMemo(()=>({...l,update:E,refs:R,elements:A,reference:M,floating:_}),[l,E,R,A,M,_])}var HQ=typeof document<"u"?d.useLayoutEffect:d.useEffect;function VQ(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}const WQ=d.createContext(null),UQ=()=>d.useContext(WQ);function GQ(e){return(e==null?void 0:e.ownerDocument)||document}function KQ(e){return GQ(e).defaultView||window}function Wp(e){return e?e instanceof KQ(e).Element:!1}const qQ=xb["useInsertionEffect".toString()],XQ=qQ||(e=>e());function QQ(e){const t=d.useRef(()=>{});return XQ(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function YQ(e){e===void 0&&(e={});const{open:t=!1,onOpenChange:n,nodeId:r}=e,o=BQ(e),s=UQ(),i=d.useRef(null),l=d.useRef({}),c=d.useState(()=>VQ())[0],[p,h]=d.useState(null),m=d.useCallback(S=>{const j=Wp(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),contextElement:S}:S;o.refs.setReference(j)},[o.refs]),g=d.useCallback(S=>{(Wp(S)||S===null)&&(i.current=S,h(S)),(Wp(o.refs.reference.current)||o.refs.reference.current===null||S!==null&&!Wp(S))&&o.refs.setReference(S)},[o.refs]),x=d.useMemo(()=>({...o.refs,setReference:g,setPositionReference:m,domReference:i}),[o.refs,g,m]),y=d.useMemo(()=>({...o.elements,domReference:p}),[o.elements,p]),b=QQ(n),w=d.useMemo(()=>({...o,refs:x,elements:y,dataRef:l,nodeId:r,events:c,open:t,onOpenChange:b}),[o,r,c,t,b,x,y]);return HQ(()=>{const S=s==null?void 0:s.nodesRef.current.find(j=>j.id===r);S&&(S.context=w)}),d.useMemo(()=>({...o,context:w,refs:x,reference:g,positionReference:m}),[o,x,w,g,m])}function ZQ({opened:e,floating:t,position:n,positionDependencies:r}){const[o,s]=d.useState(0);d.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return LQ(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,o,n]),Zo(()=>{t.update()},r),Zo(()=>{s(i=>i+1)},[e])}function JQ(e){const t=[MQ(e.offset)];return e.middlewares.shift&&t.push(OQ({limiter:DQ()})),e.middlewares.flip&&t.push(PQ()),e.middlewares.inline&&t.push(EQ()),t.push(FQ({element:e.arrowRef,padding:e.arrowOffset})),t}function eY(e){const[t,n]=Od({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var i;(i=e.onClose)==null||i.call(e),n(!1)},o=()=>{var i,l;t?((i=e.onClose)==null||i.call(e),n(!1)):((l=e.onOpen)==null||l.call(e),n(!0))},s=YQ({placement:e.position,middleware:[...JQ(e),...e.width==="target"?[RQ({apply({rects:i}){var l,c;Object.assign((c=(l=s.refs.floating.current)==null?void 0:l.style)!=null?c:{},{width:`${i.reference.width}px`})}})]:[]]});return ZQ({opened:e.opened,position:e.position,positionDependencies:e.positionDependencies,floating:s}),Zo(()=>{var i;(i=e.onPositionChange)==null||i.call(e,s.placement)},[s.placement]),Zo(()=>{var i,l;e.opened?(l=e.onOpen)==null||l.call(e):(i=e.onClose)==null||i.call(e)},[e.opened]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:o}}const RE={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported"},[tY,AE]=HG(RE.context);var nY=Object.defineProperty,rY=Object.defineProperties,oY=Object.getOwnPropertyDescriptors,fm=Object.getOwnPropertySymbols,TE=Object.prototype.hasOwnProperty,NE=Object.prototype.propertyIsEnumerable,Ak=(e,t,n)=>t in e?nY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Up=(e,t)=>{for(var n in t||(t={}))TE.call(t,n)&&Ak(e,n,t[n]);if(fm)for(var n of fm(t))NE.call(t,n)&&Ak(e,n,t[n]);return e},sY=(e,t)=>rY(e,oY(t)),aY=(e,t)=>{var n={};for(var r in e)TE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fm)for(var r of fm(e))t.indexOf(r)<0&&NE.call(e,r)&&(n[r]=e[r]);return n};const iY={refProp:"ref",popupType:"dialog"},$E=d.forwardRef((e,t)=>{const n=An("PopoverTarget",iY,e),{children:r,refProp:o,popupType:s}=n,i=aY(n,["children","refProp","popupType"]);if(!d6(r))throw new Error(RE.children);const l=i,c=AE(),p=bf(c.reference,r.ref,t),h=c.withRoles?{"aria-haspopup":s,"aria-expanded":c.opened,"aria-controls":c.getDropdownId(),id:c.getTargetId()}:{};return d.cloneElement(r,Up(sY(Up(Up(Up({},l),h),c.targetProps),{className:p6(c.targetProps.className,l.className,r.props.className),[o]:p}),c.controlled?null:{onClick:c.onToggle}))});$E.displayName="@mantine/core/PopoverTarget";var lY=mr((e,{radius:t,shadow:n})=>({dropdown:{position:"absolute",backgroundColor:e.white,background:e.colorScheme==="dark"?e.colors.dark[6]:e.white,border:`${De(1)} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm} ${e.spacing.md}`,boxShadow:e.shadows[n]||n||"none",borderRadius:e.fn.radius(t),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`${De(1)} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}));const cY=lY;var uY=Object.defineProperty,Tk=Object.getOwnPropertySymbols,dY=Object.prototype.hasOwnProperty,fY=Object.prototype.propertyIsEnumerable,Nk=(e,t,n)=>t in e?uY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rc=(e,t)=>{for(var n in t||(t={}))dY.call(t,n)&&Nk(e,n,t[n]);if(Tk)for(var n of Tk(t))fY.call(t,n)&&Nk(e,n,t[n]);return e};const $k={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function pY({transition:e,state:t,duration:n,timingFunction:r}){const o={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in $p?rc(rc(rc({transitionProperty:$p[e].transitionProperty},o),$p[e].common),$p[e][$k[t]]):null:rc(rc(rc({transitionProperty:e.transitionProperty},o),e.common),e[$k[t]])}function hY({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:o,onExit:s,onEntered:i,onExited:l}){const c=Ma(),p=y6(),h=c.respectReducedMotion?p:!1,[m,g]=d.useState(h?0:e),[x,y]=d.useState(r?"entered":"exited"),b=d.useRef(-1),w=S=>{const j=S?o:s,I=S?i:l;y(S?"pre-entering":"pre-exiting"),window.clearTimeout(b.current);const M=h?0:S?e:t;if(g(M),M===0)typeof j=="function"&&j(),typeof I=="function"&&I(),y(S?"entered":"exited");else{const _=window.setTimeout(()=>{typeof j=="function"&&j(),y(S?"entering":"exiting")},10);b.current=window.setTimeout(()=>{window.clearTimeout(_),typeof I=="function"&&I(),y(S?"entered":"exited")},M)}};return Zo(()=>{w(r)},[r]),d.useEffect(()=>()=>window.clearTimeout(b.current),[]),{transitionDuration:m,transitionStatus:x,transitionTimingFunction:n||c.transitionTimingFunction}}function LE({keepMounted:e,transition:t,duration:n=250,exitDuration:r=n,mounted:o,children:s,timingFunction:i,onExit:l,onEntered:c,onEnter:p,onExited:h}){const{transitionDuration:m,transitionStatus:g,transitionTimingFunction:x}=hY({mounted:o,exitDuration:r,duration:n,timingFunction:i,onExit:l,onEntered:c,onEnter:p,onExited:h});return m===0?o?B.createElement(B.Fragment,null,s({})):e?s({display:"none"}):null:g==="exited"?e?s({display:"none"}):null:B.createElement(B.Fragment,null,s(pY({transition:t,duration:m,state:g,timingFunction:x})))}LE.displayName="@mantine/core/Transition";function zE({children:e,active:t=!0,refProp:n="ref"}){const r=wK(t),o=bf(r,e==null?void 0:e.ref);return d6(e)?d.cloneElement(e,{[n]:o}):e}zE.displayName="@mantine/core/FocusTrap";var mY=Object.defineProperty,gY=Object.defineProperties,vY=Object.getOwnPropertyDescriptors,Lk=Object.getOwnPropertySymbols,xY=Object.prototype.hasOwnProperty,bY=Object.prototype.propertyIsEnumerable,zk=(e,t,n)=>t in e?mY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ka=(e,t)=>{for(var n in t||(t={}))xY.call(t,n)&&zk(e,n,t[n]);if(Lk)for(var n of Lk(t))bY.call(t,n)&&zk(e,n,t[n]);return e},Gp=(e,t)=>gY(e,vY(t));function Fk(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function Bk(e,t,n,r,o){return e==="center"||r==="center"?{left:t}:e==="end"?{[o==="ltr"?"right":"left"]:n}:e==="start"?{[o==="ltr"?"left":"right"]:n}:{}}const yY={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function CY({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:o,arrowX:s,arrowY:i,dir:l}){const[c,p="center"]=e.split("-"),h={width:De(t),height:De(t),transform:"rotate(45deg)",position:"absolute",[yY[c]]:De(r)},m=De(-t/2);return c==="left"?Gp(Ka(Ka({},h),Fk(p,i,n,o)),{right:m,borderLeftColor:"transparent",borderBottomColor:"transparent"}):c==="right"?Gp(Ka(Ka({},h),Fk(p,i,n,o)),{left:m,borderRightColor:"transparent",borderTopColor:"transparent"}):c==="top"?Gp(Ka(Ka({},h),Bk(p,s,n,o,l)),{bottom:m,borderTopColor:"transparent",borderLeftColor:"transparent"}):c==="bottom"?Gp(Ka(Ka({},h),Bk(p,s,n,o,l)),{top:m,borderBottomColor:"transparent",borderRightColor:"transparent"}):{}}var wY=Object.defineProperty,SY=Object.defineProperties,kY=Object.getOwnPropertyDescriptors,pm=Object.getOwnPropertySymbols,FE=Object.prototype.hasOwnProperty,BE=Object.prototype.propertyIsEnumerable,Hk=(e,t,n)=>t in e?wY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jY=(e,t)=>{for(var n in t||(t={}))FE.call(t,n)&&Hk(e,n,t[n]);if(pm)for(var n of pm(t))BE.call(t,n)&&Hk(e,n,t[n]);return e},IY=(e,t)=>SY(e,kY(t)),_Y=(e,t)=>{var n={};for(var r in e)FE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&pm)for(var r of pm(e))t.indexOf(r)<0&&BE.call(e,r)&&(n[r]=e[r]);return n};const HE=d.forwardRef((e,t)=>{var n=e,{position:r,arrowSize:o,arrowOffset:s,arrowRadius:i,arrowPosition:l,visible:c,arrowX:p,arrowY:h}=n,m=_Y(n,["position","arrowSize","arrowOffset","arrowRadius","arrowPosition","visible","arrowX","arrowY"]);const g=Ma();return c?B.createElement("div",IY(jY({},m),{ref:t,style:CY({position:r,arrowSize:o,arrowOffset:s,arrowRadius:i,arrowPosition:l,dir:g.dir,arrowX:p,arrowY:h})})):null});HE.displayName="@mantine/core/FloatingArrow";var PY=Object.defineProperty,EY=Object.defineProperties,MY=Object.getOwnPropertyDescriptors,hm=Object.getOwnPropertySymbols,VE=Object.prototype.hasOwnProperty,WE=Object.prototype.propertyIsEnumerable,Vk=(e,t,n)=>t in e?PY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oc=(e,t)=>{for(var n in t||(t={}))VE.call(t,n)&&Vk(e,n,t[n]);if(hm)for(var n of hm(t))WE.call(t,n)&&Vk(e,n,t[n]);return e},Kp=(e,t)=>EY(e,MY(t)),OY=(e,t)=>{var n={};for(var r in e)VE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hm)for(var r of hm(e))t.indexOf(r)<0&&WE.call(e,r)&&(n[r]=e[r]);return n};const DY={};function UE(e){var t;const n=An("PopoverDropdown",DY,e),{style:r,className:o,children:s,onKeyDownCapture:i}=n,l=OY(n,["style","className","children","onKeyDownCapture"]),c=AE(),{classes:p,cx:h}=cY({radius:c.radius,shadow:c.shadow},{name:c.__staticSelector,classNames:c.classNames,styles:c.styles,unstyled:c.unstyled,variant:c.variant}),m=mK({opened:c.opened,shouldReturnFocus:c.returnFocus}),g=c.withRoles?{"aria-labelledby":c.getTargetId(),id:c.getDropdownId(),role:"dialog"}:{};return c.disabled?null:B.createElement(U6,Kp(oc({},c.portalProps),{withinPortal:c.withinPortal}),B.createElement(LE,Kp(oc({mounted:c.opened},c.transitionProps),{transition:c.transitionProps.transition||"fade",duration:(t=c.transitionProps.duration)!=null?t:150,keepMounted:c.keepMounted,exitDuration:typeof c.transitionProps.exitDuration=="number"?c.transitionProps.exitDuration:c.transitionProps.duration}),x=>{var y,b;return B.createElement(zE,{active:c.trapFocus},B.createElement(Hr,oc(Kp(oc({},g),{tabIndex:-1,ref:c.floating,style:Kp(oc(oc({},r),x),{zIndex:c.zIndex,top:(y=c.y)!=null?y:0,left:(b=c.x)!=null?b:0,width:c.width==="target"?void 0:De(c.width)}),className:h(p.dropdown,o),onKeyDownCapture:WG(c.onClose,{active:c.closeOnEscape,onTrigger:m,onKeyDown:i}),"data-position":c.placement}),l),s,B.createElement(HE,{ref:c.arrowRef,arrowX:c.arrowX,arrowY:c.arrowY,visible:c.withArrow,position:c.placement,arrowSize:c.arrowSize,arrowRadius:c.arrowRadius,arrowOffset:c.arrowOffset,arrowPosition:c.arrowPosition,className:p.arrow})))}))}UE.displayName="@mantine/core/PopoverDropdown";function RY(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),o=n==="right"?"left":"right";return r===void 0?o:`${o}-${r}`}return t}var Wk=Object.getOwnPropertySymbols,AY=Object.prototype.hasOwnProperty,TY=Object.prototype.propertyIsEnumerable,NY=(e,t)=>{var n={};for(var r in e)AY.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Wk)for(var r of Wk(e))t.indexOf(r)<0&&TY.call(e,r)&&(n[r]=e[r]);return n};const $Y={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Py("popover"),__staticSelector:"Popover",width:"max-content"};function fu(e){var t,n,r,o,s,i;const l=d.useRef(null),c=An("Popover",$Y,e),{children:p,position:h,offset:m,onPositionChange:g,positionDependencies:x,opened:y,transitionProps:b,width:w,middlewares:S,withArrow:j,arrowSize:I,arrowOffset:M,arrowRadius:_,arrowPosition:E,unstyled:D,classNames:R,styles:A,closeOnClickOutside:O,withinPortal:T,portalProps:K,closeOnEscape:L,clickOutsideEvents:H,trapFocus:U,onClose:W,onOpen:z,onChange:Q,zIndex:F,radius:X,shadow:Y,id:se,defaultOpened:ae,__staticSelector:oe,withRoles:q,disabled:G,returnFocus:te,variant:ce,keepMounted:J}=c,ie=NY(c,["children","position","offset","onPositionChange","positionDependencies","opened","transitionProps","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","unstyled","classNames","styles","closeOnClickOutside","withinPortal","portalProps","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","__staticSelector","withRoles","disabled","returnFocus","variant","keepMounted"]),[de,me]=d.useState(null),[Ce,ve]=d.useState(null),pe=My(se),Re=Ma(),Pe=eY({middlewares:S,width:w,position:RY(Re.dir,h),offset:typeof m=="number"?m+(j?I/2:0):m,arrowRef:l,arrowOffset:M,onPositionChange:g,positionDependencies:x,opened:y,defaultOpened:ae,onChange:Q,onOpen:z,onClose:W});dK(()=>Pe.opened&&O&&Pe.onClose(),H,[de,Ce]);const Ve=d.useCallback(Ke=>{me(Ke),Pe.floating.reference(Ke)},[Pe.floating.reference]),lt=d.useCallback(Ke=>{ve(Ke),Pe.floating.floating(Ke)},[Pe.floating.floating]);return B.createElement(tY,{value:{returnFocus:te,disabled:G,controlled:Pe.controlled,reference:Ve,floating:lt,x:Pe.floating.x,y:Pe.floating.y,arrowX:(r=(n=(t=Pe.floating)==null?void 0:t.middlewareData)==null?void 0:n.arrow)==null?void 0:r.x,arrowY:(i=(s=(o=Pe.floating)==null?void 0:o.middlewareData)==null?void 0:s.arrow)==null?void 0:i.y,opened:Pe.opened,arrowRef:l,transitionProps:b,width:w,withArrow:j,arrowSize:I,arrowOffset:M,arrowRadius:_,arrowPosition:E,placement:Pe.floating.placement,trapFocus:U,withinPortal:T,portalProps:K,zIndex:F,radius:X,shadow:Y,closeOnEscape:L,onClose:Pe.onClose,onToggle:Pe.onToggle,getTargetId:()=>`${pe}-target`,getDropdownId:()=>`${pe}-dropdown`,withRoles:q,targetProps:ie,__staticSelector:oe,classNames:R,styles:A,unstyled:D,variant:ce,keepMounted:J}},p)}fu.Target=$E;fu.Dropdown=UE;fu.displayName="@mantine/core/Popover";var LY=Object.defineProperty,mm=Object.getOwnPropertySymbols,GE=Object.prototype.hasOwnProperty,KE=Object.prototype.propertyIsEnumerable,Uk=(e,t,n)=>t in e?LY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zY=(e,t)=>{for(var n in t||(t={}))GE.call(t,n)&&Uk(e,n,t[n]);if(mm)for(var n of mm(t))KE.call(t,n)&&Uk(e,n,t[n]);return e},FY=(e,t)=>{var n={};for(var r in e)GE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mm)for(var r of mm(e))t.indexOf(r)<0&&KE.call(e,r)&&(n[r]=e[r]);return n};function BY(e){var t=e,{children:n,component:r="div",maxHeight:o=220,direction:s="column",id:i,innerRef:l,__staticSelector:c,styles:p,classNames:h,unstyled:m}=t,g=FY(t,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:x}=wQ(null,{name:c,styles:p,classNames:h,unstyled:m});return B.createElement(fu.Dropdown,zY({p:0,onMouseDown:y=>y.preventDefault()},g),B.createElement("div",{style:{maxHeight:De(o),display:"flex"}},B.createElement(Hr,{component:r||"div",id:`${i}-items`,"aria-labelledby":`${i}-label`,role:"listbox",onMouseDown:y=>y.preventDefault(),style:{flex:1,overflowY:r!==Ag?"auto":void 0},"data-combobox-popover":!0,tabIndex:-1,ref:l},B.createElement("div",{className:x.itemsWrapper,style:{flexDirection:s}},n))))}function ii({opened:e,transitionProps:t={transition:"fade",duration:0},shadow:n,withinPortal:r,portalProps:o,children:s,__staticSelector:i,onDirectionChange:l,switchDirectionOnFlip:c,zIndex:p,dropdownPosition:h,positionDependencies:m=[],classNames:g,styles:x,unstyled:y,readOnly:b,variant:w}){return B.createElement(fu,{unstyled:y,classNames:g,styles:x,width:"target",withRoles:!1,opened:e,middlewares:{flip:h==="flip",shift:!1},position:h==="flip"?"bottom":h,positionDependencies:m,zIndex:p,__staticSelector:i,withinPortal:r,portalProps:o,transitionProps:t,shadow:n,disabled:b,onPositionChange:S=>c&&(l==null?void 0:l(S==="top"?"column-reverse":"column")),variant:w},s)}ii.Target=fu.Target;ii.Dropdown=BY;var HY=Object.defineProperty,VY=Object.defineProperties,WY=Object.getOwnPropertyDescriptors,gm=Object.getOwnPropertySymbols,qE=Object.prototype.hasOwnProperty,XE=Object.prototype.propertyIsEnumerable,Gk=(e,t,n)=>t in e?HY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qp=(e,t)=>{for(var n in t||(t={}))qE.call(t,n)&&Gk(e,n,t[n]);if(gm)for(var n of gm(t))XE.call(t,n)&&Gk(e,n,t[n]);return e},UY=(e,t)=>VY(e,WY(t)),GY=(e,t)=>{var n={};for(var r in e)qE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&gm)for(var r of gm(e))t.indexOf(r)<0&&XE.call(e,r)&&(n[r]=e[r]);return n};function QE(e,t,n){const r=An(e,t,n),{label:o,description:s,error:i,required:l,classNames:c,styles:p,className:h,unstyled:m,__staticSelector:g,sx:x,errorProps:y,labelProps:b,descriptionProps:w,wrapperProps:S,id:j,size:I,style:M,inputContainer:_,inputWrapperOrder:E,withAsterisk:D,variant:R}=r,A=GY(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk","variant"]),O=My(j),{systemStyles:T,rest:K}=Mg(A),L=qp({label:o,description:s,error:i,required:l,classNames:c,className:h,__staticSelector:g,sx:x,errorProps:y,labelProps:b,descriptionProps:w,unstyled:m,styles:p,id:O,size:I,style:M,inputContainer:_,inputWrapperOrder:E,withAsterisk:D,variant:R},S);return UY(qp({},K),{classNames:c,styles:p,unstyled:m,wrapperProps:qp(qp({},L),T),inputProps:{required:l,classNames:c,styles:p,unstyled:m,id:O,size:I,__staticSelector:g,error:i,variant:R}})}var KY=mr((e,t,{size:n})=>({label:{display:"inline-block",fontSize:mt({size:n,sizes:e.fontSizes}),fontWeight:500,color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}}));const qY=KY;var XY=Object.defineProperty,vm=Object.getOwnPropertySymbols,YE=Object.prototype.hasOwnProperty,ZE=Object.prototype.propertyIsEnumerable,Kk=(e,t,n)=>t in e?XY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QY=(e,t)=>{for(var n in t||(t={}))YE.call(t,n)&&Kk(e,n,t[n]);if(vm)for(var n of vm(t))ZE.call(t,n)&&Kk(e,n,t[n]);return e},YY=(e,t)=>{var n={};for(var r in e)YE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&vm)for(var r of vm(e))t.indexOf(r)<0&&ZE.call(e,r)&&(n[r]=e[r]);return n};const ZY={labelElement:"label",size:"sm"},zy=d.forwardRef((e,t)=>{const n=An("InputLabel",ZY,e),{labelElement:r,children:o,required:s,size:i,classNames:l,styles:c,unstyled:p,className:h,htmlFor:m,__staticSelector:g,variant:x,onMouseDown:y}=n,b=YY(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector","variant","onMouseDown"]),{classes:w,cx:S}=qY(null,{name:["InputWrapper",g],classNames:l,styles:c,unstyled:p,variant:x,size:i});return B.createElement(Hr,QY({component:r,ref:t,className:S(w.label,h),htmlFor:r==="label"?m:void 0,onMouseDown:j=>{y==null||y(j),!j.defaultPrevented&&j.detail>1&&j.preventDefault()}},b),o,s&&B.createElement("span",{className:w.required,"aria-hidden":!0}," *"))});zy.displayName="@mantine/core/InputLabel";var JY=mr((e,t,{size:n})=>({error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:`calc(${mt({size:n,sizes:e.fontSizes})} - ${De(2)})`,lineHeight:1.2,display:"block"}}));const eZ=JY;var tZ=Object.defineProperty,xm=Object.getOwnPropertySymbols,JE=Object.prototype.hasOwnProperty,eM=Object.prototype.propertyIsEnumerable,qk=(e,t,n)=>t in e?tZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nZ=(e,t)=>{for(var n in t||(t={}))JE.call(t,n)&&qk(e,n,t[n]);if(xm)for(var n of xm(t))eM.call(t,n)&&qk(e,n,t[n]);return e},rZ=(e,t)=>{var n={};for(var r in e)JE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xm)for(var r of xm(e))t.indexOf(r)<0&&eM.call(e,r)&&(n[r]=e[r]);return n};const oZ={size:"sm"},Fy=d.forwardRef((e,t)=>{const n=An("InputError",oZ,e),{children:r,className:o,classNames:s,styles:i,unstyled:l,size:c,__staticSelector:p,variant:h}=n,m=rZ(n,["children","className","classNames","styles","unstyled","size","__staticSelector","variant"]),{classes:g,cx:x}=eZ(null,{name:["InputWrapper",p],classNames:s,styles:i,unstyled:l,variant:h,size:c});return B.createElement(Kc,nZ({className:x(g.error,o),ref:t},m),r)});Fy.displayName="@mantine/core/InputError";var sZ=mr((e,t,{size:n})=>({description:{wordBreak:"break-word",color:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6],fontSize:`calc(${mt({size:n,sizes:e.fontSizes})} - ${De(2)})`,lineHeight:1.2,display:"block"}}));const aZ=sZ;var iZ=Object.defineProperty,bm=Object.getOwnPropertySymbols,tM=Object.prototype.hasOwnProperty,nM=Object.prototype.propertyIsEnumerable,Xk=(e,t,n)=>t in e?iZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lZ=(e,t)=>{for(var n in t||(t={}))tM.call(t,n)&&Xk(e,n,t[n]);if(bm)for(var n of bm(t))nM.call(t,n)&&Xk(e,n,t[n]);return e},cZ=(e,t)=>{var n={};for(var r in e)tM.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bm)for(var r of bm(e))t.indexOf(r)<0&&nM.call(e,r)&&(n[r]=e[r]);return n};const uZ={size:"sm"},By=d.forwardRef((e,t)=>{const n=An("InputDescription",uZ,e),{children:r,className:o,classNames:s,styles:i,unstyled:l,size:c,__staticSelector:p,variant:h}=n,m=cZ(n,["children","className","classNames","styles","unstyled","size","__staticSelector","variant"]),{classes:g,cx:x}=aZ(null,{name:["InputWrapper",p],classNames:s,styles:i,unstyled:l,variant:h,size:c});return B.createElement(Kc,lZ({color:"dimmed",className:x(g.description,o),ref:t,unstyled:l},m),r)});By.displayName="@mantine/core/InputDescription";const rM=d.createContext({offsetBottom:!1,offsetTop:!1,describedBy:void 0}),dZ=rM.Provider,fZ=()=>d.useContext(rM);function pZ(e,{hasDescription:t,hasError:n}){const r=e.findIndex(c=>c==="input"),o=e[r-1],s=e[r+1];return{offsetBottom:t&&s==="description"||n&&s==="error",offsetTop:t&&o==="description"||n&&o==="error"}}var hZ=Object.defineProperty,mZ=Object.defineProperties,gZ=Object.getOwnPropertyDescriptors,Qk=Object.getOwnPropertySymbols,vZ=Object.prototype.hasOwnProperty,xZ=Object.prototype.propertyIsEnumerable,Yk=(e,t,n)=>t in e?hZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bZ=(e,t)=>{for(var n in t||(t={}))vZ.call(t,n)&&Yk(e,n,t[n]);if(Qk)for(var n of Qk(t))xZ.call(t,n)&&Yk(e,n,t[n]);return e},yZ=(e,t)=>mZ(e,gZ(t)),CZ=mr(e=>({root:yZ(bZ({},e.fn.fontStyles()),{lineHeight:e.lineHeight})}));const wZ=CZ;var SZ=Object.defineProperty,kZ=Object.defineProperties,jZ=Object.getOwnPropertyDescriptors,ym=Object.getOwnPropertySymbols,oM=Object.prototype.hasOwnProperty,sM=Object.prototype.propertyIsEnumerable,Zk=(e,t,n)=>t in e?SZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qa=(e,t)=>{for(var n in t||(t={}))oM.call(t,n)&&Zk(e,n,t[n]);if(ym)for(var n of ym(t))sM.call(t,n)&&Zk(e,n,t[n]);return e},Jk=(e,t)=>kZ(e,jZ(t)),IZ=(e,t)=>{var n={};for(var r in e)oM.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ym)for(var r of ym(e))t.indexOf(r)<0&&sM.call(e,r)&&(n[r]=e[r]);return n};const _Z={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},aM=d.forwardRef((e,t)=>{const n=An("InputWrapper",_Z,e),{className:r,label:o,children:s,required:i,id:l,error:c,description:p,labelElement:h,labelProps:m,descriptionProps:g,errorProps:x,classNames:y,styles:b,size:w,inputContainer:S,__staticSelector:j,unstyled:I,inputWrapperOrder:M,withAsterisk:_,variant:E}=n,D=IZ(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk","variant"]),{classes:R,cx:A}=wZ(null,{classNames:y,styles:b,name:["InputWrapper",j],unstyled:I,variant:E,size:w}),O={classNames:y,styles:b,unstyled:I,size:w,variant:E,__staticSelector:j},T=typeof _=="boolean"?_:i,K=l?`${l}-error`:x==null?void 0:x.id,L=l?`${l}-description`:g==null?void 0:g.id,U=`${!!c&&typeof c!="boolean"?K:""} ${p?L:""}`,W=U.trim().length>0?U.trim():void 0,z=o&&B.createElement(zy,qa(qa({key:"label",labelElement:h,id:l?`${l}-label`:void 0,htmlFor:l,required:T},O),m),o),Q=p&&B.createElement(By,Jk(qa(qa({key:"description"},g),O),{size:(g==null?void 0:g.size)||O.size,id:(g==null?void 0:g.id)||L}),p),F=B.createElement(d.Fragment,{key:"input"},S(s)),X=typeof c!="boolean"&&c&&B.createElement(Fy,Jk(qa(qa({},x),O),{size:(x==null?void 0:x.size)||O.size,key:"error",id:(x==null?void 0:x.id)||K}),c),Y=M.map(se=>{switch(se){case"label":return z;case"input":return F;case"description":return Q;case"error":return X;default:return null}});return B.createElement(dZ,{value:qa({describedBy:W},pZ(M,{hasDescription:!!Q,hasError:!!X}))},B.createElement(Hr,qa({className:A(R.root,r),ref:t},D),Y))});aM.displayName="@mantine/core/InputWrapper";var PZ=Object.defineProperty,Cm=Object.getOwnPropertySymbols,iM=Object.prototype.hasOwnProperty,lM=Object.prototype.propertyIsEnumerable,ej=(e,t,n)=>t in e?PZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EZ=(e,t)=>{for(var n in t||(t={}))iM.call(t,n)&&ej(e,n,t[n]);if(Cm)for(var n of Cm(t))lM.call(t,n)&&ej(e,n,t[n]);return e},MZ=(e,t)=>{var n={};for(var r in e)iM.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Cm)for(var r of Cm(e))t.indexOf(r)<0&&lM.call(e,r)&&(n[r]=e[r]);return n};const OZ={},cM=d.forwardRef((e,t)=>{const n=An("InputPlaceholder",OZ,e),{sx:r}=n,o=MZ(n,["sx"]);return B.createElement(Hr,EZ({component:"span",sx:[s=>s.fn.placeholderStyles(),...c6(r)],ref:t},o))});cM.displayName="@mantine/core/InputPlaceholder";var DZ=Object.defineProperty,RZ=Object.defineProperties,AZ=Object.getOwnPropertyDescriptors,tj=Object.getOwnPropertySymbols,TZ=Object.prototype.hasOwnProperty,NZ=Object.prototype.propertyIsEnumerable,nj=(e,t,n)=>t in e?DZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xp=(e,t)=>{for(var n in t||(t={}))TZ.call(t,n)&&nj(e,n,t[n]);if(tj)for(var n of tj(t))NZ.call(t,n)&&nj(e,n,t[n]);return e},o1=(e,t)=>RZ(e,AZ(t));const bo={xs:De(30),sm:De(36),md:De(42),lg:De(50),xl:De(60)},$Z=["default","filled","unstyled"];function LZ({theme:e,variant:t}){return $Z.includes(t)?t==="default"?{border:`${De(1)} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:t==="filled"?{border:`${De(1)} solid transparent`,backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":e.focusRingStyles.inputStyles(e)}:{borderWidth:0,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:De(28),outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}:null}var zZ=mr((e,{multiline:t,radius:n,invalid:r,rightSectionWidth:o,withRightSection:s,iconWidth:i,offsetBottom:l,offsetTop:c,pointer:p},{variant:h,size:m})=>{const g=e.fn.variant({variant:"filled",color:"red"}).background,x=h==="default"||h==="filled"?{minHeight:mt({size:m,sizes:bo}),paddingLeft:`calc(${mt({size:m,sizes:bo})}  / 3)`,paddingRight:s?o||mt({size:m,sizes:bo}):`calc(${mt({size:m,sizes:bo})}  / 3)`,borderRadius:e.fn.radius(n)}:h==="unstyled"&&s?{paddingRight:o||mt({size:m,sizes:bo})}:null;return{wrapper:{position:"relative",marginTop:c?`calc(${e.spacing.xs} / 2)`:void 0,marginBottom:l?`calc(${e.spacing.xs} / 2)`:void 0,"&:has(input:disabled)":{"& .mantine-Input-rightSection":{display:"none"}}},input:o1(Xp(Xp(o1(Xp({},e.fn.fontStyles()),{height:t?h==="unstyled"?void 0:"auto":mt({size:m,sizes:bo}),WebkitTapHighlightColor:"transparent",lineHeight:t?e.lineHeight:`calc(${mt({size:m,sizes:bo})} - ${De(2)})`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:mt({size:m,sizes:e.fontSizes}),width:"100%",color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:p?"pointer":void 0}),LZ({theme:e,variant:h})),x),{"&:disabled, &[data-disabled]":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed",pointerEvents:"none","&::placeholder":{color:e.colors.dark[2]}},"&[data-invalid]":{color:g,borderColor:g,"&::placeholder":{opacity:1,color:g}},"&[data-with-icon]":{paddingLeft:typeof i=="number"?De(i):mt({size:m,sizes:bo})},"&::placeholder":o1(Xp({},e.fn.placeholderStyles()),{opacity:1}),"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:i?De(i):mt({size:m,sizes:bo}),color:r?e.colors.red[e.colorScheme==="dark"?6:7]:e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:o||mt({size:m,sizes:bo})}}});const FZ=zZ;var BZ=Object.defineProperty,HZ=Object.defineProperties,VZ=Object.getOwnPropertyDescriptors,wm=Object.getOwnPropertySymbols,uM=Object.prototype.hasOwnProperty,dM=Object.prototype.propertyIsEnumerable,rj=(e,t,n)=>t in e?BZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qp=(e,t)=>{for(var n in t||(t={}))uM.call(t,n)&&rj(e,n,t[n]);if(wm)for(var n of wm(t))dM.call(t,n)&&rj(e,n,t[n]);return e},oj=(e,t)=>HZ(e,VZ(t)),WZ=(e,t)=>{var n={};for(var r in e)uM.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&wm)for(var r of wm(e))t.indexOf(r)<0&&dM.call(e,r)&&(n[r]=e[r]);return n};const UZ={size:"sm",variant:"default"},Il=d.forwardRef((e,t)=>{const n=An("Input",UZ,e),{className:r,error:o,required:s,disabled:i,variant:l,icon:c,style:p,rightSectionWidth:h,iconWidth:m,rightSection:g,rightSectionProps:x,radius:y,size:b,wrapperProps:w,classNames:S,styles:j,__staticSelector:I,multiline:M,sx:_,unstyled:E,pointer:D}=n,R=WZ(n,["className","error","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:A,offsetTop:O,describedBy:T}=fZ(),{classes:K,cx:L}=FZ({radius:y,multiline:M,invalid:!!o,rightSectionWidth:h?De(h):void 0,iconWidth:m,withRightSection:!!g,offsetBottom:A,offsetTop:O,pointer:D},{classNames:S,styles:j,name:["Input",I],unstyled:E,variant:l,size:b}),{systemStyles:H,rest:U}=Mg(R);return B.createElement(Hr,Qp(Qp({className:L(K.wrapper,r),sx:_,style:p},H),w),c&&B.createElement("div",{className:K.icon},c),B.createElement(Hr,oj(Qp({component:"input"},U),{ref:t,required:s,"aria-invalid":!!o,"aria-describedby":T,disabled:i,"data-disabled":i||void 0,"data-with-icon":!!c||void 0,"data-invalid":!!o||void 0,className:K.input})),g&&B.createElement("div",oj(Qp({},x),{className:K.rightSection}),g))});Il.displayName="@mantine/core/Input";Il.Wrapper=aM;Il.Label=zy;Il.Description=By;Il.Error=Fy;Il.Placeholder=cM;const Yc=Il;var GZ=Object.defineProperty,Sm=Object.getOwnPropertySymbols,fM=Object.prototype.hasOwnProperty,pM=Object.prototype.propertyIsEnumerable,sj=(e,t,n)=>t in e?GZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aj=(e,t)=>{for(var n in t||(t={}))fM.call(t,n)&&sj(e,n,t[n]);if(Sm)for(var n of Sm(t))pM.call(t,n)&&sj(e,n,t[n]);return e},KZ=(e,t)=>{var n={};for(var r in e)fM.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Sm)for(var r of Sm(e))t.indexOf(r)<0&&pM.call(e,r)&&(n[r]=e[r]);return n};const qZ={multiple:!1},hM=d.forwardRef((e,t)=>{const n=An("FileButton",qZ,e),{onChange:r,children:o,multiple:s,accept:i,name:l,form:c,resetRef:p,disabled:h,capture:m,inputProps:g}=n,x=KZ(n,["onChange","children","multiple","accept","name","form","resetRef","disabled","capture","inputProps"]),y=d.useRef(),b=()=>{!h&&y.current.click()},w=j=>{r(s?Array.from(j.currentTarget.files):j.currentTarget.files[0]||null)};return b6(p,()=>{y.current.value=""}),B.createElement(B.Fragment,null,o(aj({onClick:b},x)),B.createElement("input",aj({style:{display:"none"},type:"file",accept:i,multiple:s,onChange:w,ref:bf(t,y),name:l,form:c,capture:m},g)))});hM.displayName="@mantine/core/FileButton";const mM={xs:De(16),sm:De(22),md:De(26),lg:De(30),xl:De(36)},XZ={xs:De(10),sm:De(12),md:De(14),lg:De(16),xl:De(18)};var QZ=mr((e,{disabled:t,radius:n,readOnly:r},{size:o,variant:s})=>({defaultValue:{display:"flex",alignItems:"center",backgroundColor:t?e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3]:e.colorScheme==="dark"?e.colors.dark[7]:s==="filled"?e.white:e.colors.gray[1],color:t?e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],height:mt({size:o,sizes:mM}),paddingLeft:`calc(${mt({size:o,sizes:e.spacing})} / 1.5)`,paddingRight:t||r?mt({size:o,sizes:e.spacing}):0,fontWeight:500,fontSize:mt({size:o,sizes:XZ}),borderRadius:mt({size:n,sizes:e.radius}),cursor:t?"not-allowed":"default",userSelect:"none",maxWidth:`calc(100% - ${De(10)})`},defaultValueRemove:{color:e.colorScheme==="dark"?e.colors.dark[0]:e.colors.gray[7],marginLeft:`calc(${mt({size:o,sizes:e.spacing})} / 6)`},defaultValueLabel:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}));const YZ=QZ;var ZZ=Object.defineProperty,km=Object.getOwnPropertySymbols,gM=Object.prototype.hasOwnProperty,vM=Object.prototype.propertyIsEnumerable,ij=(e,t,n)=>t in e?ZZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JZ=(e,t)=>{for(var n in t||(t={}))gM.call(t,n)&&ij(e,n,t[n]);if(km)for(var n of km(t))vM.call(t,n)&&ij(e,n,t[n]);return e},eJ=(e,t)=>{var n={};for(var r in e)gM.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&km)for(var r of km(e))t.indexOf(r)<0&&vM.call(e,r)&&(n[r]=e[r]);return n};const tJ={xs:16,sm:22,md:24,lg:26,xl:30};function xM(e){var t=e,{label:n,classNames:r,styles:o,className:s,onRemove:i,disabled:l,readOnly:c,size:p,radius:h="sm",variant:m,unstyled:g}=t,x=eJ(t,["label","classNames","styles","className","onRemove","disabled","readOnly","size","radius","variant","unstyled"]);const{classes:y,cx:b}=YZ({disabled:l,readOnly:c,radius:h},{name:"MultiSelect",classNames:r,styles:o,unstyled:g,size:p,variant:m});return B.createElement("div",JZ({className:b(y.defaultValue,s)},x),B.createElement("span",{className:y.defaultValueLabel},n),!l&&!c&&B.createElement(Z6,{"aria-hidden":!0,onMouseDown:i,size:tJ[p],radius:2,color:"blue",variant:"transparent",iconSize:"70%",className:y.defaultValueRemove,tabIndex:-1,unstyled:g}))}xM.displayName="@mantine/core/MultiSelect/DefaultValue";function nJ({data:e,searchable:t,limit:n,searchValue:r,filter:o,value:s,disableSelectedItemFiltering:i}){if(!t&&s.length===0)return e;if(!t){const c=[];for(let p=0;p<e.length;p+=1)(i||!s.some(h=>h===e[p].value&&!e[p].disabled))&&c.push(e[p]);return c}const l=[];for(let c=0;c<e.length&&(o(r,!i&&s.some(p=>p===e[c].value&&!e[c].disabled),e[c])&&l.push(e[c]),!(l.length>=n));c+=1);return l}var rJ=Object.defineProperty,jm=Object.getOwnPropertySymbols,bM=Object.prototype.hasOwnProperty,yM=Object.prototype.propertyIsEnumerable,lj=(e,t,n)=>t in e?rJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cj=(e,t)=>{for(var n in t||(t={}))bM.call(t,n)&&lj(e,n,t[n]);if(jm)for(var n of jm(t))yM.call(t,n)&&lj(e,n,t[n]);return e},oJ=(e,t)=>{var n={};for(var r in e)bM.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jm)for(var r of jm(e))t.indexOf(r)<0&&yM.call(e,r)&&(n[r]=e[r]);return n};const sJ={xs:De(14),sm:De(18),md:De(20),lg:De(24),xl:De(28)};function aJ(e){var t=e,{size:n,error:r,style:o}=t,s=oJ(t,["size","error","style"]);const i=Ma(),l=mt({size:n,sizes:sJ});return B.createElement("svg",cj({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:cj({color:r?i.colors.red[6]:i.colors.gray[6],width:l,height:l},o),"data-chevron":!0},s),B.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var iJ=Object.defineProperty,lJ=Object.defineProperties,cJ=Object.getOwnPropertyDescriptors,uj=Object.getOwnPropertySymbols,uJ=Object.prototype.hasOwnProperty,dJ=Object.prototype.propertyIsEnumerable,dj=(e,t,n)=>t in e?iJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fJ=(e,t)=>{for(var n in t||(t={}))uJ.call(t,n)&&dj(e,n,t[n]);if(uj)for(var n of uj(t))dJ.call(t,n)&&dj(e,n,t[n]);return e},pJ=(e,t)=>lJ(e,cJ(t));function CM({shouldClear:e,clearButtonProps:t,onClear:n,size:r,error:o}){return e?B.createElement(Z6,pJ(fJ({},t),{variant:"transparent",onClick:n,size:r,onMouseDown:s=>s.preventDefault()})):B.createElement(aJ,{error:o,size:r})}CM.displayName="@mantine/core/SelectRightSection";var hJ=Object.defineProperty,mJ=Object.defineProperties,gJ=Object.getOwnPropertyDescriptors,Im=Object.getOwnPropertySymbols,wM=Object.prototype.hasOwnProperty,SM=Object.prototype.propertyIsEnumerable,fj=(e,t,n)=>t in e?hJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s1=(e,t)=>{for(var n in t||(t={}))wM.call(t,n)&&fj(e,n,t[n]);if(Im)for(var n of Im(t))SM.call(t,n)&&fj(e,n,t[n]);return e},pj=(e,t)=>mJ(e,gJ(t)),vJ=(e,t)=>{var n={};for(var r in e)wM.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Im)for(var r of Im(e))t.indexOf(r)<0&&SM.call(e,r)&&(n[r]=e[r]);return n};function kM(e){var t=e,{styles:n,rightSection:r,rightSectionWidth:o,theme:s}=t,i=vJ(t,["styles","rightSection","rightSectionWidth","theme"]);if(r)return{rightSection:r,rightSectionWidth:o,styles:n};const l=typeof n=="function"?n(s):n;return{rightSection:!i.readOnly&&!(i.disabled&&i.shouldClear)&&B.createElement(CM,s1({},i)),styles:pj(s1({},l),{rightSection:pj(s1({},l==null?void 0:l.rightSection),{pointerEvents:i.shouldClear?void 0:"none"})})}}var xJ=Object.defineProperty,bJ=Object.defineProperties,yJ=Object.getOwnPropertyDescriptors,hj=Object.getOwnPropertySymbols,CJ=Object.prototype.hasOwnProperty,wJ=Object.prototype.propertyIsEnumerable,mj=(e,t,n)=>t in e?xJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SJ=(e,t)=>{for(var n in t||(t={}))CJ.call(t,n)&&mj(e,n,t[n]);if(hj)for(var n of hj(t))wJ.call(t,n)&&mj(e,n,t[n]);return e},kJ=(e,t)=>bJ(e,yJ(t)),jJ=mr((e,{invalid:t},{size:n})=>({wrapper:{position:"relative","&:has(input:disabled)":{cursor:"not-allowed",pointerEvents:"none","& .mantine-MultiSelect-input":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,"&::placeholder":{color:e.colors.dark[2]}},"& .mantine-MultiSelect-defaultValue":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[3],color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7]}}},values:{minHeight:`calc(${mt({size:n,sizes:bo})} - ${De(2)})`,display:"flex",alignItems:"center",flexWrap:"wrap",marginLeft:`calc(-${e.spacing.xs} / 2)`,boxSizing:"border-box","&[data-clearable]":{marginRight:mt({size:n,sizes:bo})}},value:{margin:`calc(${e.spacing.xs} / 2 - ${De(2)}) calc(${e.spacing.xs} / 2)`},searchInput:kJ(SJ({},e.fn.fontStyles()),{flex:1,minWidth:De(60),backgroundColor:"transparent",border:0,outline:0,fontSize:mt({size:n,sizes:e.fontSizes}),padding:0,marginLeft:`calc(${e.spacing.xs} / 2)`,appearance:"none",color:"inherit",maxHeight:mt({size:n,sizes:mM}),"&::placeholder":{opacity:1,color:t?e.colors.red[e.fn.primaryShade()]:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]},"&:disabled":{cursor:"not-allowed",pointerEvents:"none"}}),searchInputEmpty:{width:"100%"},searchInputInputHidden:{flex:0,width:0,minWidth:0,margin:0,overflow:"hidden"},searchInputPointer:{cursor:"pointer","&:disabled":{cursor:"not-allowed",pointerEvents:"none"}},input:{cursor:"pointer","&:disabled":{cursor:"not-allowed",pointerEvents:"none"}}}));const IJ=jJ;var _J=Object.defineProperty,PJ=Object.defineProperties,EJ=Object.getOwnPropertyDescriptors,_m=Object.getOwnPropertySymbols,jM=Object.prototype.hasOwnProperty,IM=Object.prototype.propertyIsEnumerable,gj=(e,t,n)=>t in e?_J(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sc=(e,t)=>{for(var n in t||(t={}))jM.call(t,n)&&gj(e,n,t[n]);if(_m)for(var n of _m(t))IM.call(t,n)&&gj(e,n,t[n]);return e},vj=(e,t)=>PJ(e,EJ(t)),MJ=(e,t)=>{var n={};for(var r in e)jM.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&_m)for(var r of _m(e))t.indexOf(r)<0&&IM.call(e,r)&&(n[r]=e[r]);return n};function OJ(e,t,n){return t?!1:n.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function DJ(e,t){return!!e&&!t.some(n=>n.value.toLowerCase()===e.toLowerCase())}function xj(e,t){if(!Array.isArray(e))return;if(t.length===0)return[];const n=t.map(r=>typeof r=="object"?r.value:r);return e.filter(r=>n.includes(r))}const RJ={size:"sm",valueComponent:xM,itemComponent:Dy,transitionProps:{transition:"fade",duration:0},maxDropdownHeight:220,shadow:"sm",searchable:!1,filter:OJ,limit:1/0,clearSearchOnChange:!0,clearable:!1,clearSearchOnBlur:!1,disabled:!1,initiallyOpened:!1,creatable:!1,shouldCreate:DJ,switchDirectionOnFlip:!1,zIndex:Py("popover"),selectOnBlur:!1,positionDependencies:[],dropdownPosition:"flip"},_M=d.forwardRef((e,t)=>{const n=An("MultiSelect",RJ,e),{className:r,style:o,required:s,label:i,description:l,size:c,error:p,classNames:h,styles:m,wrapperProps:g,value:x,defaultValue:y,data:b,onChange:w,valueComponent:S,itemComponent:j,id:I,transitionProps:M,maxDropdownHeight:_,shadow:E,nothingFound:D,onFocus:R,onBlur:A,searchable:O,placeholder:T,filter:K,limit:L,clearSearchOnChange:H,clearable:U,clearSearchOnBlur:W,variant:z,onSearchChange:Q,searchValue:F,disabled:X,initiallyOpened:Y,radius:se,icon:ae,rightSection:oe,rightSectionWidth:q,creatable:G,getCreateLabel:te,shouldCreate:ce,onCreate:J,sx:ie,dropdownComponent:de,onDropdownClose:me,onDropdownOpen:Ce,maxSelectedValues:ve,withinPortal:pe,portalProps:Re,switchDirectionOnFlip:Pe,zIndex:Ve,selectOnBlur:lt,name:Ke,dropdownPosition:Et,errorProps:et,labelProps:ot,descriptionProps:ye,form:Ae,positionDependencies:dt,onKeyDown:yt,unstyled:be,inputContainer:tt,inputWrapperOrder:ct,readOnly:pt,withAsterisk:Oe,clearButtonProps:$e,hoverOnSearchChange:Wt,disableSelectedItemFiltering:ke}=n,Fe=MJ(n,["className","style","required","label","description","size","error","classNames","styles","wrapperProps","value","defaultValue","data","onChange","valueComponent","itemComponent","id","transitionProps","maxDropdownHeight","shadow","nothingFound","onFocus","onBlur","searchable","placeholder","filter","limit","clearSearchOnChange","clearable","clearSearchOnBlur","variant","onSearchChange","searchValue","disabled","initiallyOpened","radius","icon","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","onCreate","sx","dropdownComponent","onDropdownClose","onDropdownOpen","maxSelectedValues","withinPortal","portalProps","switchDirectionOnFlip","zIndex","selectOnBlur","name","dropdownPosition","errorProps","labelProps","descriptionProps","form","positionDependencies","onKeyDown","unstyled","inputContainer","inputWrapperOrder","readOnly","withAsterisk","clearButtonProps","hoverOnSearchChange","disableSelectedItemFiltering"]),{classes:Le,cx:Ge,theme:ht}=IJ({invalid:!!p},{name:"MultiSelect",classNames:h,styles:m,unstyled:be,size:c,variant:z}),{systemStyles:Mn,rest:At}=Mg(Fe),Tt=d.useRef(),gr=d.useRef({}),Fn=My(I),[In,xn]=d.useState(Y),[ln,Ir]=d.useState(-1),[$o,vr]=d.useState("column"),[xr,Ks]=Od({value:F,defaultValue:"",finalValue:void 0,onChange:Q}),[qs,Aa]=d.useState(!1),{scrollIntoView:Ta,targetRef:Al,scrollableRef:Na}=C6({duration:0,offset:5,cancelable:!1,isList:!0}),Tl=G&&typeof te=="function";let Ye=null;const Ut=b.map(rt=>typeof rt=="string"?{label:rt,value:rt}:rt),Bn=u6({data:Ut}),[kt,$a]=Od({value:xj(x,b),defaultValue:xj(y,b),finalValue:[],onChange:w}),Gr=d.useRef(!!ve&&ve<kt.length),Df=rt=>{if(!pt){const Ot=kt.filter(jt=>jt!==rt);$a(Ot),ve&&Ot.length<ve&&(Gr.current=!1)}},m0=rt=>{Ks(rt.currentTarget.value),!X&&!Gr.current&&O&&xn(!0)},g0=rt=>{typeof R=="function"&&R(rt),!X&&!Gr.current&&O&&xn(!0)},Hn=nJ({data:Bn,searchable:O,searchValue:xr,limit:L,filter:K,value:kt,disableSelectedItemFiltering:ke});Tl&&ce(xr,Bn)&&(Ye=te(xr),Hn.push({label:xr,value:xr,creatable:!0}));const Xs=Math.min(ln,Hn.length-1),Rf=(rt,Ot,jt)=>{let Dt=rt;for(;jt(Dt);)if(Dt=Ot(Dt),!Hn[Dt].disabled)return Dt;return rt};Zo(()=>{Ir(Wt&&xr?0:-1)},[xr,Wt]),Zo(()=>{!X&&kt.length>b.length&&xn(!1),ve&&kt.length<ve&&(Gr.current=!1),ve&&kt.length>=ve&&(Gr.current=!0,xn(!1))},[kt]);const Nl=rt=>{if(!pt)if(H&&Ks(""),kt.includes(rt.value))Df(rt.value);else{if(rt.creatable&&typeof J=="function"){const Ot=J(rt.value);typeof Ot<"u"&&Ot!==null&&$a(typeof Ot=="string"?[...kt,Ot]:[...kt,Ot.value])}else $a([...kt,rt.value]);kt.length===ve-1&&(Gr.current=!0,xn(!1)),Hn.length===1&&xn(!1)}},wu=rt=>{typeof A=="function"&&A(rt),lt&&Hn[Xs]&&In&&Nl(Hn[Xs]),W&&Ks(""),xn(!1)},Ei=rt=>{if(qs||(yt==null||yt(rt),pt)||rt.key!=="Backspace"&&ve&&Gr.current)return;const Ot=$o==="column",jt=()=>{Ir(or=>{var on;const Tn=Rf(or,br=>br+1,br=>br<Hn.length-1);return In&&(Al.current=gr.current[(on=Hn[Tn])==null?void 0:on.value],Ta({alignment:Ot?"end":"start"})),Tn})},Dt=()=>{Ir(or=>{var on;const Tn=Rf(or,br=>br-1,br=>br>0);return In&&(Al.current=gr.current[(on=Hn[Tn])==null?void 0:on.value],Ta({alignment:Ot?"start":"end"})),Tn})};switch(rt.key){case"ArrowUp":{rt.preventDefault(),xn(!0),Ot?Dt():jt();break}case"ArrowDown":{rt.preventDefault(),xn(!0),Ot?jt():Dt();break}case"Enter":{rt.preventDefault(),Hn[Xs]&&In?Nl(Hn[Xs]):xn(!0);break}case" ":{O||(rt.preventDefault(),Hn[Xs]&&In?Nl(Hn[Xs]):xn(!0));break}case"Backspace":{kt.length>0&&xr.length===0&&($a(kt.slice(0,-1)),xn(!0),ve&&(Gr.current=!1));break}case"Home":{if(!O){rt.preventDefault(),In||xn(!0);const or=Hn.findIndex(on=>!on.disabled);Ir(or),Ta({alignment:Ot?"end":"start"})}break}case"End":{if(!O){rt.preventDefault(),In||xn(!0);const or=Hn.map(on=>!!on.disabled).lastIndexOf(!1);Ir(or),Ta({alignment:Ot?"end":"start"})}break}case"Escape":xn(!1)}},Su=kt.map(rt=>{let Ot=Bn.find(jt=>jt.value===rt&&!jt.disabled);return!Ot&&Tl&&(Ot={value:rt,label:rt}),Ot}).filter(rt=>!!rt).map((rt,Ot)=>B.createElement(S,vj(sc({},rt),{variant:z,disabled:X,className:Le.value,readOnly:pt,onRemove:jt=>{jt.preventDefault(),jt.stopPropagation(),Df(rt.value)},key:rt.value,size:c,styles:m,classNames:h,radius:se,index:Ot}))),ku=rt=>kt.includes(rt),v0=()=>{var rt;Ks(""),$a([]),(rt=Tt.current)==null||rt.focus(),ve&&(Gr.current=!1)},La=!pt&&(Hn.length>0?In:In&&!!D);return Zo(()=>{const rt=La?Ce:me;typeof rt=="function"&&rt()},[La]),B.createElement(Yc.Wrapper,sc(sc({required:s,id:Fn,label:i,error:p,description:l,size:c,className:r,style:o,classNames:h,styles:m,__staticSelector:"MultiSelect",sx:ie,errorProps:et,descriptionProps:ye,labelProps:ot,inputContainer:tt,inputWrapperOrder:ct,unstyled:be,withAsterisk:Oe,variant:z},Mn),g),B.createElement(ii,{opened:La,transitionProps:M,shadow:"sm",withinPortal:pe,portalProps:Re,__staticSelector:"MultiSelect",onDirectionChange:vr,switchDirectionOnFlip:Pe,zIndex:Ve,dropdownPosition:Et,positionDependencies:[...dt,xr],classNames:h,styles:m,unstyled:be,variant:z},B.createElement(ii.Target,null,B.createElement("div",{className:Le.wrapper,role:"combobox","aria-haspopup":"listbox","aria-owns":In&&La?`${Fn}-items`:null,"aria-controls":Fn,"aria-expanded":In,onMouseLeave:()=>Ir(-1),tabIndex:-1},B.createElement("input",{type:"hidden",name:Ke,value:kt.join(","),form:Ae,disabled:X}),B.createElement(Yc,sc({__staticSelector:"MultiSelect",style:{overflow:"hidden"},component:"div",multiline:!0,size:c,variant:z,disabled:X,error:p,required:s,radius:se,icon:ae,unstyled:be,onMouseDown:rt=>{var Ot;rt.preventDefault(),!X&&!Gr.current&&xn(!In),(Ot=Tt.current)==null||Ot.focus()},classNames:vj(sc({},h),{input:Ge({[Le.input]:!O},h==null?void 0:h.input)})},kM({theme:ht,rightSection:oe,rightSectionWidth:q,styles:m,size:c,shouldClear:U&&kt.length>0,onClear:v0,error:p,disabled:X,clearButtonProps:$e,readOnly:pt})),B.createElement("div",{className:Le.values,"data-clearable":U||void 0},Su,B.createElement("input",sc({ref:bf(t,Tt),type:"search",id:Fn,className:Ge(Le.searchInput,{[Le.searchInputPointer]:!O,[Le.searchInputInputHidden]:!In&&kt.length>0||!O&&kt.length>0,[Le.searchInputEmpty]:kt.length===0}),onKeyDown:Ei,value:xr,onChange:m0,onFocus:g0,onBlur:wu,readOnly:!O||Gr.current||pt,placeholder:kt.length===0?T:void 0,disabled:X,"data-mantine-stop-propagation":In,autoComplete:"off",onCompositionStart:()=>Aa(!0),onCompositionEnd:()=>Aa(!1)},At)))))),B.createElement(ii.Dropdown,{component:de||Ag,maxHeight:_,direction:$o,id:Fn,innerRef:Na,__staticSelector:"MultiSelect",classNames:h,styles:m},B.createElement(Oy,{data:Hn,hovered:Xs,classNames:h,styles:m,uuid:Fn,__staticSelector:"MultiSelect",onItemHover:Ir,onItemSelect:Nl,itemsRefs:gr,itemComponent:j,size:c,nothingFound:D,isItemSelected:ku,creatable:G&&!!Ye,createLabel:Ye,unstyled:be,variant:z}))))});_M.displayName="@mantine/core/MultiSelect";var AJ=Object.defineProperty,TJ=Object.defineProperties,NJ=Object.getOwnPropertyDescriptors,Pm=Object.getOwnPropertySymbols,PM=Object.prototype.hasOwnProperty,EM=Object.prototype.propertyIsEnumerable,bj=(e,t,n)=>t in e?AJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,a1=(e,t)=>{for(var n in t||(t={}))PM.call(t,n)&&bj(e,n,t[n]);if(Pm)for(var n of Pm(t))EM.call(t,n)&&bj(e,n,t[n]);return e},$J=(e,t)=>TJ(e,NJ(t)),LJ=(e,t)=>{var n={};for(var r in e)PM.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Pm)for(var r of Pm(e))t.indexOf(r)<0&&EM.call(e,r)&&(n[r]=e[r]);return n};const zJ={type:"text",size:"sm",__staticSelector:"TextInput"},MM=d.forwardRef((e,t)=>{const n=QE("TextInput",zJ,e),{inputProps:r,wrapperProps:o}=n,s=LJ(n,["inputProps","wrapperProps"]);return B.createElement(Yc.Wrapper,a1({},o),B.createElement(Yc,$J(a1(a1({},r),s),{ref:t})))});MM.displayName="@mantine/core/TextInput";function FJ({data:e,searchable:t,limit:n,searchValue:r,filter:o,value:s,filterDataOnExactSearchMatch:i}){if(!t)return e;const l=s!=null&&e.find(p=>p.value===s)||null;if(l&&!i&&(l==null?void 0:l.label)===r){if(n){if(n>=e.length)return e;const p=e.indexOf(l),h=p+n,m=h-e.length;return m>0?e.slice(p-m):e.slice(p,h)}return e}const c=[];for(let p=0;p<e.length&&(o(r,e[p])&&c.push(e[p]),!(c.length>=n));p+=1);return c}var BJ=mr(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}}));const HJ=BJ;var VJ=Object.defineProperty,WJ=Object.defineProperties,UJ=Object.getOwnPropertyDescriptors,Em=Object.getOwnPropertySymbols,OM=Object.prototype.hasOwnProperty,DM=Object.prototype.propertyIsEnumerable,yj=(e,t,n)=>t in e?VJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qu=(e,t)=>{for(var n in t||(t={}))OM.call(t,n)&&yj(e,n,t[n]);if(Em)for(var n of Em(t))DM.call(t,n)&&yj(e,n,t[n]);return e},i1=(e,t)=>WJ(e,UJ(t)),GJ=(e,t)=>{var n={};for(var r in e)OM.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Em)for(var r of Em(e))t.indexOf(r)<0&&DM.call(e,r)&&(n[r]=e[r]);return n};function KJ(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())}function qJ(e,t){return!!e&&!t.some(n=>n.label.toLowerCase()===e.toLowerCase())}const XJ={required:!1,size:"sm",shadow:"sm",itemComponent:Dy,transitionProps:{transition:"fade",duration:0},initiallyOpened:!1,filter:KJ,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:qJ,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:Py("popover"),positionDependencies:[],dropdownPosition:"flip"},Hy=d.forwardRef((e,t)=>{const n=QE("Select",XJ,e),{inputProps:r,wrapperProps:o,shadow:s,data:i,value:l,defaultValue:c,onChange:p,itemComponent:h,onKeyDown:m,onBlur:g,onFocus:x,transitionProps:y,initiallyOpened:b,unstyled:w,classNames:S,styles:j,filter:I,maxDropdownHeight:M,searchable:_,clearable:E,nothingFound:D,limit:R,disabled:A,onSearchChange:O,searchValue:T,rightSection:K,rightSectionWidth:L,creatable:H,getCreateLabel:U,shouldCreate:W,selectOnBlur:z,onCreate:Q,dropdownComponent:F,onDropdownClose:X,onDropdownOpen:Y,withinPortal:se,portalProps:ae,switchDirectionOnFlip:oe,zIndex:q,name:G,dropdownPosition:te,allowDeselect:ce,placeholder:J,filterDataOnExactSearchMatch:ie,form:de,positionDependencies:me,readOnly:Ce,clearButtonProps:ve,hoverOnSearchChange:pe}=n,Re=GJ(n,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transitionProps","initiallyOpened","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","portalProps","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","form","positionDependencies","readOnly","clearButtonProps","hoverOnSearchChange"]),{classes:Pe,cx:Ve,theme:lt}=HJ(),[Ke,Et]=d.useState(b),[et,ot]=d.useState(-1),ye=d.useRef(),Ae=d.useRef({}),[dt,yt]=d.useState("column"),be=dt==="column",{scrollIntoView:tt,targetRef:ct,scrollableRef:pt}=C6({duration:0,offset:5,cancelable:!1,isList:!0}),Oe=ce===void 0?E:ce,$e=Ye=>{if(Ke!==Ye){Et(Ye);const Ut=Ye?Y:X;typeof Ut=="function"&&Ut()}},Wt=H&&typeof U=="function";let ke=null;const Fe=i.map(Ye=>typeof Ye=="string"?{label:Ye,value:Ye}:Ye),Le=u6({data:Fe}),[Ge,ht,Mn]=Od({value:l,defaultValue:c,finalValue:null,onChange:p}),At=Le.find(Ye=>Ye.value===Ge),[Tt,gr]=Od({value:T,defaultValue:(At==null?void 0:At.label)||"",finalValue:void 0,onChange:O}),Fn=Ye=>{gr(Ye),_&&typeof O=="function"&&O(Ye)},In=()=>{var Ye;Ce||(ht(null),Mn||Fn(""),(Ye=ye.current)==null||Ye.focus())};d.useEffect(()=>{const Ye=Le.find(Ut=>Ut.value===Ge);Ye?Fn(Ye.label):(!Wt||!Ge)&&Fn("")},[Ge]),d.useEffect(()=>{At&&(!_||!Ke)&&Fn(At.label)},[At==null?void 0:At.label]);const xn=Ye=>{if(!Ce)if(Oe&&(At==null?void 0:At.value)===Ye.value)ht(null),$e(!1);else{if(Ye.creatable&&typeof Q=="function"){const Ut=Q(Ye.value);typeof Ut<"u"&&Ut!==null&&ht(typeof Ut=="string"?Ut:Ut.value)}else ht(Ye.value);Mn||Fn(Ye.label),ot(-1),$e(!1),ye.current.focus()}},ln=FJ({data:Le,searchable:_,limit:R,searchValue:Tt,filter:I,filterDataOnExactSearchMatch:ie,value:Ge});Wt&&W(Tt,ln)&&(ke=U(Tt),ln.push({label:Tt,value:Tt,creatable:!0}));const Ir=(Ye,Ut,Bn)=>{let kt=Ye;for(;Bn(kt);)if(kt=Ut(kt),!ln[kt].disabled)return kt;return Ye};Zo(()=>{ot(pe&&Tt?0:-1)},[Tt,pe]);const $o=Ge?ln.findIndex(Ye=>Ye.value===Ge):0,vr=!Ce&&(ln.length>0?Ke:Ke&&!!D),xr=()=>{ot(Ye=>{var Ut;const Bn=Ir(Ye,kt=>kt-1,kt=>kt>0);return ct.current=Ae.current[(Ut=ln[Bn])==null?void 0:Ut.value],vr&&tt({alignment:be?"start":"end"}),Bn})},Ks=()=>{ot(Ye=>{var Ut;const Bn=Ir(Ye,kt=>kt+1,kt=>kt<ln.length-1);return ct.current=Ae.current[(Ut=ln[Bn])==null?void 0:Ut.value],vr&&tt({alignment:be?"end":"start"}),Bn})},qs=()=>window.setTimeout(()=>{var Ye;ct.current=Ae.current[(Ye=ln[$o])==null?void 0:Ye.value],tt({alignment:be?"end":"start"})},50);Zo(()=>{vr&&qs()},[vr]);const Aa=Ye=>{switch(typeof m=="function"&&m(Ye),Ye.key){case"ArrowUp":{Ye.preventDefault(),Ke?be?xr():Ks():(ot($o),$e(!0),qs());break}case"ArrowDown":{Ye.preventDefault(),Ke?be?Ks():xr():(ot($o),$e(!0),qs());break}case"Home":{if(!_){Ye.preventDefault(),Ke||$e(!0);const Ut=ln.findIndex(Bn=>!Bn.disabled);ot(Ut),vr&&tt({alignment:be?"end":"start"})}break}case"End":{if(!_){Ye.preventDefault(),Ke||$e(!0);const Ut=ln.map(Bn=>!!Bn.disabled).lastIndexOf(!1);ot(Ut),vr&&tt({alignment:be?"end":"start"})}break}case"Escape":{Ye.preventDefault(),$e(!1),ot(-1);break}case" ":{_||(Ye.preventDefault(),ln[et]&&Ke?xn(ln[et]):($e(!0),ot($o),qs()));break}case"Enter":_||Ye.preventDefault(),ln[et]&&Ke&&(Ye.preventDefault(),xn(ln[et]))}},Ta=Ye=>{typeof g=="function"&&g(Ye);const Ut=Le.find(Bn=>Bn.value===Ge);z&&ln[et]&&Ke&&xn(ln[et]),Fn((Ut==null?void 0:Ut.label)||""),$e(!1)},Al=Ye=>{typeof x=="function"&&x(Ye),_&&$e(!0)},Na=Ye=>{Ce||(Fn(Ye.currentTarget.value),E&&Ye.currentTarget.value===""&&ht(null),ot(-1),$e(!0))},Tl=()=>{Ce||($e(!Ke),Ge&&!Ke&&ot($o))};return B.createElement(Yc.Wrapper,i1(Qu({},o),{__staticSelector:"Select"}),B.createElement(ii,{opened:vr,transitionProps:y,shadow:s,withinPortal:se,portalProps:ae,__staticSelector:"Select",onDirectionChange:yt,switchDirectionOnFlip:oe,zIndex:q,dropdownPosition:te,positionDependencies:[...me,Tt],classNames:S,styles:j,unstyled:w,variant:r.variant},B.createElement(ii.Target,null,B.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":vr?`${r.id}-items`:null,"aria-controls":r.id,"aria-expanded":vr,onMouseLeave:()=>ot(-1),tabIndex:-1},B.createElement("input",{type:"hidden",name:G,value:Ge||"",form:de,disabled:A}),B.createElement(Yc,Qu(i1(Qu(Qu({autoComplete:"off",type:"search"},r),Re),{ref:bf(t,ye),onKeyDown:Aa,__staticSelector:"Select",value:Tt,placeholder:J,onChange:Na,"aria-autocomplete":"list","aria-controls":vr?`${r.id}-items`:null,"aria-activedescendant":et>=0?`${r.id}-${et}`:null,onMouseDown:Tl,onBlur:Ta,onFocus:Al,readOnly:!_||Ce,disabled:A,"data-mantine-stop-propagation":vr,name:null,classNames:i1(Qu({},S),{input:Ve({[Pe.input]:!_},S==null?void 0:S.input)})}),kM({theme:lt,rightSection:K,rightSectionWidth:L,styles:j,size:r.size,shouldClear:E&&!!At,onClear:In,error:o.error,clearButtonProps:ve,disabled:A,readOnly:Ce}))))),B.createElement(ii.Dropdown,{component:F||Ag,maxHeight:M,direction:dt,id:r.id,innerRef:pt,__staticSelector:"Select",classNames:S,styles:j},B.createElement(Oy,{data:ln,hovered:et,classNames:S,styles:j,isItemSelected:Ye=>Ye===Ge,uuid:r.id,__staticSelector:"Select",onItemHover:ot,onItemSelect:xn,itemsRefs:Ae,itemComponent:h,size:r.size,nothingFound:D,creatable:Wt&&!!ke,createLabel:ke,"aria-label":o.label,unstyled:w,variant:r.variant}))))});Hy.displayName="@mantine/core/Select";const wf=()=>{const[e,t,n,r,o,s,i,l,c,p,h,m,g,x,y,b,w,S,j,I,M,_,E,D,R,A,O,T,K,L,H,U,W,z,Q,F,X,Y,se,ae,oe,q,G,te,ce,J,ie,de,me,Ce,ve,pe,Re,Pe,Ve,lt,Ke,Et,et,ot,ye,Ae,dt,yt,be,tt,ct,pt,Oe,$e,Wt,ke,Fe,Le,Ge,ht]=Ps("colors",["base.50","base.100","base.150","base.200","base.250","base.300","base.350","base.400","base.450","base.500","base.550","base.600","base.650","base.700","base.750","base.800","base.850","base.900","base.950","accent.50","accent.100","accent.150","accent.200","accent.250","accent.300","accent.350","accent.400","accent.450","accent.500","accent.550","accent.600","accent.650","accent.700","accent.750","accent.800","accent.850","accent.900","accent.950","baseAlpha.50","baseAlpha.100","baseAlpha.150","baseAlpha.200","baseAlpha.250","baseAlpha.300","baseAlpha.350","baseAlpha.400","baseAlpha.450","baseAlpha.500","baseAlpha.550","baseAlpha.600","baseAlpha.650","baseAlpha.700","baseAlpha.750","baseAlpha.800","baseAlpha.850","baseAlpha.900","baseAlpha.950","accentAlpha.50","accentAlpha.100","accentAlpha.150","accentAlpha.200","accentAlpha.250","accentAlpha.300","accentAlpha.350","accentAlpha.400","accentAlpha.450","accentAlpha.500","accentAlpha.550","accentAlpha.600","accentAlpha.650","accentAlpha.700","accentAlpha.750","accentAlpha.800","accentAlpha.850","accentAlpha.900","accentAlpha.950"]);return{base50:e,base100:t,base150:n,base200:r,base250:o,base300:s,base350:i,base400:l,base450:c,base500:p,base550:h,base600:m,base650:g,base700:x,base750:y,base800:b,base850:w,base900:S,base950:j,accent50:I,accent100:M,accent150:_,accent200:E,accent250:D,accent300:R,accent350:A,accent400:O,accent450:T,accent500:K,accent550:L,accent600:H,accent650:U,accent700:W,accent750:z,accent800:Q,accent850:F,accent900:X,accent950:Y,baseAlpha50:se,baseAlpha100:ae,baseAlpha150:oe,baseAlpha200:q,baseAlpha250:G,baseAlpha300:te,baseAlpha350:ce,baseAlpha400:J,baseAlpha450:ie,baseAlpha500:de,baseAlpha550:me,baseAlpha600:Ce,baseAlpha650:ve,baseAlpha700:pe,baseAlpha750:Re,baseAlpha800:Pe,baseAlpha850:Ve,baseAlpha900:lt,baseAlpha950:Ke,accentAlpha50:Et,accentAlpha100:et,accentAlpha150:ot,accentAlpha200:ye,accentAlpha250:Ae,accentAlpha300:dt,accentAlpha350:yt,accentAlpha400:be,accentAlpha450:tt,accentAlpha500:ct,accentAlpha550:pt,accentAlpha600:Oe,accentAlpha650:$e,accentAlpha700:Wt,accentAlpha750:ke,accentAlpha800:Fe,accentAlpha850:Le,accentAlpha900:Ge,accentAlpha950:ht}},Te=(e,t)=>n=>n==="light"?e:t,RM=()=>{const{base50:e,base100:t,base200:n,base300:r,base400:o,base500:s,base600:i,base700:l,base800:c,base900:p,accent200:h,accent300:m,accent400:g,accent500:x,accent600:y}=wf(),{colorMode:b}=_a(),[w]=Ps("shadows",["dark-lg"]),[S,j,I]=Ps("space",[1,2,6]),[M]=Ps("radii",["base"]),[_]=Ps("lineHeights",["base"]);return d.useCallback(()=>({label:{color:Te(l,r)(b)},separatorLabel:{color:Te(s,s)(b),"::after":{borderTopColor:Te(r,l)(b)}},input:{border:"unset",backgroundColor:Te(e,p)(b),borderRadius:M,borderStyle:"solid",borderWidth:"2px",borderColor:Te(n,c)(b),color:Te(p,t)(b),minHeight:"unset",lineHeight:_,height:"auto",paddingRight:0,paddingLeft:0,paddingInlineStart:j,paddingInlineEnd:I,paddingTop:S,paddingBottom:S,fontWeight:600,"&:hover":{borderColor:Te(r,i)(b)},"&:focus":{borderColor:Te(m,y)(b)},"&:is(:focus, :hover)":{borderColor:Te(o,s)(b)},"&:focus-within":{borderColor:Te(h,y)(b)},"&[data-disabled]":{backgroundColor:Te(r,l)(b),color:Te(i,o)(b),cursor:"not-allowed"}},value:{backgroundColor:Te(t,p)(b),color:Te(p,t)(b),button:{color:Te(p,t)(b)},"&:hover":{backgroundColor:Te(r,l)(b),cursor:"pointer"}},dropdown:{backgroundColor:Te(n,c)(b),borderColor:Te(n,c)(b),boxShadow:w},item:{backgroundColor:Te(n,c)(b),color:Te(c,n)(b),padding:6,"&[data-hovered]":{color:Te(p,t)(b),backgroundColor:Te(r,l)(b)},"&[data-active]":{backgroundColor:Te(r,l)(b),"&:hover":{color:Te(p,t)(b),backgroundColor:Te(r,l)(b)}},"&[data-selected]":{backgroundColor:Te(g,y)(b),color:Te(e,t)(b),fontWeight:600,"&:hover":{backgroundColor:Te(x,x)(b),color:Te("white",e)(b)}},"&[data-disabled]":{color:Te(s,i)(b),cursor:"not-allowed"}},rightSection:{width:32,button:{color:Te(p,t)(b)}}}),[h,m,g,x,y,t,n,r,o,e,s,i,l,c,p,w,b,_,M,S,j,I])},AM=je((e,t)=>{const{searchable:n=!0,tooltip:r,inputRef:o,onChange:s,label:i,disabled:l,...c}=e,p=ee(),[h,m]=d.useState(""),g=d.useCallback(w=>{w.shiftKey&&p(zr(!0))},[p]),x=d.useCallback(w=>{w.shiftKey||p(zr(!1))},[p]),y=d.useCallback(w=>{s&&s(w)},[s]),b=RM();return a.jsx(Ht,{label:r,placement:"top",hasArrow:!0,children:a.jsxs(qt,{ref:t,isDisabled:l,position:"static",children:[i&&a.jsx(kn,{children:i}),a.jsx(Hy,{ref:o,disabled:l,searchValue:h,onSearchChange:m,onChange:y,onKeyDown:g,onKeyUp:x,searchable:n,maxDropdownHeight:300,styles:b,...c})]})})});AM.displayName="IAIMantineSearchableSelect";const rn=d.memo(AM),QJ=le([xe],({changeBoardModal:e})=>{const{isModalOpen:t,imagesToChange:n}=e;return{isModalOpen:t,imagesToChange:n}},Ie),YJ=()=>{const e=ee(),[t,n]=d.useState(),{data:r,isFetching:o}=Yd(),{imagesToChange:s,isModalOpen:i}=V(QJ),[l]=zR(),[c]=FR(),{t:p}=Z(),h=d.useMemo(()=>{const y=[{label:p("boards.uncategorized"),value:"none"}];return(r??[]).forEach(b=>y.push({label:b.board_name,value:b.board_id})),y},[r,p]),m=d.useCallback(()=>{e(Dw()),e(bb(!1))},[e]),g=d.useCallback(()=>{!s.length||!t||(t==="none"?c({imageDTOs:s}):l({imageDTOs:s,board_id:t}),n(null),e(Dw()))},[l,e,s,c,t]),x=d.useRef(null);return a.jsx(pf,{isOpen:i,onClose:m,leastDestructiveRef:x,isCentered:!0,children:a.jsx(os,{children:a.jsxs(hf,{children:[a.jsx(rs,{fontSize:"lg",fontWeight:"bold",children:p("boards.changeBoard")}),a.jsx(ss,{children:a.jsxs(N,{sx:{flexDir:"column",gap:4},children:[a.jsxs(ge,{children:["Moving ",`${s.length}`," image",`${s.length>1?"s":""}`," to board:"]}),a.jsx(rn,{placeholder:p(o?"boards.loading":"boards.selectBoard"),disabled:o,onChange:y=>n(y),value:t,data:h})]})}),a.jsxs(As,{children:[a.jsx(it,{ref:x,onClick:m,children:p("boards.cancel")}),a.jsx(it,{colorScheme:"accent",onClick:g,ml:3,children:p("boards.move")})]})]})})})},ZJ=d.memo(YJ),TM=e=>{const{label:t,isDisabled:n=!1,width:r="auto",formControlProps:o,formLabelProps:s,tooltip:i,helperText:l,...c}=e;return a.jsx(Ht,{label:i,hasArrow:!0,placement:"top",isDisabled:!i,children:a.jsx(qt,{isDisabled:n,width:r,alignItems:"center",...o,children:a.jsxs(N,{sx:{flexDir:"column",w:"full"},children:[a.jsxs(N,{sx:{alignItems:"center",w:"full"},children:[t&&a.jsx(kn,{my:1,flexGrow:1,sx:{cursor:n?"not-allowed":"pointer",...s==null?void 0:s.sx,pe:4},...s,children:t}),a.jsx(ky,{...c})]}),l&&a.jsx(W5,{children:a.jsx(ge,{variant:"subtext",children:l})})]})})})};TM.displayName="IAISwitch";const pn=d.memo(TM),JJ=e=>{const{t}=Z(),{imageUsage:n,topMessage:r=t("gallery.currentlyInUse"),bottomMessage:o=t("gallery.featuresWillReset")}=e;return!n||!wo(n)?null:a.jsxs(a.Fragment,{children:[a.jsx(ge,{children:r}),a.jsxs(cf,{sx:{paddingInlineStart:6},children:[n.isInitialImage&&a.jsx(Jr,{children:t("common.img2img")}),n.isCanvasImage&&a.jsx(Jr,{children:t("common.unifiedCanvas")}),n.isControlNetImage&&a.jsx(Jr,{children:t("common.controlNet")}),n.isIPAdapterImage&&a.jsx(Jr,{children:t("common.ipAdapter")}),n.isNodesImage&&a.jsx(Jr,{children:t("common.nodeEditor")})]}),a.jsx(ge,{children:o})]})},NM=d.memo(JJ),eee=le([xe,BR],(e,t)=>{const{system:n,config:r,deleteImageModal:o}=e,{shouldConfirmOnDelete:s}=n,{canRestoreDeletedImagesFromBin:i}=r,{imagesToDelete:l,isModalOpen:c}=o,p=(l??[]).map(({image_name:m})=>$_(e,m)),h={isInitialImage:wo(p,m=>m.isInitialImage),isCanvasImage:wo(p,m=>m.isCanvasImage),isNodesImage:wo(p,m=>m.isNodesImage),isControlNetImage:wo(p,m=>m.isControlNetImage),isIPAdapterImage:wo(p,m=>m.isIPAdapterImage)};return{shouldConfirmOnDelete:s,canRestoreDeletedImagesFromBin:i,imagesToDelete:l,imagesUsage:t,isModalOpen:c,imageUsageSummary:h}},Ie),tee=()=>{const e=ee(),{t}=Z(),{shouldConfirmOnDelete:n,canRestoreDeletedImagesFromBin:r,imagesToDelete:o,imagesUsage:s,isModalOpen:i,imageUsageSummary:l}=V(eee),c=d.useCallback(g=>e(L_(!g.target.checked)),[e]),p=d.useCallback(()=>{e(Rw()),e(HR(!1))},[e]),h=d.useCallback(()=>{!o.length||!s.length||(e(Rw()),e(VR({imageDTOs:o,imagesUsage:s})))},[e,o,s]),m=d.useRef(null);return a.jsx(pf,{isOpen:i,onClose:p,leastDestructiveRef:m,isCentered:!0,children:a.jsx(os,{children:a.jsxs(hf,{children:[a.jsx(rs,{fontSize:"lg",fontWeight:"bold",children:t("gallery.deleteImage")}),a.jsx(ss,{children:a.jsxs(N,{direction:"column",gap:3,children:[a.jsx(NM,{imageUsage:l}),a.jsx(Jn,{}),a.jsx(ge,{children:t(r?"gallery.deleteImageBin":"gallery.deleteImagePermanent")}),a.jsx(ge,{children:t("common.areYouSure")}),a.jsx(pn,{label:t("common.dontAskMeAgain"),isChecked:!n,onChange:c})]})}),a.jsxs(As,{children:[a.jsx(it,{ref:m,onClick:p,children:"Cancel"}),a.jsx(it,{colorScheme:"error",onClick:h,ml:3,children:"Delete"})]})]})})})},nee=d.memo(tee),$M=je((e,t)=>{const{role:n,tooltip:r="",tooltipProps:o,isChecked:s,...i}=e;return a.jsx(Ht,{label:r,hasArrow:!0,...o,...o!=null&&o.placement?{placement:o.placement}:{placement:"top"},children:a.jsx(Os,{ref:t,role:n,colorScheme:s?"accent":"base",...i})})});$M.displayName="IAIIconButton";const ze=d.memo($M);var LM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Cj=B.createContext&&B.createContext(LM),li=globalThis&&globalThis.__assign||function(){return li=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},li.apply(this,arguments)},ree=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function zM(e){return e&&e.map(function(t,n){return B.createElement(t.tag,li({key:n},t.attr),zM(t.child))})}function Ne(e){return function(t){return B.createElement(oee,li({attr:li({},e.attr)},t),zM(e.child))}}function oee(e){var t=function(n){var r=e.attr,o=e.size,s=e.title,i=ree(e,["attr","size","title"]),l=o||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),B.createElement("svg",li({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,i,{className:c,style:li(li({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&B.createElement("title",null,s),e.children)};return Cj!==void 0?B.createElement(Cj.Consumer,null,function(n){return t(n)}):t(LM)}function see(e){return Ne({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"}}]})(e)}function aee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(e)}function iee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34zm192-34l-136-136c-9.4-9.4-24.6-9.4-33.9 0l-22.6 22.6c-9.4 9.4-9.4 24.6 0 33.9l96.4 96.4-96.4 96.4c-9.4 9.4-9.4 24.6 0 33.9l22.6 22.6c9.4 9.4 24.6 9.4 33.9 0l136-136c9.4-9.2 9.4-24.4 0-33.8z"}}]})(e)}function lee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"}}]})(e)}function cee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"}}]})(e)}function uee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function dee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"}}]})(e)}function fee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M352.201 425.775l-79.196 79.196c-9.373 9.373-24.568 9.373-33.941 0l-79.196-79.196c-15.119-15.119-4.411-40.971 16.971-40.97h51.162L228 284H127.196v51.162c0 21.382-25.851 32.09-40.971 16.971L7.029 272.937c-9.373-9.373-9.373-24.569 0-33.941L86.225 159.8c15.119-15.119 40.971-4.411 40.971 16.971V228H228V127.196h-51.23c-21.382 0-32.09-25.851-16.971-40.971l79.196-79.196c9.373-9.373 24.568-9.373 33.941 0l79.196 79.196c15.119 15.119 4.411 40.971-16.971 40.971h-51.162V228h100.804v-51.162c0-21.382 25.851-32.09 40.97-16.971l79.196 79.196c9.373 9.373 9.373 24.569 0 33.941L425.773 352.2c-15.119 15.119-40.971 4.411-40.97-16.971V284H284v100.804h51.23c21.382 0 32.09 25.851 16.971 40.971z"}}]})(e)}function FM(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M478.21 334.093L336 256l142.21-78.093c11.795-6.477 15.961-21.384 9.232-33.037l-19.48-33.741c-6.728-11.653-21.72-15.499-33.227-8.523L296 186.718l3.475-162.204C299.763 11.061 288.937 0 275.48 0h-38.96c-13.456 0-24.283 11.061-23.994 24.514L216 186.718 77.265 102.607c-11.506-6.976-26.499-3.13-33.227 8.523l-19.48 33.741c-6.728 11.653-2.562 26.56 9.233 33.037L176 256 33.79 334.093c-11.795 6.477-15.961 21.384-9.232 33.037l19.48 33.741c6.728 11.653 21.721 15.499 33.227 8.523L216 325.282l-3.475 162.204C212.237 500.939 223.064 512 236.52 512h38.961c13.456 0 24.283-11.061 23.995-24.514L296 325.282l138.735 84.111c11.506 6.976 26.499 3.13 33.227-8.523l19.48-33.741c6.728-11.653 2.563-26.559-9.232-33.036z"}}]})(e)}function pee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function hee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M511.988 288.9c-.478 17.43-15.217 31.1-32.653 31.1H424v16c0 21.864-4.882 42.584-13.6 61.145l60.228 60.228c12.496 12.497 12.496 32.758 0 45.255-12.498 12.497-32.759 12.496-45.256 0l-54.736-54.736C345.886 467.965 314.351 480 280 480V236c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v244c-34.351 0-65.886-12.035-90.636-32.108l-54.736 54.736c-12.498 12.497-32.759 12.496-45.256 0-12.496-12.497-12.496-32.758 0-45.255l60.228-60.228C92.882 378.584 88 357.864 88 336v-16H32.666C15.23 320 .491 306.33.013 288.9-.484 270.816 14.028 256 32 256h56v-58.745l-46.628-46.628c-12.496-12.497-12.496-32.758 0-45.255 12.498-12.497 32.758-12.497 45.256 0L141.255 160h229.489l54.627-54.627c12.498-12.497 32.758-12.497 45.256 0 12.496 12.497 12.496 32.758 0 45.255L424 197.255V256h56c17.972 0 32.484 14.816 31.988 32.9zM257 0c-61.856 0-112 50.144-112 112h224C369 50.144 318.856 0 257 0z"}}]})(e)}function BM(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function mee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"}}]})(e)}function HM(e){return Ne({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"}}]})(e)}function VM(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)}function pu(e){return Ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"}}]})(e)}function gee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500 224h-30.364C455.724 130.325 381.675 56.276 288 42.364V12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v30.364C130.325 56.276 56.276 130.325 42.364 224H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h30.364C56.276 381.675 130.325 455.724 224 469.636V500c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-30.364C381.675 455.724 455.724 381.675 469.636 288H500c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zM288 404.634V364c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40.634C165.826 392.232 119.783 346.243 107.366 288H148c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-40.634C119.768 165.826 165.757 119.783 224 107.366V148c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40.634C346.174 119.768 392.217 165.757 404.634 224H364c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40.634C392.232 346.174 346.243 392.217 288 404.634zM288 256c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-17.673 14.327-32 32-32s32 14.327 32 32z"}}]})(e)}function vee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M239.1 6.3l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V129.3c0-20-12.4-37.9-31.1-44.9l-208-78C262 2.2 250 2.2 239.1 6.3zM256 68.4l192 72v1.1l-192 78-192-78v-1.1l192-72zm32 356V275.5l160-65v133.9l-160 80z"}}]})(e)}function $g(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function xee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"}}]})(e)}function bee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"}}]})(e)}function yee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function Cee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 192 512"},child:[{tag:"path",attr:{d:"M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"}}]})(e)}function WM(e){return Ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"}}]})(e)}function Vy(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"}}]})(e)}function wee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M50.75 333.25c-12 12-18.75 28.28-18.75 45.26V424L0 480l32 32 56-32h45.49c16.97 0 33.25-6.74 45.25-18.74l126.64-126.62-128-128L50.75 333.25zM483.88 28.12c-37.47-37.5-98.28-37.5-135.75 0l-77.09 77.09-13.1-13.1c-9.44-9.44-24.65-9.31-33.94 0l-40.97 40.97c-9.37 9.37-9.37 24.57 0 33.94l161.94 161.94c9.44 9.44 24.65 9.31 33.94 0L419.88 288c9.37-9.37 9.37-24.57 0-33.94l-13.1-13.1 77.09-77.09c37.51-37.48 37.51-98.26.01-135.75z"}}]})(e)}function See(e){return Ne({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function kee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function jee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M512 320s-64 92.65-64 128c0 35.35 28.66 64 64 64s64-28.65 64-64-64-128-64-128zm-9.37-102.94L294.94 9.37C288.69 3.12 280.5 0 272.31 0s-16.38 3.12-22.62 9.37l-81.58 81.58L81.93 4.76c-6.25-6.25-16.38-6.25-22.62 0L36.69 27.38c-6.24 6.25-6.24 16.38 0 22.62l86.19 86.18-94.76 94.76c-37.49 37.48-37.49 98.26 0 135.75l117.19 117.19c18.74 18.74 43.31 28.12 67.87 28.12 24.57 0 49.13-9.37 67.87-28.12l221.57-221.57c12.5-12.5 12.5-32.75.01-45.25zm-116.22 70.97H65.93c1.36-3.84 3.57-7.98 7.43-11.83l13.15-13.15 81.61-81.61 58.6 58.6c12.49 12.49 32.75 12.49 45.24 0s12.49-32.75 0-45.24l-58.6-58.6 58.95-58.95 162.44 162.44-48.34 48.34z"}}]})(e)}function UM(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"}}]})(e)}function Iee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"}}]})(e)}function _ee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"}}]})(e)}function ml(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(e)}function Pee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v208c0 44.112 35.888 80 80 80h336zm96-80V80c0-26.51-21.49-48-48-48H144c-26.51 0-48 21.49-48 48v256c0 26.51 21.49 48 48 48h384c26.51 0 48-21.49 48-48zM256 128c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-96 144l55.515-55.515c4.686-4.686 12.284-4.686 16.971 0L272 256l135.515-135.515c4.686-4.686 12.284-4.686 16.971 0L512 208v112H160v-48z"}}]})(e)}function GM(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}}]})(e)}function Eee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"}}]})(e)}function Mee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"}}]})(e)}function KM(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"}}]})(e)}function qM(e){return Ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function Oee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function XM(e){return Ne({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320.67 64c-442.6 0-357.57 384-158.46 384 39.9 0 77.47-20.69 101.42-55.86l25.73-37.79c15.66-22.99 46.97-22.99 62.63 0l25.73 37.79C401.66 427.31 439.23 448 479.13 448c189.86 0 290.63-384-158.46-384zM184 308.36c-41.06 0-67.76-25.66-80.08-41.05-5.23-6.53-5.23-16.09 0-22.63 12.32-15.4 39.01-41.05 80.08-41.05s67.76 25.66 80.08 41.05c5.23 6.53 5.23 16.09 0 22.63-12.32 15.4-39.02 41.05-80.08 41.05zm272 0c-41.06 0-67.76-25.66-80.08-41.05-5.23-6.53-5.23-16.09 0-22.63 12.32-15.4 39.01-41.05 80.08-41.05s67.76 25.66 80.08 41.05c5.23 6.53 5.23 16.09 0 22.63-12.32 15.4-39.02 41.05-80.08 41.05z"}}]})(e)}function Dee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function Ree(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M167.02 309.34c-40.12 2.58-76.53 17.86-97.19 72.3-2.35 6.21-8 9.98-14.59 9.98-11.11 0-45.46-27.67-55.25-34.35C0 439.62 37.93 512 128 512c75.86 0 128-43.77 128-120.19 0-3.11-.65-6.08-.97-9.13l-88.01-73.34zM457.89 0c-15.16 0-29.37 6.71-40.21 16.45C213.27 199.05 192 203.34 192 257.09c0 13.7 3.25 26.76 8.73 38.7l63.82 53.18c7.21 1.8 14.64 3.03 22.39 3.03 62.11 0 98.11-45.47 211.16-256.46 7.38-14.35 13.9-29.85 13.9-45.99C512 20.64 486 0 457.89 0z"}}]})(e)}function Aee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"}}]})(e)}function Tee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}}]})(e)}function _l(e){return Ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function QM(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"}}]})(e)}function Nee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504.971 359.029c9.373 9.373 9.373 24.569 0 33.941l-80 79.984c-15.01 15.01-40.971 4.49-40.971-16.971V416h-58.785a12.004 12.004 0 0 1-8.773-3.812l-70.556-75.596 53.333-57.143L352 336h32v-39.981c0-21.438 25.943-31.998 40.971-16.971l80 79.981zM12 176h84l52.781 56.551 53.333-57.143-70.556-75.596A11.999 11.999 0 0 0 122.785 96H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12zm372 0v39.984c0 21.46 25.961 31.98 40.971 16.971l80-79.984c9.373-9.373 9.373-24.569 0-33.941l-80-79.981C409.943 24.021 384 34.582 384 56.019V96h-58.785a12.004 12.004 0 0 0-8.773 3.812L96 336H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h110.785c3.326 0 6.503-1.381 8.773-3.812L352 176h32z"}}]})(e)}function $ee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"}}]})(e)}function Lee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M168 416c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h88v-64h-88c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h88v-64h-88c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h88v-64h-88c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h88V32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v448c0 17.67 14.33 32 32 32h192c17.67 0 32-14.33 32-32v-64h-88z"}}]})(e)}function Lg(e){return Ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(e)}function zee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function YM(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 96H0c0 123.7 100.3 224 224 224v144c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V320C288 196.3 187.7 96 64 96zm384-64c-84.2 0-157.4 46.5-195.7 115.2 27.7 30.2 48.2 66.9 59 107.6C424 243.1 512 147.9 512 32h-64z"}}]})(e)}function Fee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"}}]})(e)}function wj(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"}}]})(e)}function ZM(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H160v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h80v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h336c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160h-80v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h336v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h80c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160H288V48c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16C7.2 64 0 71.2 0 80v32c0 8.8 7.2 16 16 16h208v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h208c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16z"}}]})(e)}function Bee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M16 128h416c8.84 0 16-7.16 16-16V48c0-8.84-7.16-16-16-16H16C7.16 32 0 39.16 0 48v64c0 8.84 7.16 16 16 16zm480 80H80c-8.84 0-16 7.16-16 16v64c0 8.84 7.16 16 16 16h416c8.84 0 16-7.16 16-16v-64c0-8.84-7.16-16-16-16zm-64 176H16c-8.84 0-16 7.16-16 16v64c0 8.84 7.16 16 16 16h416c8.84 0 16-7.16 16-16v-64c0-8.84-7.16-16-16-16z"}}]})(e)}function Hee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"}}]})(e)}function JM(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"}}]})(e)}function Rd(e){return Ne({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function Vr(e){return Ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function Sf(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"}}]})(e)}function zg(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function Vee(e){return Ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function e8(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"}}]})(e)}const Kt=e=>{const t=V(i=>i.config.disabledTabs),n=V(i=>i.config.disabledFeatures),r=V(i=>i.config.disabledSDFeatures),o=d.useMemo(()=>n.includes(e)||r.includes(e)||t.includes(e),[n,r,t,e]),s=d.useMemo(()=>!(n.includes(e)||r.includes(e)||t.includes(e)),[n,r,t,e]);return{isFeatureDisabled:o,isFeatureEnabled:s}};function Wee(e){const{title:t,hotkey:n,description:r}=e;return a.jsxs(pi,{sx:{gridTemplateColumns:"auto max-content",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(pi,{children:[a.jsx(ge,{fontWeight:600,children:t}),r&&a.jsx(ge,{sx:{fontSize:"sm"},variant:"subtext",children:r})]}),a.jsx(_e,{sx:{fontSize:"sm",fontWeight:600,px:2,py:1},children:n})]})}function Uee({children:e}){const{isOpen:t,onOpen:n,onClose:r}=Br(),{t:o}=Z(),s=[{title:o("hotkeys.invoke.title"),desc:o("hotkeys.invoke.desc"),hotkey:"Ctrl+Enter"},{title:o("hotkeys.cancel.title"),desc:o("hotkeys.cancel.desc"),hotkey:"Shift+X"},{title:o("hotkeys.focusPrompt.title"),desc:o("hotkeys.focusPrompt.desc"),hotkey:"Alt+A"},{title:o("hotkeys.toggleOptions.title"),desc:o("hotkeys.toggleOptions.desc"),hotkey:"O"},{title:o("hotkeys.toggleGallery.title"),desc:o("hotkeys.toggleGallery.desc"),hotkey:"G"},{title:o("hotkeys.maximizeWorkSpace.title"),desc:o("hotkeys.maximizeWorkSpace.desc"),hotkey:"F"},{title:o("hotkeys.changeTabs.title"),desc:o("hotkeys.changeTabs.desc"),hotkey:"1-5"}],i=[{title:o("hotkeys.setPrompt.title"),desc:o("hotkeys.setPrompt.desc"),hotkey:"P"},{title:o("hotkeys.setSeed.title"),desc:o("hotkeys.setSeed.desc"),hotkey:"S"},{title:o("hotkeys.setParameters.title"),desc:o("hotkeys.setParameters.desc"),hotkey:"A"},{title:o("hotkeys.upscale.title"),desc:o("hotkeys.upscale.desc"),hotkey:"Shift+U"},{title:o("hotkeys.showInfo.title"),desc:o("hotkeys.showInfo.desc"),hotkey:"I"},{title:o("hotkeys.sendToImageToImage.title"),desc:o("hotkeys.sendToImageToImage.desc"),hotkey:"Shift+I"},{title:o("hotkeys.deleteImage.title"),desc:o("hotkeys.deleteImage.desc"),hotkey:"Del"},{title:o("hotkeys.closePanels.title"),desc:o("hotkeys.closePanels.desc"),hotkey:"Esc"}],l=[{title:o("hotkeys.previousImage.title"),desc:o("hotkeys.previousImage.desc"),hotkey:"Arrow Left"},{title:o("hotkeys.nextImage.title"),desc:o("hotkeys.nextImage.desc"),hotkey:"Arrow Right"},{title:o("hotkeys.increaseGalleryThumbSize.title"),desc:o("hotkeys.increaseGalleryThumbSize.desc"),hotkey:"Shift+Up"},{title:o("hotkeys.decreaseGalleryThumbSize.title"),desc:o("hotkeys.decreaseGalleryThumbSize.desc"),hotkey:"Shift+Down"}],c=[{title:o("hotkeys.selectBrush.title"),desc:o("hotkeys.selectBrush.desc"),hotkey:"B"},{title:o("hotkeys.selectEraser.title"),desc:o("hotkeys.selectEraser.desc"),hotkey:"E"},{title:o("hotkeys.decreaseBrushSize.title"),desc:o("hotkeys.decreaseBrushSize.desc"),hotkey:"["},{title:o("hotkeys.increaseBrushSize.title"),desc:o("hotkeys.increaseBrushSize.desc"),hotkey:"]"},{title:o("hotkeys.decreaseBrushOpacity.title"),desc:o("hotkeys.decreaseBrushOpacity.desc"),hotkey:"Shift + ["},{title:o("hotkeys.increaseBrushOpacity.title"),desc:o("hotkeys.increaseBrushOpacity.desc"),hotkey:"Shift + ]"},{title:o("hotkeys.moveTool.title"),desc:o("hotkeys.moveTool.desc"),hotkey:"V"},{title:o("hotkeys.fillBoundingBox.title"),desc:o("hotkeys.fillBoundingBox.desc"),hotkey:"Shift + F"},{title:o("hotkeys.eraseBoundingBox.title"),desc:o("hotkeys.eraseBoundingBox.desc"),hotkey:"Delete / Backspace"},{title:o("hotkeys.colorPicker.title"),desc:o("hotkeys.colorPicker.desc"),hotkey:"C"},{title:o("hotkeys.toggleSnap.title"),desc:o("hotkeys.toggleSnap.desc"),hotkey:"N"},{title:o("hotkeys.quickToggleMove.title"),desc:o("hotkeys.quickToggleMove.desc"),hotkey:"Hold Space"},{title:o("hotkeys.toggleLayer.title"),desc:o("hotkeys.toggleLayer.desc"),hotkey:"Q"},{title:o("hotkeys.clearMask.title"),desc:o("hotkeys.clearMask.desc"),hotkey:"Shift+C"},{title:o("hotkeys.hideMask.title"),desc:o("hotkeys.hideMask.desc"),hotkey:"H"},{title:o("hotkeys.showHideBoundingBox.title"),desc:o("hotkeys.showHideBoundingBox.desc"),hotkey:"Shift+H"},{title:o("hotkeys.mergeVisible.title"),desc:o("hotkeys.mergeVisible.desc"),hotkey:"Shift+M"},{title:o("hotkeys.saveToGallery.title"),desc:o("hotkeys.saveToGallery.desc"),hotkey:"Shift+S"},{title:o("hotkeys.copyToClipboard.title"),desc:o("hotkeys.copyToClipboard.desc"),hotkey:"Ctrl+C"},{title:o("hotkeys.downloadImage.title"),desc:o("hotkeys.downloadImage.desc"),hotkey:"Shift+D"},{title:o("hotkeys.undoStroke.title"),desc:o("hotkeys.undoStroke.desc"),hotkey:"Ctrl+Z"},{title:o("hotkeys.redoStroke.title"),desc:o("hotkeys.redoStroke.desc"),hotkey:"Ctrl+Shift+Z, Ctrl+Y"},{title:o("hotkeys.resetView.title"),desc:o("hotkeys.resetView.desc"),hotkey:"R"},{title:o("hotkeys.previousStagingImage.title"),desc:o("hotkeys.previousStagingImage.desc"),hotkey:"Arrow Left"},{title:o("hotkeys.nextStagingImage.title"),desc:o("hotkeys.nextStagingImage.desc"),hotkey:"Arrow Right"},{title:o("hotkeys.acceptStagingImage.title"),desc:o("hotkeys.acceptStagingImage.desc"),hotkey:"Enter"}],p=[{title:o("hotkeys.addNodes.title"),desc:o("hotkeys.addNodes.desc"),hotkey:"Shift + A / Space"}],h=m=>a.jsx(N,{flexDir:"column",gap:4,children:m.map((g,x)=>a.jsxs(N,{flexDir:"column",px:2,gap:4,children:[a.jsx(Wee,{title:g.title,description:g.desc,hotkey:g.hotkey}),x<m.length-1&&a.jsx(Jn,{})]},x))});return a.jsxs(a.Fragment,{children:[d.cloneElement(e,{onClick:n}),a.jsxs(fl,{isOpen:t,onClose:r,children:[a.jsx(os,{}),a.jsxs(pl,{children:[a.jsx(rs,{children:o("hotkeys.keyboardShortcuts")}),a.jsx(mf,{}),a.jsx(ss,{children:a.jsx(H5,{allowMultiple:!0,children:a.jsxs(N,{flexDir:"column",gap:2,children:[a.jsxs(cc,{children:[a.jsx(ic,{children:a.jsxs(N,{width:"100%",justifyContent:"space-between",alignItems:"center",children:[a.jsx("h2",{children:o("hotkeys.appHotkeys")}),a.jsx(lc,{})]})}),a.jsx(uc,{children:h(s)})]}),a.jsxs(cc,{children:[a.jsx(ic,{children:a.jsxs(N,{width:"100%",justifyContent:"space-between",alignItems:"center",children:[a.jsx("h2",{children:o("hotkeys.generalHotkeys")}),a.jsx(lc,{})]})}),a.jsx(uc,{children:h(i)})]}),a.jsxs(cc,{children:[a.jsx(ic,{children:a.jsxs(N,{width:"100%",justifyContent:"space-between",alignItems:"center",children:[a.jsx("h2",{children:o("hotkeys.galleryHotkeys")}),a.jsx(lc,{})]})}),a.jsx(uc,{children:h(l)})]}),a.jsxs(cc,{children:[a.jsx(ic,{children:a.jsxs(N,{width:"100%",justifyContent:"space-between",alignItems:"center",children:[a.jsx("h2",{children:o("hotkeys.unifiedCanvasHotkeys")}),a.jsx(lc,{})]})}),a.jsx(uc,{children:h(c)})]}),a.jsxs(cc,{children:[a.jsx(ic,{children:a.jsxs(N,{width:"100%",justifyContent:"space-between",alignItems:"center",children:[a.jsx("h2",{children:o("hotkeys.nodesHotkeys")}),a.jsx(lc,{})]})}),a.jsx(uc,{children:h(p)})]})]})})}),a.jsx(As,{})]})]})]})}function Sj(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function kj(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var Gee=function(e,t){return typeof t=="boolean"?t:!e},Kee=function(e){return d.useReducer(Gee,e)};const qee=Kee;function Xee(e,t){t===void 0&&(t=0);var n=d.useRef(!1),r=d.useRef(),o=d.useRef(e),s=d.useCallback(function(){return n.current},[]),i=d.useCallback(function(){n.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout(function(){n.current=!0,o.current()},t)},[t]),l=d.useCallback(function(){n.current=null,r.current&&clearTimeout(r.current)},[]);return d.useEffect(function(){o.current=e},[e]),d.useEffect(function(){return i(),l},[t]),[s,l,i]}function Qee(e,t,n){t===void 0&&(t=0),n===void 0&&(n=[]);var r=Xee(e,t),o=r[0],s=r[1],i=r[2];return d.useEffect(i,n),[o,s]}var Yee=function(e,t){t===void 0&&(t=!0);var n=d.useState(!1),r=n[0],o=n[1];return d.useEffect(function(){var s=function(){return o(!0)},i=function(){return o(!1)};t&&e&&e.current&&(Sj(e.current,"mouseover",s),Sj(e.current,"mouseout",i));var l=e.current;return function(){t&&l&&(kj(l,"mouseover",s),kj(l,"mouseout",i))}},[t,e]),r};const t8=Yee,Zee=({showVersion:e=!0})=>{const{data:t}=WR(),n=d.useRef(null),r=t8(n);return a.jsxs(N,{alignItems:"center",gap:5,ps:1,ref:n,children:[a.jsx(Pa,{src:yb,alt:"invoke-ai-logo",sx:{w:"32px",h:"32px",minW:"32px",minH:"32px",userSelect:"none"}}),a.jsxs(N,{sx:{gap:3,alignItems:"center"},children:[a.jsxs(ge,{sx:{fontSize:"xl",userSelect:"none"},children:["invoke ",a.jsx("strong",{children:"ai"})]}),a.jsx(pr,{children:e&&r&&t&&a.jsx(En.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.15}},exit:{opacity:0,transition:{delay:.8}},children:a.jsx(ge,{sx:{fontWeight:600,marginTop:1,color:"base.300",fontSize:14},variant:"subtext",children:t.version})},"statusText")})]})]})},Jee=d.memo(Zee),n8=je((e,t)=>{const{tooltip:n,inputRef:r,label:o,disabled:s,required:i,...l}=e,c=RM();return a.jsx(Ht,{label:n,placement:"top",hasArrow:!0,children:a.jsxs(qt,{ref:t,isRequired:i,isDisabled:s,position:"static",children:[a.jsx(kn,{children:o}),a.jsx(Hy,{disabled:s,ref:r,styles:c,...l})]})})});n8.displayName="IAIMantineSelect";const Rn=d.memo(n8),ete={ar:wt.t("common.langArabic",{lng:"ar"}),nl:wt.t("common.langDutch",{lng:"nl"}),en:wt.t("common.langEnglish",{lng:"en"}),fr:wt.t("common.langFrench",{lng:"fr"}),de:wt.t("common.langGerman",{lng:"de"}),he:wt.t("common.langHebrew",{lng:"he"}),it:wt.t("common.langItalian",{lng:"it"}),ja:wt.t("common.langJapanese",{lng:"ja"}),ko:wt.t("common.langKorean",{lng:"ko"}),pl:wt.t("common.langPolish",{lng:"pl"}),pt_BR:wt.t("common.langBrPortuguese",{lng:"pt_BR"}),pt:wt.t("common.langPortuguese",{lng:"pt"}),ru:wt.t("common.langRussian",{lng:"ru"}),zh_CN:wt.t("common.langSimplifiedChinese",{lng:"zh_CN"}),es:wt.t("common.langSpanish",{lng:"es"}),uk:wt.t("common.langUkranian",{lng:"ua"})},tte={CONNECTED:"common.statusConnected",DISCONNECTED:"common.statusDisconnected",PROCESSING:"common.statusProcessing",ERROR:"common.statusError",LOADING_MODEL:"common.statusLoadingModel"},r8=le(xe,({system:e})=>e.language,Ie);function Uo(e){const{t}=Z(),{label:n,textProps:r,useBadge:o=!1,badgeLabel:s=t("settings.experimental"),badgeProps:i,...l}=e;return a.jsxs(N,{justifyContent:"space-between",py:1,children:[a.jsxs(N,{gap:2,alignItems:"center",children:[a.jsx(ge,{sx:{fontSize:14,_dark:{color:"base.300"}},...r,children:n}),o&&a.jsx(Ws,{size:"xs",sx:{px:2,color:"base.700",bg:"accent.200",_dark:{bg:"accent.500",color:"base.200"}},...i,children:s})]}),a.jsx(pn,{...l})]})}const nte=e=>a.jsx(N,{sx:{flexDirection:"column",gap:2,p:4,borderRadius:"base",bg:"base.100",_dark:{bg:"base.900"}},children:e.children}),fc=d.memo(nte);function rte(){const e=ee(),{data:t,refetch:n}=UR(),[r,{isLoading:o}]=GR(),s=d.useCallback(()=>{r().unwrap().then(l=>{e(KR()),e(z_()),e(ut({title:`Cleared ${l} intermediates`,status:"info"}))})},[r,e]);d.useEffect(()=>{n()},[n]);const i=t?`Clear ${t} Intermediate${t>1?"s":""}`:"No Intermediates to Clear";return a.jsxs(fc,{children:[a.jsx(dr,{size:"sm",children:"Clear Intermediates"}),a.jsx(it,{colorScheme:"warning",onClick:s,isLoading:o,isDisabled:!t,children:i}),a.jsx(ge,{fontWeight:"bold",children:"Clearing intermediates will reset your Canvas and ControlNet state."}),a.jsx(ge,{variant:"subtext",children:"Intermediate images are byproducts of generation, different from the result images in the gallery. Clearing intermediates will free disk space."}),a.jsx(ge,{variant:"subtext",children:"Your gallery images will not be deleted."})]})}const ote=()=>{const{base50:e,base100:t,base200:n,base300:r,base400:o,base500:s,base600:i,base700:l,base800:c,base900:p,accent200:h,accent300:m,accent400:g,accent500:x,accent600:y}=wf(),{colorMode:b}=_a(),[w]=Ps("shadows",["dark-lg"]);return d.useCallback(()=>({label:{color:Te(l,r)(b)},separatorLabel:{color:Te(s,s)(b),"::after":{borderTopColor:Te(r,l)(b)}},searchInput:{":placeholder":{color:Te(r,l)(b)}},input:{backgroundColor:Te(e,p)(b),borderWidth:"2px",borderColor:Te(n,c)(b),color:Te(p,t)(b),paddingRight:24,fontWeight:600,"&:hover":{borderColor:Te(r,i)(b)},"&:focus":{borderColor:Te(m,y)(b)},"&:is(:focus, :hover)":{borderColor:Te(o,s)(b)},"&:focus-within":{borderColor:Te(h,y)(b)},"&[data-disabled]":{backgroundColor:Te(r,l)(b),color:Te(i,o)(b),cursor:"not-allowed"}},value:{backgroundColor:Te(n,c)(b),color:Te(p,t)(b),button:{color:Te(p,t)(b)},"&:hover":{backgroundColor:Te(r,l)(b),cursor:"pointer"}},dropdown:{backgroundColor:Te(n,c)(b),borderColor:Te(n,c)(b),boxShadow:w},item:{backgroundColor:Te(n,c)(b),color:Te(c,n)(b),padding:6,"&[data-hovered]":{color:Te(p,t)(b),backgroundColor:Te(r,l)(b)},"&[data-active]":{backgroundColor:Te(r,l)(b),"&:hover":{color:Te(p,t)(b),backgroundColor:Te(r,l)(b)}},"&[data-selected]":{backgroundColor:Te(g,y)(b),color:Te(e,t)(b),fontWeight:600,"&:hover":{backgroundColor:Te(x,x)(b),color:Te("white",e)(b)}},"&[data-disabled]":{color:Te(s,i)(b),cursor:"not-allowed"}},rightSection:{width:24,padding:20,button:{color:Te(p,t)(b)}}}),[h,m,g,x,y,t,n,r,o,e,s,i,l,c,p,w,b])},o8=je((e,t)=>{const{searchable:n=!0,tooltip:r,inputRef:o,label:s,disabled:i,...l}=e,c=ee(),p=d.useCallback(g=>{g.shiftKey&&c(zr(!0))},[c]),h=d.useCallback(g=>{g.shiftKey||c(zr(!1))},[c]),m=ote();return a.jsx(Ht,{label:r,placement:"top",hasArrow:!0,isOpen:!0,children:a.jsxs(qt,{ref:t,isDisabled:i,position:"static",children:[s&&a.jsx(kn,{children:s}),a.jsx(_M,{ref:o,disabled:i,onKeyDown:p,onKeyUp:h,searchable:n,maxDropdownHeight:300,styles:m,...l})]})})});o8.displayName="IAIMantineMultiSelect";const ste=d.memo(o8),ate=hr(Gm,(e,t)=>({value:t,label:e})).sort((e,t)=>e.label.localeCompare(t.label));function ite(){const e=ee(),{t}=Z(),n=V(o=>o.ui.favoriteSchedulers),r=d.useCallback(o=>{e(qR(o))},[e]);return a.jsx(ste,{label:t("settings.favoriteSchedulers"),value:n,data:ate,onChange:r,clearable:!0,searchable:!0,maxSelectedValues:99,placeholder:t("settings.favoriteSchedulersPlaceholder")})}const lte=le([xe],({system:e,ui:t})=>{const{shouldConfirmOnDelete:n,enableImageDebugging:r,consoleLogLevel:o,shouldLogToConsole:s,shouldAntialiasProgressImage:i,shouldUseNSFWChecker:l,shouldUseWatermarker:c,shouldEnableInformationalPopovers:p}=e,{shouldUseSliders:h,shouldShowProgressInViewer:m,shouldAutoChangeDimensions:g}=t;return{shouldConfirmOnDelete:n,enableImageDebugging:r,shouldUseSliders:h,shouldShowProgressInViewer:m,consoleLogLevel:o,shouldLogToConsole:s,shouldAntialiasProgressImage:i,shouldUseNSFWChecker:l,shouldUseWatermarker:c,shouldAutoChangeDimensions:g,shouldEnableInformationalPopovers:p}},{memoizeOptions:{resultEqualityCheck:Bt}}),cte=({children:e,config:t})=>{const n=ee(),{t:r}=Z(),[o,s]=d.useState(3),i=(t==null?void 0:t.shouldShowDeveloperSettings)??!0,l=(t==null?void 0:t.shouldShowResetWebUiText)??!0,c=(t==null?void 0:t.shouldShowClearIntermediates)??!0,p=(t==null?void 0:t.shouldShowLocalizationToggle)??!0;d.useEffect(()=>{i||n(Aw(!1))},[i,n]);const{isNSFWCheckerAvailable:h,isWatermarkerAvailable:m}=F_(void 0,{selectFromResult:({data:Y})=>({isNSFWCheckerAvailable:(Y==null?void 0:Y.nsfw_methods.includes("nsfw_checker"))??!1,isWatermarkerAvailable:(Y==null?void 0:Y.watermarking_methods.includes("invisible_watermark"))??!1})}),{isOpen:g,onOpen:x,onClose:y}=Br(),{isOpen:b,onOpen:w,onClose:S}=Br(),{shouldConfirmOnDelete:j,enableImageDebugging:I,shouldUseSliders:M,shouldShowProgressInViewer:_,consoleLogLevel:E,shouldLogToConsole:D,shouldAntialiasProgressImage:R,shouldUseNSFWChecker:A,shouldUseWatermarker:O,shouldAutoChangeDimensions:T,shouldEnableInformationalPopovers:K}=V(lte),L=d.useCallback(()=>{Object.keys(window.localStorage).forEach(Y=>{(XR.includes(Y)||Y.startsWith(QR))&&localStorage.removeItem(Y)}),y(),w(),setInterval(()=>s(Y=>Y-1),1e3)},[y,w]);d.useEffect(()=>{o<=0&&window.location.reload()},[o]);const H=d.useCallback(Y=>{n(YR(Y))},[n]),U=d.useCallback(Y=>{n(ZR(Y))},[n]),W=d.useCallback(Y=>{n(Aw(Y.target.checked))},[n]),{colorMode:z,toggleColorMode:Q}=_a(),F=Kt("localization").isFeatureEnabled,X=V(r8);return a.jsxs(a.Fragment,{children:[d.cloneElement(e,{onClick:x}),a.jsxs(fl,{isOpen:g,onClose:y,size:"2xl",isCentered:!0,children:[a.jsx(os,{}),a.jsxs(pl,{children:[a.jsx(rs,{bg:"none",children:r("common.settingsLabel")}),a.jsx(mf,{}),a.jsx(ss,{children:a.jsxs(N,{sx:{gap:4,flexDirection:"column"},children:[a.jsxs(fc,{children:[a.jsx(dr,{size:"sm",children:r("settings.general")}),a.jsx(Uo,{label:r("settings.confirmOnDelete"),isChecked:j,onChange:Y=>n(L_(Y.target.checked))})]}),a.jsxs(fc,{children:[a.jsx(dr,{size:"sm",children:r("settings.generation")}),a.jsx(ite,{}),a.jsx(Uo,{label:"Enable NSFW Checker",isDisabled:!h,isChecked:A,onChange:Y=>n(JR(Y.target.checked))}),a.jsx(Uo,{label:"Enable Invisible Watermark",isDisabled:!m,isChecked:O,onChange:Y=>n(eA(Y.target.checked))})]}),a.jsxs(fc,{children:[a.jsx(dr,{size:"sm",children:r("settings.ui")}),a.jsx(Uo,{label:r("common.darkMode"),isChecked:z==="dark",onChange:Q}),a.jsx(Uo,{label:r("settings.useSlidersForAll"),isChecked:M,onChange:Y=>n(tA(Y.target.checked))}),a.jsx(Uo,{label:r("settings.showProgressInViewer"),isChecked:_,onChange:Y=>n(B_(Y.target.checked))}),a.jsx(Uo,{label:r("settings.antialiasProgressImages"),isChecked:R,onChange:Y=>n(nA(Y.target.checked))}),a.jsx(Uo,{label:r("settings.autoChangeDimensions"),isChecked:T,onChange:Y=>n(rA(Y.target.checked))}),p&&a.jsx(Rn,{disabled:!F,label:r("common.languagePickerLabel"),value:X,data:Object.entries(ete).map(([Y,se])=>({value:Y,label:se})),onChange:U}),a.jsx(Uo,{label:"Enable informational popovers",isChecked:K,onChange:Y=>n(oA(Y.target.checked))})]}),i&&a.jsxs(fc,{children:[a.jsx(dr,{size:"sm",children:r("settings.developer")}),a.jsx(Uo,{label:r("settings.shouldLogToConsole"),isChecked:D,onChange:W}),a.jsx(Rn,{disabled:!D,label:r("settings.consoleLogLevel"),onChange:H,value:E,data:sA.concat()}),a.jsx(Uo,{label:r("settings.enableImageDebugging"),isChecked:I,onChange:Y=>n(aA(Y.target.checked))})]}),c&&a.jsx(rte,{}),a.jsxs(fc,{children:[a.jsx(dr,{size:"sm",children:r("settings.resetWebUI")}),a.jsx(it,{colorScheme:"error",onClick:L,children:r("settings.resetWebUI")}),l&&a.jsxs(a.Fragment,{children:[a.jsx(ge,{variant:"subtext",children:r("settings.resetWebUIDesc1")}),a.jsx(ge,{variant:"subtext",children:r("settings.resetWebUIDesc2")})]})]})]})}),a.jsx(As,{children:a.jsx(it,{onClick:y,children:r("common.close")})})]})]}),a.jsxs(fl,{closeOnOverlayClick:!1,isOpen:b,onClose:S,isCentered:!0,closeOnEsc:!1,children:[a.jsx(os,{backdropFilter:"blur(40px)"}),a.jsxs(pl,{children:[a.jsx(rs,{}),a.jsx(ss,{children:a.jsx(N,{justifyContent:"center",children:a.jsx(ge,{fontSize:"lg",children:a.jsxs(ge,{children:[r("settings.resetComplete")," Reloading in ",o,"..."]})})})}),a.jsx(As,{})]})]})]})},ute=d.memo(cte),dte=le(xe,({system:e})=>{const{isConnected:t,status:n}=e;return{isConnected:t,statusTranslationKey:tte[n]}},Ie),jj={ok:"green.400",working:"yellow.400",error:"red.400"},Ij={ok:"green.600",working:"yellow.500",error:"red.500"},fte=()=>{const{isConnected:e,statusTranslationKey:t}=V(dte),{t:n}=Z(),r=d.useRef(null),{data:o}=Hs(),s=d.useMemo(()=>e?o!=null&&o.queue.in_progress?"working":"ok":"error",[o==null?void 0:o.queue.in_progress,e]),i=t8(r);return a.jsxs(N,{ref:r,h:"full",px:2,alignItems:"center",gap:5,children:[a.jsx(pr,{children:i&&a.jsx(En.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.15}},exit:{opacity:0,transition:{delay:.8}},children:a.jsx(ge,{sx:{fontSize:"sm",fontWeight:"600",pb:"1px",userSelect:"none",color:Ij[s],_dark:{color:jj[s]}},children:n(t)})},"statusText")}),a.jsx($n,{as:mee,sx:{boxSize:"0.5rem",color:Ij[s],_dark:{color:jj[s]}}})]})},pte=d.memo(fte),hte=()=>{const{t:e}=Z(),t=Kt("bugLink").isFeatureEnabled,n=Kt("discordLink").isFeatureEnabled,r=Kt("githubLink").isFeatureEnabled,o="http://github.com/invoke-ai/InvokeAI",s="https://discord.gg/ZmtBAhwWhy";return a.jsxs(N,{sx:{gap:2,alignItems:"center"},children:[a.jsx(Jee,{}),a.jsx(Oa,{}),a.jsx(pte,{}),a.jsxs(dg,{children:[a.jsx(fg,{as:ze,variant:"link","aria-label":e("accessibility.menu"),icon:a.jsx(pee,{}),sx:{boxSize:8}}),a.jsxs(ul,{motionProps:Hc,children:[a.jsxs(Pd,{title:e("common.communityLabel"),children:[r&&a.jsx(tn,{as:"a",href:o,target:"_blank",icon:a.jsx(aee,{}),children:e("common.githubLabel")}),t&&a.jsx(tn,{as:"a",href:`${o}/issues`,target:"_blank",icon:a.jsx(hee,{}),children:e("common.reportBugLabel")}),n&&a.jsx(tn,{as:"a",href:s,target:"_blank",icon:a.jsx(see,{}),children:e("common.discordLabel")})]}),a.jsxs(Pd,{title:e("common.settingsLabel"),children:[a.jsx(Uee,{children:a.jsx(tn,{as:"button",icon:a.jsx(Eee,{}),children:e("common.hotkeysLabel")})}),a.jsx(ute,{children:a.jsx(tn,{as:"button",icon:a.jsx(VM,{}),children:e("common.settingsLabel")})})]})]})]})]})},mte=d.memo(hte);/*!
 * OverlayScrollbars
 * Version: 2.2.1
 *
 * Copyright (c) Rene Haas | KingSora.
 * https://github.com/KingSora
 *
 * Released under the MIT license.
 */function Ft(e,t){if(Bg(e))for(let n=0;n<e.length&&t(e[n],n,e)!==!1;n++);else e&&Ft(Object.keys(e),n=>t(e[n],n,e));return e}function fr(e,t){const n=Si(t);if(ls(t)||n){let o=n?"":{};if(e){const s=window.getComputedStyle(e,null);o=n?Mj(e,s,t):t.reduce((i,l)=>(i[l]=Mj(e,s,l),i),o)}return o}e&&Ft(ao(t),o=>Ote(e,o,t[o]))}const qo=(e,t)=>{const{o:n,u:r,_:o}=e;let s=n,i;const l=(h,m)=>{const g=s,x=h,y=m||(r?!r(g,x):g!==x);return(y||o)&&(s=x,i=g),[s,y,i]};return[t?h=>l(t(s,i),h):l,h=>[s,!!h,i]]},kf=()=>typeof window<"u",s8=kf()&&Node.ELEMENT_NODE,{toString:gte,hasOwnProperty:l1}=Object.prototype,Ra=e=>e===void 0,Fg=e=>e===null,vte=e=>Ra(e)||Fg(e)?`${e}`:gte.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase(),ci=e=>typeof e=="number",Si=e=>typeof e=="string",Wy=e=>typeof e=="boolean",is=e=>typeof e=="function",ls=e=>Array.isArray(e),Ad=e=>typeof e=="object"&&!ls(e)&&!Fg(e),Bg=e=>{const t=!!e&&e.length,n=ci(t)&&t>-1&&t%1==0;return ls(e)||!is(e)&&n?t>0&&Ad(e)?t-1 in e:!0:!1},$x=e=>{if(!e||!Ad(e)||vte(e)!=="object")return!1;let t;const n="constructor",r=e[n],o=r&&r.prototype,s=l1.call(e,n),i=o&&l1.call(o,"isPrototypeOf");if(r&&!s&&!i)return!1;for(t in e);return Ra(t)||l1.call(e,t)},Mm=e=>{const t=HTMLElement;return e?t?e instanceof t:e.nodeType===s8:!1},Hg=e=>{const t=Element;return e?t?e instanceof t:e.nodeType===s8:!1},Uy=(e,t,n)=>e.indexOf(t,n),Qt=(e,t,n)=>(!n&&!Si(t)&&Bg(t)?Array.prototype.push.apply(e,t):e.push(t),e),gl=e=>{const t=Array.from,n=[];return t&&e?t(e):(e instanceof Set?e.forEach(r=>{Qt(n,r)}):Ft(e,r=>{Qt(n,r)}),n)},Gy=e=>!!e&&e.length===0,Us=(e,t,n)=>{Ft(e,o=>o&&o.apply(void 0,t||[])),!n&&(e.length=0)},Vg=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),ao=e=>e?Object.keys(e):[],Sn=(e,t,n,r,o,s,i)=>{const l=[t,n,r,o,s,i];return(typeof e!="object"||Fg(e))&&!is(e)&&(e={}),Ft(l,c=>{Ft(ao(c),p=>{const h=c[p];if(e===h)return!0;const m=ls(h);if(h&&($x(h)||m)){const g=e[p];let x=g;m&&!ls(g)?x=[]:!m&&!$x(g)&&(x={}),e[p]=Sn(x,h)}else e[p]=h})}),e},Ky=e=>{for(const t in e)return!1;return!0},a8=(e,t,n,r)=>{if(Ra(r))return n?n[e]:t;n&&(Si(r)||ci(r))&&(n[e]=r)},ur=(e,t,n)=>{if(Ra(n))return e?e.getAttribute(t):null;e&&e.setAttribute(t,n)},Dr=(e,t)=>{e&&e.removeAttribute(t)},el=(e,t,n,r)=>{if(n){const o=ur(e,t)||"",s=new Set(o.split(" "));s[r?"add":"delete"](n);const i=gl(s).join(" ").trim();ur(e,t,i)}},xte=(e,t,n)=>{const r=ur(e,t)||"";return new Set(r.split(" ")).has(n)},es=(e,t)=>a8("scrollLeft",0,e,t),ga=(e,t)=>a8("scrollTop",0,e,t),Lx=kf()&&Element.prototype,i8=(e,t)=>{const n=[],r=t?Hg(t)?t:null:document;return r?Qt(n,r.querySelectorAll(e)):n},bte=(e,t)=>{const n=t?Hg(t)?t:null:document;return n?n.querySelector(e):null},Om=(e,t)=>Hg(e)?(Lx.matches||Lx.msMatchesSelector).call(e,t):!1,qy=e=>e?gl(e.childNodes):[],Ca=e=>e?e.parentElement:null,bc=(e,t)=>{if(Hg(e)){const n=Lx.closest;if(n)return n.call(e,t);do{if(Om(e,t))return e;e=Ca(e)}while(e)}return null},yte=(e,t,n)=>{const r=e&&bc(e,t),o=e&&bte(n,r),s=bc(o,t)===r;return r&&o?r===e||o===e||s&&bc(bc(e,n),t)!==r:!1},Xy=(e,t,n)=>{if(n&&e){let r=t,o;Bg(n)?(o=document.createDocumentFragment(),Ft(n,s=>{s===r&&(r=s.previousSibling),o.appendChild(s)})):o=n,t&&(r?r!==t&&(r=r.nextSibling):r=e.firstChild),e.insertBefore(o,r||null)}},jo=(e,t)=>{Xy(e,null,t)},Cte=(e,t)=>{Xy(Ca(e),e,t)},_j=(e,t)=>{Xy(Ca(e),e&&e.nextSibling,t)},Ns=e=>{if(Bg(e))Ft(gl(e),t=>Ns(t));else if(e){const t=Ca(e);t&&t.removeChild(e)}},tl=e=>{const t=document.createElement("div");return e&&ur(t,"class",e),t},l8=e=>{const t=tl();return t.innerHTML=e.trim(),Ft(qy(t),n=>Ns(n))},zx=e=>e.charAt(0).toUpperCase()+e.slice(1),wte=()=>tl().style,Ste=["-webkit-","-moz-","-o-","-ms-"],kte=["WebKit","Moz","O","MS","webkit","moz","o","ms"],c1={},u1={},jte=e=>{let t=u1[e];if(Vg(u1,e))return t;const n=zx(e),r=wte();return Ft(Ste,o=>{const s=o.replace(/-/g,"");return!(t=[e,o+e,s+n,zx(s)+n].find(l=>r[l]!==void 0))}),u1[e]=t||""},jf=e=>{if(kf()){let t=c1[e]||window[e];return Vg(c1,e)||(Ft(kte,n=>(t=t||window[n+zx(e)],!t)),c1[e]=t),t}},Ite=jf("MutationObserver"),Pj=jf("IntersectionObserver"),yc=jf("ResizeObserver"),c8=jf("cancelAnimationFrame"),u8=jf("requestAnimationFrame"),Dm=kf()&&window.setTimeout,Fx=kf()&&window.clearTimeout,_te=/[^\x20\t\r\n\f]+/g,d8=(e,t,n)=>{const r=e&&e.classList;let o,s=0,i=!1;if(r&&t&&Si(t)){const l=t.match(_te)||[];for(i=l.length>0;o=l[s++];)i=!!n(r,o)&&i}return i},Qy=(e,t)=>{d8(e,t,(n,r)=>n.remove(r))},va=(e,t)=>(d8(e,t,(n,r)=>n.add(r)),Qy.bind(0,e,t)),Wg=(e,t,n,r)=>{if(e&&t){let o=!0;return Ft(n,s=>{const i=r?r(e[s]):e[s],l=r?r(t[s]):t[s];i!==l&&(o=!1)}),o}return!1},f8=(e,t)=>Wg(e,t,["w","h"]),p8=(e,t)=>Wg(e,t,["x","y"]),Pte=(e,t)=>Wg(e,t,["t","r","b","l"]),Ej=(e,t,n)=>Wg(e,t,["width","height"],n&&(r=>Math.round(r))),So=()=>{},pc=e=>{let t;const n=e?Dm:u8,r=e?Fx:c8;return[o=>{r(t),t=n(o,is(e)?e():e)},()=>r(t)]},Yy=(e,t)=>{let n,r,o,s=So;const{v:i,g:l,p:c}=t||{},p=function(y){s(),Fx(n),n=r=void 0,s=So,e.apply(this,y)},h=x=>c&&r?c(r,x):x,m=()=>{s!==So&&p(h(o)||o)},g=function(){const y=gl(arguments),b=is(i)?i():i;if(ci(b)&&b>=0){const S=is(l)?l():l,j=ci(S)&&S>=0,I=b>0?Dm:u8,M=b>0?Fx:c8,E=h(y)||y,D=p.bind(0,E);s();const R=I(D,b);s=()=>M(R),j&&!n&&(n=Dm(m,S)),r=o=E}else p(y)};return g.m=m,g},Ete={opacity:1,zindex:1},Yp=(e,t)=>{const n=t?parseFloat(e):parseInt(e,10);return n===n?n:0},Mte=(e,t)=>!Ete[e.toLowerCase()]&&ci(t)?`${t}px`:t,Mj=(e,t,n)=>t!=null?t[n]||t.getPropertyValue(n):e.style[n],Ote=(e,t,n)=>{try{const{style:r}=e;Ra(r[t])?r.setProperty(t,n):r[t]=Mte(t,n)}catch{}},Td=e=>fr(e,"direction")==="rtl",Oj=(e,t,n)=>{const r=t?`${t}-`:"",o=n?`-${n}`:"",s=`${r}top${o}`,i=`${r}right${o}`,l=`${r}bottom${o}`,c=`${r}left${o}`,p=fr(e,[s,i,l,c]);return{t:Yp(p[s],!0),r:Yp(p[i],!0),b:Yp(p[l],!0),l:Yp(p[c],!0)}},{round:Dj}=Math,Zy={w:0,h:0},Nd=e=>e?{w:e.offsetWidth,h:e.offsetHeight}:Zy,Ch=e=>e?{w:e.clientWidth,h:e.clientHeight}:Zy,Rm=e=>e?{w:e.scrollWidth,h:e.scrollHeight}:Zy,Am=e=>{const t=parseFloat(fr(e,"height"))||0,n=parseFloat(fr(e,"width"))||0;return{w:n-Dj(n),h:t-Dj(t)}},Es=e=>e.getBoundingClientRect();let Zp;const Dte=()=>{if(Ra(Zp)){Zp=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get(){Zp=!0}}))}catch{}}return Zp},h8=e=>e.split(" "),Rte=(e,t,n,r)=>{Ft(h8(t),o=>{e.removeEventListener(o,n,r)})},Gn=(e,t,n,r)=>{var o;const s=Dte(),i=(o=s&&r&&r.S)!=null?o:s,l=r&&r.$||!1,c=r&&r.C||!1,p=[],h=s?{passive:i,capture:l}:l;return Ft(h8(t),m=>{const g=c?x=>{e.removeEventListener(m,g,l),n&&n(x)}:n;Qt(p,Rte.bind(null,e,m,g,l)),e.addEventListener(m,g,h)}),Us.bind(0,p)},m8=e=>e.stopPropagation(),g8=e=>e.preventDefault(),Ate={x:0,y:0},d1=e=>{const t=e?Es(e):0;return t?{x:t.left+window.pageYOffset,y:t.top+window.pageXOffset}:Ate},Rj=(e,t)=>{Ft(ls(t)?t:[t],e)},Jy=e=>{const t=new Map,n=(s,i)=>{if(s){const l=t.get(s);Rj(c=>{l&&l[c?"delete":"clear"](c)},i)}else t.forEach(l=>{l.clear()}),t.clear()},r=(s,i)=>{if(Si(s)){const p=t.get(s)||new Set;return t.set(s,p),Rj(h=>{is(h)&&p.add(h)},i),n.bind(0,s,i)}Wy(i)&&i&&n();const l=ao(s),c=[];return Ft(l,p=>{const h=s[p];h&&Qt(c,r(p,h))}),Us.bind(0,c)},o=(s,i)=>{const l=t.get(s);Ft(gl(l),c=>{i&&!Gy(i)?c.apply(0,i):c()})};return r(e||{}),[r,n,o]},Aj=e=>JSON.stringify(e,(t,n)=>{if(is(n))throw new Error;return n}),Tte={paddingAbsolute:!1,showNativeOverlaidScrollbars:!1,update:{elementEvents:[["img","load"]],debounce:[0,33],attributes:null,ignoreMutation:null},overflow:{x:"scroll",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"auto",autoHide:"never",autoHideDelay:1300,dragScroll:!0,clickScroll:!1,pointers:["mouse","touch","pen"]}},v8=(e,t)=>{const n={},r=ao(t).concat(ao(e));return Ft(r,o=>{const s=e[o],i=t[o];if(Ad(s)&&Ad(i))Sn(n[o]={},v8(s,i)),Ky(n[o])&&delete n[o];else if(Vg(t,o)&&i!==s){let l=!0;if(ls(s)||ls(i))try{Aj(s)===Aj(i)&&(l=!1)}catch{}l&&(n[o]=i)}}),n},x8="os-environment",b8=`${x8}-flexbox-glue`,Nte=`${b8}-max`,y8="os-scrollbar-hidden",f1="data-overlayscrollbars-initialize",Xo="data-overlayscrollbars",C8=`${Xo}-overflow-x`,w8=`${Xo}-overflow-y`,Ac="overflowVisible",$te="scrollbarHidden",Tj="scrollbarPressed",Tm="updating",Ya="data-overlayscrollbars-viewport",p1="arrange",S8="scrollbarHidden",Tc=Ac,Bx="data-overlayscrollbars-padding",Lte=Tc,Nj="data-overlayscrollbars-content",e2="os-size-observer",zte=`${e2}-appear`,Fte=`${e2}-listener`,Bte="os-trinsic-observer",Hte="os-no-css-vars",Vte="os-theme-none",Wr="os-scrollbar",Wte=`${Wr}-rtl`,Ute=`${Wr}-horizontal`,Gte=`${Wr}-vertical`,k8=`${Wr}-track`,t2=`${Wr}-handle`,Kte=`${Wr}-visible`,qte=`${Wr}-cornerless`,$j=`${Wr}-transitionless`,Lj=`${Wr}-interaction`,zj=`${Wr}-unusable`,Fj=`${Wr}-auto-hidden`,Bj=`${Wr}-wheel`,Xte=`${k8}-interactive`,Qte=`${t2}-interactive`,j8={},vl=()=>j8,Yte=e=>{const t=[];return Ft(ls(e)?e:[e],n=>{const r=ao(n);Ft(r,o=>{Qt(t,j8[o]=n[o])})}),t},Zte="__osOptionsValidationPlugin",Jte="__osSizeObserverPlugin",n2="__osScrollbarsHidingPlugin",ene="__osClickScrollPlugin";let h1;const Hj=(e,t,n,r)=>{jo(e,t);const o=Ch(t),s=Nd(t),i=Am(n);return r&&Ns(t),{x:s.h-o.h+i.h,y:s.w-o.w+i.w}},tne=e=>{let t=!1;const n=va(e,y8);try{t=fr(e,jte("scrollbar-width"))==="none"||window.getComputedStyle(e,"::-webkit-scrollbar").getPropertyValue("display")==="none"}catch{}return n(),t},nne=(e,t)=>{const n="hidden";fr(e,{overflowX:n,overflowY:n,direction:"rtl"}),es(e,0);const r=d1(e),o=d1(t);es(e,-999);const s=d1(t);return{i:r.x===o.x,n:o.x!==s.x}},rne=(e,t)=>{const n=va(e,b8),r=Es(e),o=Es(t),s=Ej(o,r,!0),i=va(e,Nte),l=Es(e),c=Es(t),p=Ej(c,l,!0);return n(),i(),s&&p},one=()=>{const{body:e}=document,n=l8(`<div class="${x8}"><div></div></div>`)[0],r=n.firstChild,[o,,s]=Jy(),[i,l]=qo({o:Hj(e,n,r),u:p8},Hj.bind(0,e,n,r,!0)),[c]=l(),p=tne(n),h={x:c.x===0,y:c.y===0},m={elements:{host:null,padding:!p,viewport:j=>p&&j===j.ownerDocument.body&&j,content:!1},scrollbars:{slot:!0},cancel:{nativeScrollbarsOverlaid:!1,body:null}},g=Sn({},Tte),x=Sn.bind(0,{},g),y=Sn.bind(0,{},m),b={k:c,A:h,I:p,L:fr(n,"zIndex")==="-1",B:nne(n,r),V:rne(n,r),Y:o.bind(0,"z"),j:o.bind(0,"r"),N:y,q:j=>Sn(m,j)&&y(),F:x,G:j=>Sn(g,j)&&x(),X:Sn({},m),U:Sn({},g)},w=window.addEventListener,S=Yy(j=>s(j?"z":"r"),{v:33,g:99});if(Dr(n,"style"),Ns(n),w("resize",S.bind(0,!1)),!p&&(!h.x||!h.y)){let j;w("resize",()=>{const I=vl()[n2];j=j||I&&I.R(),j&&j(b,i,S.bind(0,!0))})}return b},Ur=()=>(h1||(h1=one()),h1),r2=(e,t)=>is(t)?t.apply(0,e):t,sne=(e,t,n,r)=>{const o=Ra(r)?n:r;return r2(e,o)||t.apply(0,e)},I8=(e,t,n,r)=>{const o=Ra(r)?n:r,s=r2(e,o);return!!s&&(Mm(s)?s:t.apply(0,e))},ane=(e,t,n)=>{const{nativeScrollbarsOverlaid:r,body:o}=n||{},{A:s,I:i}=Ur(),{nativeScrollbarsOverlaid:l,body:c}=t,p=r??l,h=Ra(o)?c:o,m=(s.x||s.y)&&p,g=e&&(Fg(h)?!i:h);return!!m||!!g},o2=new WeakMap,ine=(e,t)=>{o2.set(e,t)},lne=e=>{o2.delete(e)},_8=e=>o2.get(e),Vj=(e,t)=>e?t.split(".").reduce((n,r)=>n&&Vg(n,r)?n[r]:void 0,e):void 0,Hx=(e,t,n)=>r=>[Vj(e,r),n||Vj(t,r)!==void 0],P8=e=>{let t=e;return[()=>t,n=>{t=Sn({},t,n)}]},Jp="tabindex",eh=tl.bind(0,""),m1=e=>{jo(Ca(e),qy(e)),Ns(e)},cne=e=>{const t=Ur(),{N:n,I:r}=t,o=vl()[n2],s=o&&o.T,{elements:i}=n(),{host:l,padding:c,viewport:p,content:h}=i,m=Mm(e),g=m?{}:e,{elements:x}=g,{host:y,padding:b,viewport:w,content:S}=x||{},j=m?e:g.target,I=Om(j,"textarea"),M=j.ownerDocument,_=M.documentElement,E=j===M.body,D=M.defaultView,R=sne.bind(0,[j]),A=I8.bind(0,[j]),O=r2.bind(0,[j]),T=R.bind(0,eh,p),K=A.bind(0,eh,h),L=T(w),H=L===j,U=H&&E,W=!H&&K(S),z=!H&&Mm(L)&&L===W,Q=z&&!!O(h),F=Q?T():L,X=Q?W:K(),se=U?_:z?F:L,ae=I?R(eh,l,y):j,oe=U?se:ae,q=z?X:W,G=M.activeElement,te=!H&&D.top===D&&G===j,ce={W:j,Z:oe,J:se,K:!H&&A(eh,c,b),tt:q,nt:!H&&!r&&s&&s(t),ot:U?_:se,st:U?M:se,et:D,ct:M,rt:I,it:E,lt:m,ut:H,dt:z,ft:(et,ot)=>xte(se,H?Xo:Ya,H?ot:et),_t:(et,ot,ye)=>el(se,H?Xo:Ya,H?ot:et,ye)},J=ao(ce).reduce((et,ot)=>{const ye=ce[ot];return Qt(et,ye&&!Ca(ye)?ye:!1)},[]),ie=et=>et?Uy(J,et)>-1:null,{W:de,Z:me,K:Ce,J:ve,tt:pe,nt:Re}=ce,Pe=[()=>{Dr(me,Xo),Dr(me,f1),Dr(de,f1),E&&(Dr(_,Xo),Dr(_,f1))}],Ve=I&&ie(me);let lt=I?de:qy([pe,ve,Ce,me,de].find(et=>ie(et)===!1));const Ke=U?de:pe||ve;return[ce,()=>{ur(me,Xo,H?"viewport":"host"),ur(Ce,Bx,""),ur(pe,Nj,""),H||ur(ve,Ya,"");const et=E&&!H?va(Ca(j),y8):So;if(Ve&&(_j(de,me),Qt(Pe,()=>{_j(me,de),Ns(me)})),jo(Ke,lt),jo(me,Ce),jo(Ce||me,!H&&ve),jo(ve,pe),Qt(Pe,()=>{et(),Dr(Ce,Bx),Dr(pe,Nj),Dr(ve,C8),Dr(ve,w8),Dr(ve,Ya),ie(pe)&&m1(pe),ie(ve)&&m1(ve),ie(Ce)&&m1(Ce)}),r&&!H&&(el(ve,Ya,S8,!0),Qt(Pe,Dr.bind(0,ve,Ya))),Re&&(Cte(ve,Re),Qt(Pe,Ns.bind(0,Re))),te){const ot=ur(ve,Jp);ur(ve,Jp,"-1"),ve.focus();const ye=()=>ot?ur(ve,Jp,ot):Dr(ve,Jp),Ae=Gn(M,"pointerdown keydown",()=>{ye(),Ae()});Qt(Pe,[ye,Ae])}else G&&G.focus&&G.focus();lt=0},Us.bind(0,Pe)]},une=(e,t)=>{const{tt:n}=e,[r]=t;return o=>{const{V:s}=Ur(),{ht:i}=r(),{vt:l}=o,c=(n||!s)&&l;return c&&fr(n,{height:i?"":"100%"}),{gt:c,wt:c}}},dne=(e,t)=>{const[n,r]=t,{Z:o,K:s,J:i,ut:l}=e,[c,p]=qo({u:Pte,o:Oj()},Oj.bind(0,o,"padding",""));return(h,m,g)=>{let[x,y]=p(g);const{I:b,V:w}=Ur(),{bt:S}=n(),{gt:j,wt:I,yt:M}=h,[_,E]=m("paddingAbsolute");(j||y||!w&&I)&&([x,y]=c(g));const R=!l&&(E||M||y);if(R){const A=!_||!s&&!b,O=x.r+x.l,T=x.t+x.b,K={marginRight:A&&!S?-O:0,marginBottom:A?-T:0,marginLeft:A&&S?-O:0,top:A?-x.t:0,right:A?S?-x.r:"auto":0,left:A?S?"auto":-x.l:0,width:A?`calc(100% + ${O}px)`:""},L={paddingTop:A?x.t:0,paddingRight:A?x.r:0,paddingBottom:A?x.b:0,paddingLeft:A?x.l:0};fr(s||i,K),fr(i,L),r({K:x,St:!A,P:s?L:Sn({},K,L)})}return{xt:R}}},{max:Vx}=Math,Za=Vx.bind(0,0),E8="visible",Wj="hidden",fne=42,th={u:f8,o:{w:0,h:0}},pne={u:p8,o:{x:Wj,y:Wj}},hne=(e,t)=>{const n=window.devicePixelRatio%1!==0?1:0,r={w:Za(e.w-t.w),h:Za(e.h-t.h)};return{w:r.w>n?r.w:0,h:r.h>n?r.h:0}},nh=e=>e.indexOf(E8)===0,mne=(e,t)=>{const[n,r]=t,{Z:o,K:s,J:i,nt:l,ut:c,_t:p,it:h,et:m}=e,{k:g,V:x,I:y,A:b}=Ur(),w=vl()[n2],S=!c&&!y&&(b.x||b.y),j=h&&c,[I,M]=qo(th,Am.bind(0,i)),[_,E]=qo(th,Rm.bind(0,i)),[D,R]=qo(th),[A,O]=qo(th),[T]=qo(pne),K=(Q,F)=>{if(fr(i,{height:""}),F){const{St:X,K:Y}=n(),{$t:se,D:ae}=Q,oe=Am(o),q=Ch(o),G=fr(i,"boxSizing")==="content-box",te=X||G?Y.b+Y.t:0,ce=!(b.x&&G);fr(i,{height:q.h+oe.h+(se.x&&ce?ae.x:0)-te})}},L=(Q,F)=>{const X=!y&&!Q?fne:0,Y=(ie,de,me)=>{const Ce=fr(i,ie),pe=(F?F[ie]:Ce)==="scroll";return[Ce,pe,pe&&!y?de?X:me:0,de&&!!X]},[se,ae,oe,q]=Y("overflowX",b.x,g.x),[G,te,ce,J]=Y("overflowY",b.y,g.y);return{Ct:{x:se,y:G},$t:{x:ae,y:te},D:{x:oe,y:ce},M:{x:q,y:J}}},H=(Q,F,X,Y)=>{const se=(te,ce)=>{const J=nh(te),ie=ce&&J&&te.replace(`${E8}-`,"")||"";return[ce&&!J?te:"",nh(ie)?"hidden":ie]},[ae,oe]=se(X.x,F.x),[q,G]=se(X.y,F.y);return Y.overflowX=oe&&q?oe:ae,Y.overflowY=G&&ae?G:q,L(Q,Y)},U=(Q,F,X,Y)=>{const{D:se,M:ae}=Q,{x:oe,y:q}=ae,{x:G,y:te}=se,{P:ce}=n(),J=F?"marginLeft":"marginRight",ie=F?"paddingLeft":"paddingRight",de=ce[J],me=ce.marginBottom,Ce=ce[ie],ve=ce.paddingBottom;Y.width=`calc(100% + ${te+-1*de}px)`,Y[J]=-te+de,Y.marginBottom=-G+me,X&&(Y[ie]=Ce+(q?te:0),Y.paddingBottom=ve+(oe?G:0))},[W,z]=w?w.H(S,x,i,l,n,L,U):[()=>S,()=>[So]];return(Q,F,X)=>{const{gt:Y,Ot:se,wt:ae,xt:oe,vt:q,yt:G}=Q,{ht:te,bt:ce}=n(),[J,ie]=F("showNativeOverlaidScrollbars"),[de,me]=F("overflow"),Ce=J&&b.x&&b.y,ve=!c&&!x&&(Y||ae||se||ie||q),pe=nh(de.x),Re=nh(de.y),Pe=pe||Re;let Ve=M(X),lt=E(X),Ke=R(X),Et=O(X),et;if(ie&&y&&p(S8,$te,!Ce),ve&&(et=L(Ce),K(et,te)),Y||oe||ae||G||ie){Pe&&p(Tc,Ac,!1);const[ke,Fe]=z(Ce,ce,et),[Le,Ge]=Ve=I(X),[ht,Mn]=lt=_(X),At=Ch(i);let Tt=ht,gr=At;ke(),(Mn||Ge||ie)&&Fe&&!Ce&&W(Fe,ht,Le,ce)&&(gr=Ch(i),Tt=Rm(i));const Fn={w:Za(Vx(ht.w,Tt.w)+Le.w),h:Za(Vx(ht.h,Tt.h)+Le.h)},In={w:Za((j?m.innerWidth:gr.w+Za(At.w-ht.w))+Le.w),h:Za((j?m.innerHeight+Le.h:gr.h+Za(At.h-ht.h))+Le.h)};Et=A(In),Ke=D(hne(Fn,In),X)}const[ot,ye]=Et,[Ae,dt]=Ke,[yt,be]=lt,[tt,ct]=Ve,pt={x:Ae.w>0,y:Ae.h>0},Oe=pe&&Re&&(pt.x||pt.y)||pe&&pt.x&&!pt.y||Re&&pt.y&&!pt.x;if(oe||G||ct||be||ye||dt||me||ie||ve){const ke={marginRight:0,marginBottom:0,marginLeft:0,width:"",overflowY:"",overflowX:""},Fe=H(Ce,pt,de,ke),Le=W(Fe,yt,tt,ce);c||U(Fe,ce,Le,ke),ve&&K(Fe,te),c?(ur(o,C8,ke.overflowX),ur(o,w8,ke.overflowY)):fr(i,ke)}el(o,Xo,Ac,Oe),el(s,Bx,Lte,Oe),c||el(i,Ya,Tc,Pe);const[$e,Wt]=T(L(Ce).Ct);return r({Ct:$e,zt:{x:ot.w,y:ot.h},Tt:{x:Ae.w,y:Ae.h},Et:pt}),{It:Wt,At:ye,Lt:dt}}},Uj=(e,t,n)=>{const r={},o=t||{},s=ao(e).concat(ao(o));return Ft(s,i=>{const l=e[i],c=o[i];r[i]=!!(n||l||c)}),r},gne=(e,t)=>{const{W:n,J:r,_t:o,ut:s}=e,{I:i,A:l,V:c}=Ur(),p=!i&&(l.x||l.y),h=[une(e,t),dne(e,t),mne(e,t)];return(m,g,x)=>{const y=Uj(Sn({gt:!1,xt:!1,yt:!1,vt:!1,At:!1,Lt:!1,It:!1,Ot:!1,wt:!1},g),{},x),b=p||!c,w=b&&es(r),S=b&&ga(r);o("",Tm,!0);let j=y;return Ft(h,I=>{j=Uj(j,I(j,m,!!x)||{},x)}),es(r,w),ga(r,S),o("",Tm),s||(es(n,0),ga(n,0)),j}},vne=(e,t,n)=>{let r,o=!1;const s=()=>{o=!0},i=l=>{if(n){const c=n.reduce((p,h)=>{if(h){const[m,g]=h,x=g&&m&&(l?l(m):i8(m,e));x&&x.length&&g&&Si(g)&&Qt(p,[x,g.trim()],!0)}return p},[]);Ft(c,p=>Ft(p[0],h=>{const m=p[1],g=r.get(h)||[];if(e.contains(h)){const y=Gn(h,m,b=>{o?(y(),r.delete(h)):t(b)});r.set(h,Qt(g,y))}else Us(g),r.delete(h)}))}};return n&&(r=new WeakMap,i()),[s,i]},Gj=(e,t,n,r)=>{let o=!1;const{Ht:s,Pt:i,Dt:l,Mt:c,Rt:p,kt:h}=r||{},m=Yy(()=>{o&&n(!0)},{v:33,g:99}),[g,x]=vne(e,m,l),y=s||[],b=i||[],w=y.concat(b),S=(I,M)=>{const _=p||So,E=h||So,D=new Set,R=new Set;let A=!1,O=!1;if(Ft(I,T=>{const{attributeName:K,target:L,type:H,oldValue:U,addedNodes:W,removedNodes:z}=T,Q=H==="attributes",F=H==="childList",X=e===L,Y=Q&&Si(K)?ur(L,K):0,se=Y!==0&&U!==Y,ae=Uy(b,K)>-1&&se;if(t&&(F||!X)){const oe=!Q,q=Q&&se,G=q&&c&&Om(L,c),ce=(G?!_(L,K,U,Y):oe||q)&&!E(T,!!G,e,r);Ft(W,J=>D.add(J)),Ft(z,J=>D.add(J)),O=O||ce}!t&&X&&se&&!_(L,K,U,Y)&&(R.add(K),A=A||ae)}),D.size>0&&x(T=>gl(D).reduce((K,L)=>(Qt(K,i8(T,L)),Om(L,T)?Qt(K,L):K),[])),t)return!M&&O&&n(!1),[!1];if(R.size>0||A){const T=[gl(R),A];return!M&&n.apply(0,T),T}},j=new Ite(I=>S(I));return j.observe(e,{attributes:!0,attributeOldValue:!0,attributeFilter:w,subtree:t,childList:t,characterData:t}),o=!0,[()=>{o&&(g(),j.disconnect(),o=!1)},()=>{if(o){m.m();const I=j.takeRecords();return!Gy(I)&&S(I,!0)}}]},rh=3333333,oh=e=>e&&(e.height||e.width),M8=(e,t,n)=>{const{Bt:r=!1,Vt:o=!1}=n||{},s=vl()[Jte],{B:i}=Ur(),c=l8(`<div class="${e2}"><div class="${Fte}"></div></div>`)[0],p=c.firstChild,h=Td.bind(0,e),[m]=qo({o:void 0,_:!0,u:(b,w)=>!(!b||!oh(b)&&oh(w))}),g=b=>{const w=ls(b)&&b.length>0&&Ad(b[0]),S=!w&&Wy(b[0]);let j=!1,I=!1,M=!0;if(w){const[_,,E]=m(b.pop().contentRect),D=oh(_),R=oh(E);j=!E||!D,I=!R&&D,M=!j}else S?[,M]=b:I=b===!0;if(r&&M){const _=S?b[0]:Td(c);es(c,_?i.n?-rh:i.i?0:rh:rh),ga(c,rh)}j||t({gt:!S,Yt:S?b:void 0,Vt:!!I})},x=[];let y=o?g:!1;return[()=>{Us(x),Ns(c)},()=>{if(yc){const b=new yc(g);b.observe(p),Qt(x,()=>{b.disconnect()})}else if(s){const[b,w]=s.O(p,g,o);y=b,Qt(x,w)}if(r){const[b]=qo({o:void 0},h);Qt(x,Gn(c,"scroll",w=>{const S=b(),[j,I,M]=S;I&&(Qy(p,"ltr rtl"),j?va(p,"rtl"):va(p,"ltr"),g([!!j,I,M])),m8(w)}))}y&&(va(c,zte),Qt(x,Gn(c,"animationstart",y,{C:!!yc}))),(yc||s)&&jo(e,c)}]},xne=e=>e.h===0||e.isIntersecting||e.intersectionRatio>0,bne=(e,t)=>{let n;const r=tl(Bte),o=[],[s]=qo({o:!1}),i=(c,p)=>{if(c){const h=s(xne(c)),[,m]=h;if(m)return!p&&t(h),[h]}},l=(c,p)=>{if(c&&c.length>0)return i(c.pop(),p)};return[()=>{Us(o),Ns(r)},()=>{if(Pj)n=new Pj(c=>l(c),{root:e}),n.observe(r),Qt(o,()=>{n.disconnect()});else{const c=()=>{const m=Nd(r);i(m)},[p,h]=M8(r,c);Qt(o,p),h(),c()}jo(e,r)},()=>{if(n)return l(n.takeRecords(),!0)}]},Kj=`[${Xo}]`,yne=`[${Ya}]`,g1=["tabindex"],qj=["wrap","cols","rows"],v1=["id","class","style","open"],Cne=(e,t,n)=>{let r,o,s;const{Z:i,J:l,tt:c,rt:p,ut:h,ft:m,_t:g}=e,{V:x}=Ur(),[y]=qo({u:f8,o:{w:0,h:0}},()=>{const H=m(Tc,Ac),U=m(p1,""),W=U&&es(l),z=U&&ga(l);g(Tc,Ac),g(p1,""),g("",Tm,!0);const Q=Rm(c),F=Rm(l),X=Am(l);return g(Tc,Ac,H),g(p1,"",U),g("",Tm),es(l,W),ga(l,z),{w:F.w+Q.w+X.w,h:F.h+Q.h+X.h}}),b=p?qj:v1.concat(qj),w=Yy(n,{v:()=>r,g:()=>o,p(H,U){const[W]=H,[z]=U;return[ao(W).concat(ao(z)).reduce((Q,F)=>(Q[F]=W[F]||z[F],Q),{})]}}),S=H=>{Ft(H||g1,U=>{if(Uy(g1,U)>-1){const W=ur(i,U);Si(W)?ur(l,U,W):Dr(l,U)}})},j=(H,U)=>{const[W,z]=H,Q={vt:z};return t({ht:W}),!U&&n(Q),Q},I=({gt:H,Yt:U,Vt:W})=>{const z=!H||W?n:w;let Q=!1;if(U){const[F,X]=U;Q=X,t({bt:F})}z({gt:H,yt:Q})},M=(H,U)=>{const[,W]=y(),z={wt:W};return W&&!U&&(H?n:w)(z),z},_=(H,U,W)=>{const z={Ot:U};return U?!W&&w(z):h||S(H),z},[E,D,R]=c||!x?bne(i,j):[So,So,So],[A,O]=h?[So,So]:M8(i,I,{Vt:!0,Bt:!0}),[T,K]=Gj(i,!1,_,{Pt:v1,Ht:v1.concat(g1)}),L=h&&yc&&new yc(I.bind(0,{gt:!0}));return L&&L.observe(i),S(),[()=>{E(),A(),s&&s[0](),L&&L.disconnect(),T()},()=>{O(),D()},()=>{const H={},U=K(),W=R(),z=s&&s[1]();return U&&Sn(H,_.apply(0,Qt(U,!0))),W&&Sn(H,j.apply(0,Qt(W,!0))),z&&Sn(H,M.apply(0,Qt(z,!0))),H},H=>{const[U]=H("update.ignoreMutation"),[W,z]=H("update.attributes"),[Q,F]=H("update.elementEvents"),[X,Y]=H("update.debounce"),se=F||z,ae=oe=>is(U)&&U(oe);if(se&&(s&&(s[1](),s[0]()),s=Gj(c||l,!0,M,{Ht:b.concat(W||[]),Dt:Q,Mt:Kj,kt:(oe,q)=>{const{target:G,attributeName:te}=oe;return(!q&&te&&!h?yte(G,Kj,yne):!1)||!!bc(G,`.${Wr}`)||!!ae(oe)}})),Y)if(w.m(),ls(X)){const oe=X[0],q=X[1];r=ci(oe)&&oe,o=ci(q)&&q}else ci(X)?(r=X,o=!1):(r=!1,o=!1)}]},Xj={x:0,y:0},wne=e=>({K:{t:0,r:0,b:0,l:0},St:!1,P:{marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},zt:Xj,Tt:Xj,Ct:{x:"hidden",y:"hidden"},Et:{x:!1,y:!1},ht:!1,bt:Td(e.Z)}),Sne=(e,t)=>{const n=Hx(t,{}),[r,o,s]=Jy(),[i,l,c]=cne(e),p=P8(wne(i)),[h,m]=p,g=gne(i,p),x=(I,M,_)=>{const D=ao(I).some(R=>I[R])||!Ky(M)||_;return D&&s("u",[I,M,_]),D},[y,b,w,S]=Cne(i,m,I=>x(g(n,I),{},!1)),j=h.bind(0);return j.jt=I=>r("u",I),j.Nt=()=>{const{W:I,J:M}=i,_=es(I),E=ga(I);b(),l(),es(M,_),ga(M,E)},j.qt=i,[(I,M)=>{const _=Hx(t,I,M);return S(_),x(g(_,w(),M),I,!!M)},j,()=>{o(),y(),c()}]},{round:Qj}=Math,kne=e=>{const{width:t,height:n}=Es(e),{w:r,h:o}=Nd(e);return{x:Qj(t)/r||1,y:Qj(n)/o||1}},jne=(e,t,n)=>{const r=t.scrollbars,{button:o,isPrimary:s,pointerType:i}=e,{pointers:l}=r;return o===0&&s&&r[n?"dragScroll":"clickScroll"]&&(l||[]).includes(i)},Ine=(e,t)=>Gn(e,"mousedown",Gn.bind(0,t,"click",m8,{C:!0,$:!0}),{$:!0}),Yj="pointerup pointerleave pointercancel lostpointercapture",_ne=(e,t,n,r,o,s,i)=>{const{B:l}=Ur(),{Ft:c,Gt:p,Xt:h}=r,m=`scroll${i?"Left":"Top"}`,g=`client${i?"X":"Y"}`,x=i?"width":"height",y=i?"left":"top",b=i?"w":"h",w=i?"x":"y",S=(j,I)=>M=>{const{Tt:_}=s(),E=Nd(p)[b]-Nd(c)[b],R=I*M/E*_[w],O=Td(h)&&i?l.n||l.i?1:-1:1;o[m]=j+R*O};return Gn(p,"pointerdown",j=>{const I=bc(j.target,`.${t2}`)===c,M=I?c:p;if(el(t,Xo,Tj,!0),jne(j,e,I)){const _=!I&&j.shiftKey,E=()=>Es(c),D=()=>Es(p),R=(F,X)=>(F||E())[y]-(X||D())[y],A=S(o[m]||0,1/kne(o)[w]),O=j[g],T=E(),K=D(),L=T[x],H=R(T,K)+L/2,U=O-K[y],W=I?0:U-H,z=F=>{Us(Q),M.releasePointerCapture(F.pointerId)},Q=[el.bind(0,t,Xo,Tj),Gn(n,Yj,z),Gn(n,"selectstart",F=>g8(F),{S:!1}),Gn(p,Yj,z),Gn(p,"pointermove",F=>{const X=F[g]-O;(I||_)&&A(W+X)})];if(_)A(W);else if(!I){const F=vl()[ene];F&&Qt(Q,F.O(A,R,W,L,U))}M.setPointerCapture(j.pointerId)}})},Pne=(e,t)=>(n,r,o,s,i,l)=>{const{Xt:c}=n,[p,h]=pc(333),m=!!i.scrollBy;let g=!0;return Us.bind(0,[Gn(c,"pointerenter",()=>{r(Lj,!0)}),Gn(c,"pointerleave pointercancel",()=>{r(Lj)}),Gn(c,"wheel",x=>{const{deltaX:y,deltaY:b,deltaMode:w}=x;m&&g&&w===0&&Ca(c)===s&&i.scrollBy({left:y,top:b,behavior:"smooth"}),g=!1,r(Bj,!0),p(()=>{g=!0,r(Bj)}),g8(x)},{S:!1,$:!0}),Ine(c,o),_ne(e,s,o,n,i,t,l),h])},{min:Wx,max:Zj,abs:Ene,round:Mne}=Math,O8=(e,t,n,r)=>{if(r){const l=n?"x":"y",{Tt:c,zt:p}=r,h=p[l],m=c[l];return Zj(0,Wx(1,h/(h+m)))}const o=n?"width":"height",s=Es(e)[o],i=Es(t)[o];return Zj(0,Wx(1,s/i))},One=(e,t,n,r,o,s)=>{const{B:i}=Ur(),l=s?"x":"y",c=s?"Left":"Top",{Tt:p}=r,h=Mne(p[l]),m=Ene(n[`scroll${c}`]),g=s&&o,x=i.i?m:h-m,b=Wx(1,(g?x:m)/h),w=O8(e,t,s);return 1/w*(1-w)*b},Dne=(e,t,n)=>{const{N:r,L:o}=Ur(),{scrollbars:s}=r(),{slot:i}=s,{ct:l,W:c,Z:p,J:h,lt:m,ot:g,it:x,ut:y}=t,{scrollbars:b}=m?{}:e,{slot:w}=b||{},S=I8([c,p,h],()=>y&&x?c:p,i,w),j=(W,z,Q)=>{const F=Q?va:Qy;Ft(W,X=>{F(X.Xt,z)})},I=(W,z)=>{Ft(W,Q=>{const[F,X]=z(Q);fr(F,X)})},M=(W,z,Q)=>{I(W,F=>{const{Ft:X,Gt:Y}=F;return[X,{[Q?"width":"height"]:`${(100*O8(X,Y,Q,z)).toFixed(3)}%`}]})},_=(W,z,Q)=>{const F=Q?"X":"Y";I(W,X=>{const{Ft:Y,Gt:se,Xt:ae}=X,oe=One(Y,se,g,z,Td(ae),Q);return[Y,{transform:oe===oe?`translate${F}(${(100*oe).toFixed(3)}%)`:""}]})},E=[],D=[],R=[],A=(W,z,Q)=>{const F=Wy(Q),X=F?Q:!0,Y=F?!Q:!0;X&&j(D,W,z),Y&&j(R,W,z)},O=W=>{M(D,W,!0),M(R,W)},T=W=>{_(D,W,!0),_(R,W)},K=W=>{const z=W?Ute:Gte,Q=W?D:R,F=Gy(Q)?$j:"",X=tl(`${Wr} ${z} ${F}`),Y=tl(k8),se=tl(t2),ae={Xt:X,Gt:Y,Ft:se};return o||va(X,Hte),jo(X,Y),jo(Y,se),Qt(Q,ae),Qt(E,[Ns.bind(0,X),n(ae,A,l,p,g,W)]),ae},L=K.bind(0,!0),H=K.bind(0,!1),U=()=>{jo(S,D[0].Xt),jo(S,R[0].Xt),Dm(()=>{A($j)},300)};return L(),H(),[{Ut:O,Wt:T,Zt:A,Jt:{Kt:D,Qt:L,tn:I.bind(0,D)},nn:{Kt:R,Qt:H,tn:I.bind(0,R)}},U,Us.bind(0,E)]},Rne=(e,t,n,r)=>{let o,s,i,l,c,p=0;const h=P8({}),[m]=h,[g,x]=pc(),[y,b]=pc(),[w,S]=pc(100),[j,I]=pc(100),[M,_]=pc(()=>p),[E,D,R]=Dne(e,n.qt,Pne(t,n)),{Z:A,J:O,ot:T,st:K,ut:L,it:H}=n.qt,{Jt:U,nn:W,Zt:z,Ut:Q,Wt:F}=E,{tn:X}=U,{tn:Y}=W,se=te=>{const{Xt:ce}=te,J=L&&!H&&Ca(ce)===O&&ce;return[J,{transform:J?`translate(${es(T)}px, ${ga(T)}px)`:""}]},ae=(te,ce)=>{if(_(),te)z(Fj);else{const J=()=>z(Fj,!0);p>0&&!ce?M(J):J()}},oe=()=>{l=s,l&&ae(!0)},q=[S,_,I,b,x,R,Gn(A,"pointerover",oe,{C:!0}),Gn(A,"pointerenter",oe),Gn(A,"pointerleave",()=>{l=!1,s&&ae(!1)}),Gn(A,"pointermove",()=>{o&&g(()=>{S(),ae(!0),j(()=>{o&&ae(!1)})})}),Gn(K,"scroll",te=>{y(()=>{F(n()),i&&ae(!0),w(()=>{i&&!l&&ae(!1)})}),r(te),L&&X(se),L&&Y(se)})],G=m.bind(0);return G.qt=E,G.Nt=D,[(te,ce,J)=>{const{At:ie,Lt:de,It:me,yt:Ce}=J,{A:ve}=Ur(),pe=Hx(t,te,ce),Re=n(),{Tt:Pe,Ct:Ve,bt:lt}=Re,[Ke,Et]=pe("showNativeOverlaidScrollbars"),[et,ot]=pe("scrollbars.theme"),[ye,Ae]=pe("scrollbars.visibility"),[dt,yt]=pe("scrollbars.autoHide"),[be]=pe("scrollbars.autoHideDelay"),[tt,ct]=pe("scrollbars.dragScroll"),[pt,Oe]=pe("scrollbars.clickScroll"),$e=ie||de||Ce,Wt=me||Ae,ke=Ke&&ve.x&&ve.y,Fe=(Le,Ge)=>{const ht=ye==="visible"||ye==="auto"&&Le==="scroll";return z(Kte,ht,Ge),ht};if(p=be,Et&&z(Vte,ke),ot&&(z(c),z(et,!0),c=et),yt&&(o=dt==="move",s=dt==="leave",i=dt!=="never",ae(!i,!0)),ct&&z(Qte,tt),Oe&&z(Xte,pt),Wt){const Le=Fe(Ve.x,!0),Ge=Fe(Ve.y,!1);z(qte,!(Le&&Ge))}$e&&(Q(Re),F(Re),z(zj,!Pe.x,!0),z(zj,!Pe.y,!1),z(Wte,lt&&!H))},G,Us.bind(0,q)]},D8=(e,t,n)=>{is(e)&&e(t||void 0,n||void 0)},oi=(e,t,n)=>{const{F:r,N:o,Y:s,j:i}=Ur(),l=vl(),c=Mm(e),p=c?e:e.target,h=_8(p);if(t&&!h){let m=!1;const g=L=>{const H=vl()[Zte],U=H&&H.O;return U?U(L,!0):L},x=Sn({},r(),g(t)),[y,b,w]=Jy(n),[S,j,I]=Sne(e,x),[M,_,E]=Rne(e,x,j,L=>w("scroll",[K,L])),D=(L,H)=>S(L,!!H),R=D.bind(0,{},!0),A=s(R),O=i(R),T=L=>{lne(p),A(),O(),E(),I(),m=!0,w("destroyed",[K,!!L]),b()},K={options(L,H){if(L){const U=H?r():{},W=v8(x,Sn(U,g(L)));Ky(W)||(Sn(x,W),D(W))}return Sn({},x)},on:y,off:(L,H)=>{L&&H&&b(L,H)},state(){const{zt:L,Tt:H,Ct:U,Et:W,K:z,St:Q,bt:F}=j();return Sn({},{overflowEdge:L,overflowAmount:H,overflowStyle:U,hasOverflow:W,padding:z,paddingAbsolute:Q,directionRTL:F,destroyed:m})},elements(){const{W:L,Z:H,K:U,J:W,tt:z,ot:Q,st:F}=j.qt,{Jt:X,nn:Y}=_.qt,se=oe=>{const{Ft:q,Gt:G,Xt:te}=oe;return{scrollbar:te,track:G,handle:q}},ae=oe=>{const{Kt:q,Qt:G}=oe,te=se(q[0]);return Sn({},te,{clone:()=>{const ce=se(G());return M({},!0,{}),ce}})};return Sn({},{target:L,host:H,padding:U||W,viewport:W,content:z||W,scrollOffsetElement:Q,scrollEventElement:F,scrollbarHorizontal:ae(X),scrollbarVertical:ae(Y)})},update:L=>D({},L),destroy:T.bind(0)};return j.jt((L,H,U)=>{M(H,U,L)}),ine(p,K),Ft(ao(l),L=>D8(l[L],0,K)),ane(j.qt.it,o().cancel,!c&&e.cancel)?(T(!0),K):(j.Nt(),_.Nt(),w("initialized",[K]),j.jt((L,H,U)=>{const{gt:W,yt:z,vt:Q,At:F,Lt:X,It:Y,wt:se,Ot:ae}=L;w("updated",[K,{updateHints:{sizeChanged:W,directionChanged:z,heightIntrinsicChanged:Q,overflowEdgeChanged:F,overflowAmountChanged:X,overflowStyleChanged:Y,contentMutation:se,hostMutation:ae},changedOptions:H,force:U}])}),K.update(!0),K)}return h};oi.plugin=e=>{Ft(Yte(e),t=>D8(t,oi))};oi.valid=e=>{const t=e&&e.elements,n=is(t)&&t();return $x(n)&&!!_8(n.target)};oi.env=()=>{const{k:e,A:t,I:n,B:r,V:o,L:s,X:i,U:l,N:c,q:p,F:h,G:m}=Ur();return Sn({},{scrollbarsSize:e,scrollbarsOverlaid:t,scrollbarsHiding:n,rtlScrollBehavior:r,flexboxGlue:o,cssCustomProperties:s,staticDefaultInitialization:i,staticDefaultOptions:l,getDefaultInitialization:c,setDefaultInitialization:p,getDefaultOptions:h,setDefaultOptions:m})};const Ane=()=>{if(typeof window>"u"){const p=()=>{};return[p,p]}let e,t;const n=window,r=typeof n.requestIdleCallback=="function",o=n.requestAnimationFrame,s=n.cancelAnimationFrame,i=r?n.requestIdleCallback:o,l=r?n.cancelIdleCallback:s,c=()=>{l(e),s(t)};return[(p,h)=>{c(),e=i(r?()=>{c(),t=o(p)}:p,typeof h=="object"?h:{timeout:2233})},c]},s2=e=>{const{options:t,events:n,defer:r}=e||{},[o,s]=d.useMemo(Ane,[]),i=d.useRef(null),l=d.useRef(r),c=d.useRef(t),p=d.useRef(n);return d.useEffect(()=>{l.current=r},[r]),d.useEffect(()=>{const{current:h}=i;c.current=t,oi.valid(h)&&h.options(t||{},!0)},[t]),d.useEffect(()=>{const{current:h}=i;p.current=n,oi.valid(h)&&h.on(n||{},!0)},[n]),d.useEffect(()=>()=>{var h;s(),(h=i.current)==null||h.destroy()},[]),d.useMemo(()=>[h=>{const m=i.current;if(oi.valid(m))return;const g=l.current,x=c.current||{},y=p.current||{},b=()=>i.current=oi(h,x,y);g?o(b,g):b()},()=>i.current],[])},Tne=(e,t)=>{const{element:n="div",options:r,events:o,defer:s,children:i,...l}=e,c=n,p=d.useRef(null),h=d.useRef(null),[m,g]=s2({options:r,events:o,defer:s});return d.useEffect(()=>{const{current:x}=p,{current:y}=h;return x&&y&&m({target:x,elements:{viewport:y,content:y}}),()=>{var b;return(b=g())==null?void 0:b.destroy()}},[m,n]),d.useImperativeHandle(t,()=>({osInstance:g,getElement:()=>p.current}),[]),B.createElement(c,{"data-overlayscrollbars-initialize":"",ref:p,...l},B.createElement("div",{ref:h},i))},Ug=d.forwardRef(Tne),Nne=e=>{const{boardToDelete:t,setBoardToDelete:n}=e,{t:r}=Z(),o=V(j=>j.config.canRestoreDeletedImagesFromBin),{currentData:s,isFetching:i}=iA((t==null?void 0:t.board_id)??Fr.skipToken),l=d.useMemo(()=>le([xe],j=>{const I=(s??[]).map(_=>$_(j,_));return{imageUsageSummary:{isInitialImage:wo(I,_=>_.isInitialImage),isCanvasImage:wo(I,_=>_.isCanvasImage),isNodesImage:wo(I,_=>_.isNodesImage),isControlNetImage:wo(I,_=>_.isControlNetImage),isIPAdapterImage:wo(I,_=>_.isIPAdapterImage)}}}),[s]),[c,{isLoading:p}]=lA(),[h,{isLoading:m}]=cA(),{imageUsageSummary:g}=V(l),x=d.useCallback(()=>{t&&(c(t.board_id),n(void 0))},[t,c,n]),y=d.useCallback(()=>{t&&(h(t.board_id),n(void 0))},[t,h,n]),b=d.useCallback(()=>{n(void 0)},[n]),w=d.useRef(null),S=d.useMemo(()=>m||p||i,[m,p,i]);return t?a.jsx(pf,{isOpen:!!t,onClose:b,leastDestructiveRef:w,isCentered:!0,children:a.jsx(os,{children:a.jsxs(hf,{children:[a.jsxs(rs,{fontSize:"lg",fontWeight:"bold",children:["Delete ",t.board_name]}),a.jsx(ss,{children:a.jsxs(N,{direction:"column",gap:3,children:[i?a.jsx(Sg,{children:a.jsx(N,{sx:{w:"full",h:32}})}):a.jsx(NM,{imageUsage:g,topMessage:r("boards.topMessage"),bottomMessage:r("boards.bottomMessage")}),a.jsx(ge,{children:"Deleted boards cannot be restored."}),a.jsx(ge,{children:r(o?"gallery.deleteImageBin":"gallery.deleteImagePermanent")})]})}),a.jsx(As,{children:a.jsxs(N,{sx:{justifyContent:"space-between",width:"full",gap:2},children:[a.jsx(it,{ref:w,onClick:b,children:"Cancel"}),a.jsx(it,{colorScheme:"warning",isLoading:S,onClick:x,children:"Delete Board Only"}),a.jsx(it,{colorScheme:"error",isLoading:S,onClick:y,children:"Delete Board and Images"})]})})]})})}):null},$ne=d.memo(Nne),Lne=()=>{const{t:e}=Z(),[t,{isLoading:n}]=uA(),r=e("boards.myBoard"),o=d.useCallback(()=>{t(r)},[t,r]);return a.jsx(ze,{icon:a.jsx(_l,{}),isLoading:n,tooltip:e("boards.addBoard"),"aria-label":e("boards.addBoard"),onClick:o,size:"sm"})},zne=d.memo(Lne);var R8=Jm({displayName:"ExternalLinkIcon",path:a.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[a.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),a.jsx("path",{d:"M15 3h6v6"}),a.jsx("path",{d:"M10 14L21 3"})]})}),Gg=Jm({d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z",displayName:"ChevronUpIcon"}),Fne=Jm({displayName:"CloseIcon",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"}),Bne=Jm({displayName:"DeleteIcon",path:a.jsx("g",{fill:"currentColor",children:a.jsx("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"})})});const Hne=le([xe],({gallery:e})=>{const{boardSearchText:t}=e;return{boardSearchText:t}},Ie),Vne=()=>{const e=ee(),{boardSearchText:t}=V(Hne),n=d.useRef(null),{t:r}=Z(),o=d.useCallback(c=>{e(Tw(c))},[e]),s=d.useCallback(()=>{e(Tw(""))},[e]),i=d.useCallback(c=>{c.key==="Escape"&&s()},[s]),l=d.useCallback(c=>{o(c.target.value)},[o]);return d.useEffect(()=>{n.current&&n.current.focus()},[]),a.jsxs(HP,{children:[a.jsx(ig,{ref:n,placeholder:r("boards.searchBoard"),value:t,onKeyDown:i,onChange:l}),t&&t.length&&a.jsx(ry,{children:a.jsx(Os,{onClick:s,size:"xs",variant:"ghost","aria-label":r("boards.clearSearch"),opacity:.5,icon:a.jsx(Fne,{boxSize:2})})})]})},Wne=d.memo(Vne);function A8(e){return dA(e)}function Une(e){return fA(e)}const T8=(e,t)=>{if(!e||!(t!=null&&t.data.current))return!1;const{actionType:n}=e,{payloadType:r}=t.data.current;if(e.id===t.data.current.id)return!1;switch(n){case"ADD_FIELD_TO_LINEAR":return r==="NODE_FIELD";case"SET_CURRENT_IMAGE":return r==="IMAGE_DTO";case"SET_INITIAL_IMAGE":return r==="IMAGE_DTO";case"SET_CONTROLNET_IMAGE":return r==="IMAGE_DTO";case"SET_IP_ADAPTER_IMAGE":return r==="IMAGE_DTO";case"SET_CANVAS_INITIAL_IMAGE":return r==="IMAGE_DTO";case"SET_NODES_IMAGE":return r==="IMAGE_DTO";case"SET_MULTI_NODES_IMAGE":return r==="IMAGE_DTO"||"IMAGE_DTOS";case"ADD_TO_BATCH":return r==="IMAGE_DTO"||"IMAGE_DTOS";case"ADD_TO_BOARD":{if(!(r==="IMAGE_DTO"||"IMAGE_DTOS"))return!1;if(r==="IMAGE_DTO"){const{imageDTO:s}=t.data.current.payload,i=s.board_id??"none",l=e.context.boardId;return i!==l}return r==="IMAGE_DTOS"}case"REMOVE_FROM_BOARD":{if(!(r==="IMAGE_DTO"||"IMAGE_DTOS"))return!1;if(r==="IMAGE_DTO"){const{imageDTO:s}=t.data.current.payload;return s.board_id!=="none"}return r==="IMAGE_DTOS"}default:return!1}},Gne=e=>{const{isOver:t,label:n="Drop"}=e,r=d.useRef(ai()),{colorMode:o}=_a();return a.jsx(En.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.1}},exit:{opacity:0,transition:{duration:.1}},children:a.jsxs(N,{sx:{position:"absolute",top:0,insetInlineStart:0,w:"full",h:"full"},children:[a.jsx(N,{sx:{position:"absolute",top:0,insetInlineStart:0,w:"full",h:"full",bg:Te("base.700","base.900")(o),opacity:.7,borderRadius:"base",alignItems:"center",justifyContent:"center",transitionProperty:"common",transitionDuration:"0.1s"}}),a.jsx(N,{sx:{position:"absolute",top:.5,insetInlineStart:.5,insetInlineEnd:.5,bottom:.5,opacity:1,borderWidth:2,borderColor:t?Te("base.50","base.50")(o):Te("base.200","base.300")(o),borderRadius:"lg",borderStyle:"dashed",transitionProperty:"common",transitionDuration:"0.1s",alignItems:"center",justifyContent:"center"},children:a.jsx(_e,{sx:{fontSize:"2xl",fontWeight:600,transform:t?"scale(1.1)":"scale(1)",color:t?Te("base.50","base.50")(o):Te("base.200","base.300")(o),transitionProperty:"common",transitionDuration:"0.1s"},children:n})})]})},r.current)},N8=d.memo(Gne),Kne=e=>{const{dropLabel:t,data:n,disabled:r}=e,o=d.useRef(ai()),{isOver:s,setNodeRef:i,active:l}=A8({id:o.current,disabled:r,data:n});return a.jsx(_e,{ref:i,position:"absolute",top:0,insetInlineStart:0,w:"full",h:"full",pointerEvents:l?"auto":"none",children:a.jsx(pr,{children:T8(n,l)&&a.jsx(N8,{isOver:s,label:t})})})},a2=d.memo(Kne),qne=({isSelected:e,isHovered:t})=>a.jsx(_e,{className:"selection-box",sx:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,borderRadius:"base",opacity:e?1:.7,transitionProperty:"common",transitionDuration:"0.1s",pointerEvents:"none",shadow:e?t?"hoverSelected.light":"selected.light":t?"hoverUnselected.light":void 0,_dark:{shadow:e?t?"hoverSelected.dark":"selected.dark":t?"hoverUnselected.dark":void 0}}}),i2=d.memo(qne),Xne=()=>a.jsx(N,{sx:{position:"absolute",insetInlineEnd:0,top:0,p:1},children:a.jsx(Ws,{variant:"solid",sx:{bg:"accent.400",_dark:{bg:"accent.500"}},children:"auto"})}),$8=d.memo(Xne);function l2(e){const[t,n]=d.useState(!1),[r,o]=d.useState(!1),[s,i]=d.useState(!1),[l,c]=d.useState([0,0]),p=d.useRef(null),h=V(g=>g.ui.globalContextMenuCloseTrigger);d.useEffect(()=>{if(t)setTimeout(()=>{o(!0),setTimeout(()=>{i(!0)})});else{i(!1);const g=setTimeout(()=>{o(t)},1e3);return()=>clearTimeout(g)}},[t]),d.useEffect(()=>{n(!1),i(!1),o(!1)},[h]),XF("contextmenu",g=>{var x;(x=p.current)!=null&&x.contains(g.target)||g.target===p.current?(g.preventDefault(),n(!0),c([g.pageX,g.pageY])):n(!1)});const m=d.useCallback(()=>{var g,x;(x=(g=e.menuProps)==null?void 0:g.onClose)==null||x.call(g),n(!1)},[e.menuProps]);return a.jsxs(a.Fragment,{children:[e.children(p),r&&a.jsx(su,{...e.portalProps,children:a.jsxs(dg,{isOpen:s,gutter:0,...e.menuProps,onClose:m,children:[a.jsx(fg,{"aria-hidden":!0,w:1,h:1,style:{position:"absolute",left:l[0],top:l[1],cursor:"default"},...e.menuButtonProps}),e.renderMenu()]})})]})}const Kg=e=>{const{boardName:t}=Yd(void 0,{selectFromResult:({data:n})=>{const r=n==null?void 0:n.find(s=>s.board_id===e);return{boardName:(r==null?void 0:r.board_name)||"Uncategorized"}}});return t},Qne=({board:e,setBoardToDelete:t})=>{const n=d.useCallback(()=>{t&&t(e)},[e,t]);return a.jsxs(a.Fragment,{children:[e.image_count>0&&a.jsx(a.Fragment,{}),a.jsx(tn,{sx:{color:"error.600",_dark:{color:"error.300"}},icon:a.jsx(Vr,{}),onClick:n,children:"Delete Board"})]})},Yne=d.memo(Qne),Zne=()=>a.jsx(a.Fragment,{}),Jne=d.memo(Zne),ere=({board:e,board_id:t,setBoardToDelete:n,children:r})=>{const o=ee(),s=d.useMemo(()=>le(xe,({gallery:g})=>{const x=g.autoAddBoardId===t,y=g.autoAssignBoardOnClick;return{isAutoAdd:x,autoAssignBoardOnClick:y}},Ie),[t]),{isAutoAdd:i,autoAssignBoardOnClick:l}=V(s),c=Kg(t),p=d.useCallback(()=>{o(Km(t))},[t,o]),h=d.useCallback(g=>{g.preventDefault()},[]),{t:m}=Z();return a.jsx(l2,{menuProps:{size:"sm",isLazy:!0},menuButtonProps:{bg:"transparent",_hover:{bg:"transparent"}},renderMenu:()=>a.jsx(ul,{sx:{visibility:"visible !important"},motionProps:Hc,onContextMenu:h,children:a.jsxs(Pd,{title:c,children:[a.jsx(tn,{icon:a.jsx(_l,{}),isDisabled:i||l,onClick:p,children:m("boards.menuItemAutoAdd")}),!e&&a.jsx(Jne,{}),e&&a.jsx(Yne,{board:e,setBoardToDelete:n})]})}),children:r})},L8=d.memo(ere),tre=({board:e,isSelected:t,setBoardToDelete:n})=>{const r=ee(),o=d.useMemo(()=>le(xe,({gallery:A})=>{const O=e.board_id===A.autoAddBoardId,T=A.autoAssignBoardOnClick;return{isSelectedForAutoAdd:O,autoAssignBoardOnClick:T}},Ie),[e.board_id]),{isSelectedForAutoAdd:s,autoAssignBoardOnClick:i}=V(o),[l,c]=d.useState(!1),p=d.useCallback(()=>{c(!0)},[]),h=d.useCallback(()=>{c(!1)},[]),{data:m}=H_(e.board_id),{data:g}=V_(e.board_id),x=d.useMemo(()=>{if(!(!m||!g))return`${m} image${m>1?"s":""}, ${g} asset${g>1?"s":""}`},[g,m]),{currentData:y}=oo(e.cover_image_name??Fr.skipToken),{board_name:b,board_id:w}=e,[S,j]=d.useState(b),I=d.useCallback(()=>{r(W_(w)),i&&r(Km(w))},[w,i,r]),[M,{isLoading:_}]=pA(),E=d.useMemo(()=>({id:w,actionType:"ADD_TO_BOARD",context:{boardId:w}}),[w]),D=d.useCallback(async A=>{if(!A.trim()){j(b);return}if(A!==b)try{const{board_name:O}=await M({board_id:w,changes:{board_name:A}}).unwrap();j(O)}catch{j(b)}},[w,b,M]),R=d.useCallback(A=>{j(A)},[]);return a.jsx(_e,{sx:{w:"full",h:"full",touchAction:"none",userSelect:"none"},children:a.jsx(N,{onMouseOver:p,onMouseOut:h,sx:{position:"relative",justifyContent:"center",alignItems:"center",aspectRatio:"1/1",w:"full",h:"full"},children:a.jsx(L8,{board:e,board_id:w,setBoardToDelete:n,children:A=>a.jsx(Ht,{label:x,openDelay:1e3,hasArrow:!0,children:a.jsxs(N,{ref:A,onClick:I,sx:{w:"full",h:"full",position:"relative",justifyContent:"center",alignItems:"center",borderRadius:"base",cursor:"pointer",bg:"base.200",_dark:{bg:"base.800"}},children:[y!=null&&y.thumbnail_url?a.jsx(Pa,{src:y==null?void 0:y.thumbnail_url,draggable:!1,sx:{objectFit:"cover",w:"full",h:"full",maxH:"full",borderRadius:"base",borderBottomRadius:"lg"}}):a.jsx(N,{sx:{w:"full",h:"full",justifyContent:"center",alignItems:"center"},children:a.jsx($n,{boxSize:12,as:Vee,sx:{mt:-6,opacity:.7,color:"base.500",_dark:{color:"base.500"}}})}),s&&a.jsx($8,{}),a.jsx(i2,{isSelected:t,isHovered:l}),a.jsx(N,{sx:{position:"absolute",bottom:0,left:0,p:1,justifyContent:"center",alignItems:"center",w:"full",maxW:"full",borderBottomRadius:"base",bg:t?"accent.400":"base.500",color:t?"base.50":"base.100",_dark:{bg:t?"accent.500":"base.600",color:t?"base.50":"base.100"},lineHeight:"short",fontSize:"xs"},children:a.jsxs(og,{value:S,isDisabled:_,submitOnBlur:!0,onChange:R,onSubmit:D,sx:{w:"full"},children:[a.jsx(rg,{sx:{p:0,fontWeight:t?700:500,textAlign:"center",overflow:"hidden",textOverflow:"ellipsis"},noOfLines:1}),a.jsx(ng,{sx:{p:0,_focusVisible:{p:0,textAlign:"center",boxShadow:"none"}}})]})}),a.jsx(a2,{data:E,dropLabel:a.jsx(ge,{fontSize:"md",children:"Move"})})]})})})})})},nre=d.memo(tre),rre=le(xe,({gallery:e})=>{const{autoAddBoardId:t,autoAssignBoardOnClick:n}=e;return{autoAddBoardId:t,autoAssignBoardOnClick:n}},Ie),z8=d.memo(({isSelected:e})=>{const t=ee(),{autoAddBoardId:n,autoAssignBoardOnClick:r}=V(rre),o=Kg("none"),s=d.useCallback(()=>{t(W_("none")),r&&t(Km("none"))},[t,r]),[i,l]=d.useState(!1),c=d.useCallback(()=>{l(!0)},[]),p=d.useCallback(()=>{l(!1)},[]),h=d.useMemo(()=>({id:"no_board",actionType:"REMOVE_FROM_BOARD"}),[]);return a.jsx(_e,{sx:{w:"full",h:"full",touchAction:"none",userSelect:"none"},children:a.jsx(N,{onMouseOver:c,onMouseOut:p,sx:{position:"relative",justifyContent:"center",alignItems:"center",aspectRatio:"1/1",borderRadius:"base",w:"full",h:"full"},children:a.jsx(L8,{board_id:"none",children:m=>a.jsxs(N,{ref:m,onClick:s,sx:{w:"full",h:"full",position:"relative",justifyContent:"center",alignItems:"center",borderRadius:"base",cursor:"pointer",bg:"base.200",_dark:{bg:"base.800"}},children:[a.jsx(N,{sx:{w:"full",h:"full",justifyContent:"center",alignItems:"center"},children:a.jsx(Pa,{src:yb,alt:"invoke-ai-logo",sx:{opacity:.4,filter:"grayscale(1)",mt:-6,w:16,h:16,minW:16,minH:16,userSelect:"none"}})}),n==="none"&&a.jsx($8,{}),a.jsx(N,{sx:{position:"absolute",bottom:0,left:0,p:1,justifyContent:"center",alignItems:"center",w:"full",maxW:"full",borderBottomRadius:"base",bg:e?"accent.400":"base.500",color:e?"base.50":"base.100",_dark:{bg:e?"accent.500":"base.600",color:e?"base.50":"base.100"},lineHeight:"short",fontSize:"xs",fontWeight:e?700:500},children:o}),a.jsx(i2,{isSelected:e,isHovered:i}),a.jsx(a2,{data:h,dropLabel:a.jsx(ge,{fontSize:"md",children:"Move"})})]})})})})});z8.displayName="HoverableBoard";const ore=d.memo(z8),sre=le([xe],({gallery:e})=>{const{selectedBoardId:t,boardSearchText:n}=e;return{selectedBoardId:t,boardSearchText:n}},Ie),are=e=>{const{isOpen:t}=e,{selectedBoardId:n,boardSearchText:r}=V(sre),{data:o}=Yd(),s=r?o==null?void 0:o.filter(c=>c.board_name.toLowerCase().includes(r.toLowerCase())):o,[i,l]=d.useState();return a.jsxs(a.Fragment,{children:[a.jsx(of,{in:t,animateOpacity:!0,children:a.jsxs(N,{layerStyle:"first",sx:{flexDir:"column",gap:2,p:2,mt:2,borderRadius:"base"},children:[a.jsxs(N,{sx:{gap:2,alignItems:"center"},children:[a.jsx(Wne,{}),a.jsx(zne,{})]}),a.jsx(Ug,{defer:!0,style:{height:"100%",width:"100%"},options:{scrollbars:{visibility:"auto",autoHide:"move",autoHideDelay:1300,theme:"os-theme-dark"}},children:a.jsxs(pi,{className:"list-container",sx:{gridTemplateColumns:"repeat(auto-fill, minmax(108px, 1fr));",maxH:346},children:[a.jsx(jd,{sx:{p:1.5},children:a.jsx(ore,{isSelected:n==="none"})}),s&&s.map(c=>a.jsx(jd,{sx:{p:1.5},children:a.jsx(nre,{board:c,isSelected:n===c.board_id,setBoardToDelete:l})},c.board_id))]})})]})}),a.jsx($ne,{boardToDelete:i,setBoardToDelete:l})]})},ire=d.memo(are),lre=le([xe],e=>{const{selectedBoardId:t}=e.gallery;return{selectedBoardId:t}},Ie),cre=e=>{const{isOpen:t,onToggle:n}=e,{selectedBoardId:r}=V(lre),o=Kg(r),s=d.useMemo(()=>o.length>20?`${o.substring(0,20)}...`:o,[o]);return a.jsxs(N,{as:fi,onClick:n,size:"sm",sx:{position:"relative",gap:2,w:"full",justifyContent:"space-between",alignItems:"center",px:2},children:[a.jsx(ge,{noOfLines:1,sx:{fontWeight:600,w:"100%",textAlign:"center",color:"base.800",_dark:{color:"base.200"}},children:s}),a.jsx(Gg,{sx:{transform:t?"rotate(0deg)":"rotate(180deg)",transitionProperty:"common",transitionDuration:"normal"}})]})},ure=d.memo(cre),dre=e=>{const{triggerComponent:t,children:n,hasArrow:r=!0,isLazy:o=!0,...s}=e;return a.jsxs(gf,{isLazy:o,...s,children:[a.jsx(Cg,{children:t}),a.jsxs(vf,{shadow:"dark-lg",children:[r&&a.jsx(w3,{}),n]})]})},If=d.memo(dre);function fre(e){return Ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 16c1.671 0 3-1.331 3-3s-1.329-3-3-3-3 1.331-3 3 1.329 3 3 3z"}},{tag:"path",attr:{d:"M20.817 11.186a8.94 8.94 0 0 0-1.355-3.219 9.053 9.053 0 0 0-2.43-2.43 8.95 8.95 0 0 0-3.219-1.355 9.028 9.028 0 0 0-1.838-.18V2L8 5l3.975 3V6.002c.484-.002.968.044 1.435.14a6.961 6.961 0 0 1 2.502 1.053 7.005 7.005 0 0 1 1.892 1.892A6.967 6.967 0 0 1 19 13a7.032 7.032 0 0 1-.55 2.725 7.11 7.11 0 0 1-.644 1.188 7.2 7.2 0 0 1-.858 1.039 7.028 7.028 0 0 1-3.536 1.907 7.13 7.13 0 0 1-2.822 0 6.961 6.961 0 0 1-2.503-1.054 7.002 7.002 0 0 1-1.89-1.89A6.996 6.996 0 0 1 5 13H3a9.02 9.02 0 0 0 1.539 5.034 9.096 9.096 0 0 0 2.428 2.428A8.95 8.95 0 0 0 12 22a9.09 9.09 0 0 0 1.814-.183 9.014 9.014 0 0 0 3.218-1.355 8.886 8.886 0 0 0 1.331-1.099 9.228 9.228 0 0 0 1.1-1.332A8.952 8.952 0 0 0 21 13a9.09 9.09 0 0 0-.183-1.814z"}}]})(e)}const F8=je((e,t)=>{const[n,r]=d.useState(!1),{label:o,value:s,min:i=1,max:l=100,step:c=1,onChange:p,tooltipSuffix:h="",withSliderMarks:m=!1,withInput:g=!1,isInteger:x=!1,inputWidth:y=16,withReset:b=!1,hideTooltip:w=!1,isCompact:S=!1,isDisabled:j=!1,sliderMarks:I,handleReset:M,sliderFormControlProps:_,sliderFormLabelProps:E,sliderMarkProps:D,sliderTrackProps:R,sliderThumbProps:A,sliderNumberInputProps:O,sliderNumberInputFieldProps:T,sliderNumberInputStepperProps:K,sliderTooltipProps:L,sliderIAIIconButtonProps:H,...U}=e,W=ee(),{t:z}=Z(),[Q,F]=d.useState(String(s));d.useEffect(()=>{F(s)},[s]);const X=d.useMemo(()=>O!=null&&O.min?O.min:i,[i,O==null?void 0:O.min]),Y=d.useMemo(()=>O!=null&&O.max?O.max:l,[l,O==null?void 0:O.max]),se=d.useCallback(J=>{p(J)},[p]),ae=d.useCallback(J=>{J.target.value===""&&(J.target.value=String(X));const ie=ol(x?Math.floor(Number(J.target.value)):Number(Q),X,Y),de=td(ie,c);p(de),F(de)},[x,Q,X,Y,p,c]),oe=d.useCallback(J=>{F(J)},[]),q=d.useCallback(()=>{M&&M()},[M]),G=d.useCallback(J=>{J.target instanceof HTMLDivElement&&J.target.focus()},[]),te=d.useCallback(J=>{J.shiftKey&&W(zr(!0))},[W]),ce=d.useCallback(J=>{J.shiftKey||W(zr(!1))},[W]);return a.jsxs(qt,{ref:t,onClick:G,sx:S?{display:"flex",flexDirection:"row",alignItems:"center",columnGap:4,margin:0,padding:0}:{},isDisabled:j,..._,children:[o&&a.jsx(kn,{sx:g?{mb:-1.5}:{},...E,children:o}),a.jsxs(cg,{w:"100%",gap:2,alignItems:"center",children:[a.jsxs(yy,{"aria-label":o,value:s,min:i,max:l,step:c,onChange:se,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),focusThumbOnChange:!1,isDisabled:j,...U,children:[m&&!I&&a.jsxs(a.Fragment,{children:[a.jsx(dc,{value:i,sx:{insetInlineStart:"0 !important",insetInlineEnd:"unset !important"},...D,children:i}),a.jsx(dc,{value:l,sx:{insetInlineStart:"unset !important",insetInlineEnd:"0 !important"},...D,children:l})]}),m&&I&&a.jsx(a.Fragment,{children:I.map((J,ie)=>ie===0?a.jsx(dc,{value:J,sx:{insetInlineStart:"0 !important",insetInlineEnd:"unset !important"},...D,children:J},J):ie===I.length-1?a.jsx(dc,{value:J,sx:{insetInlineStart:"unset !important",insetInlineEnd:"0 !important"},...D,children:J},J):a.jsx(dc,{value:J,sx:{transform:"translateX(-50%)"},...D,children:J},J))}),a.jsx(wy,{...R,children:a.jsx(Sy,{})}),a.jsx(Ht,{hasArrow:!0,placement:"top",isOpen:n,label:`${s}${h}`,hidden:w,...L,children:a.jsx(Cy,{...A,zIndex:0})})]}),g&&a.jsxs(mg,{min:X,max:Y,step:c,value:Q,onChange:oe,onBlur:ae,focusInputOnChange:!1,...O,children:[a.jsx(vg,{onKeyDown:te,onKeyUp:ce,minWidth:y,...T}),a.jsxs(gg,{...K,children:[a.jsx(bg,{onClick:()=>p(Number(Q))}),a.jsx(xg,{onClick:()=>p(Number(Q))})]})]}),b&&a.jsx(ze,{size:"sm","aria-label":z("accessibility.reset"),tooltip:z("accessibility.reset"),icon:a.jsx(fre,{}),isDisabled:j,onClick:q,...H})]})]})});F8.displayName="IAISlider";const nt=d.memo(F8),B8=d.forwardRef(({label:e,tooltip:t,description:n,disabled:r,...o},s)=>a.jsx(Ht,{label:t,placement:"top",hasArrow:!0,openDelay:500,children:a.jsx(_e,{ref:s,...o,children:a.jsxs(_e,{children:[a.jsx(Kc,{children:e}),n&&a.jsx(Kc,{size:"xs",color:"base.600",children:n})]})})}));B8.displayName="IAIMantineSelectItemWithTooltip";const ki=d.memo(B8),pre=le([xe],({gallery:e})=>{const{autoAddBoardId:t,autoAssignBoardOnClick:n}=e;return{autoAddBoardId:t,autoAssignBoardOnClick:n}},Ie),hre=()=>{const e=ee(),{t}=Z(),{autoAddBoardId:n,autoAssignBoardOnClick:r}=V(pre),o=d.useRef(null),{boards:s,hasBoards:i}=Yd(void 0,{selectFromResult:({data:c})=>{const p=[{label:"None",value:"none"}];return c==null||c.forEach(({board_id:h,board_name:m})=>{p.push({label:m,value:h})}),{boards:p,hasBoards:p.length>1}}}),l=d.useCallback(c=>{c&&e(Km(c))},[e]);return a.jsx(rn,{label:t("boards.autoAddBoard"),inputRef:o,autoFocus:!0,placeholder:t("boards.selectBoard"),value:n,data:s,nothingFound:t("boards.noMatching"),itemComponent:ki,disabled:!i||r,filter:(c,p)=>{var h;return((h=p.label)==null?void 0:h.toLowerCase().includes(c.toLowerCase().trim()))||p.value.toLowerCase().includes(c.toLowerCase().trim())},onChange:l})},mre=d.memo(hre),gre=e=>{const{label:t,...n}=e,{colorMode:r}=_a();return a.jsx(lf,{colorScheme:"accent",...n,children:a.jsx(ge,{sx:{fontSize:"sm",color:Te("base.800","base.200")(r)},children:t})})},Cr=d.memo(gre),vre=le([xe],e=>{const{galleryImageMinimumWidth:t,shouldAutoSwitch:n,autoAssignBoardOnClick:r}=e.gallery;return{galleryImageMinimumWidth:t,shouldAutoSwitch:n,autoAssignBoardOnClick:r}},Ie),xre=()=>{const e=ee(),{t}=Z(),{galleryImageMinimumWidth:n,shouldAutoSwitch:r,autoAssignBoardOnClick:o}=V(vre),s=d.useCallback(c=>{e(Nw(c))},[e]),i=d.useCallback(()=>{e(Nw(64))},[e]),l=d.useCallback(c=>{e(hA(c.target.checked))},[e]);return a.jsx(If,{triggerComponent:a.jsx(ze,{tooltip:t("gallery.gallerySettings"),"aria-label":t("gallery.gallerySettings"),size:"sm",icon:a.jsx(e8,{})}),children:a.jsxs(N,{direction:"column",gap:2,children:[a.jsx(nt,{value:n,onChange:s,min:45,max:256,hideTooltip:!0,label:t("gallery.galleryImageSize"),withReset:!0,handleReset:i}),a.jsx(pn,{label:t("gallery.autoSwitchNewImages"),isChecked:r,onChange:l}),a.jsx(Cr,{label:t("gallery.autoAssignBoardOnClick"),isChecked:o,onChange:c=>e(mA(c.target.checked))}),a.jsx(mre,{})]})})},bre=d.memo(xre),yre=e=>e.image?a.jsx(Sg,{sx:{w:`${e.image.width}px`,h:"auto",objectFit:"contain",aspectRatio:`${e.image.width}/${e.image.height}`}}):a.jsx(N,{sx:{opacity:.7,w:"full",h:"full",alignItems:"center",justifyContent:"center",borderRadius:"base",bg:"base.200",_dark:{bg:"base.900"}},children:a.jsx(xi,{size:"xl"})}),er=e=>{const{icon:t=ml,boxSize:n=16,sx:r,...o}=e;return a.jsxs(N,{sx:{w:"full",h:"full",alignItems:"center",justifyContent:"center",borderRadius:"base",flexDir:"column",gap:2,userSelect:"none",opacity:.7,color:"base.700",_dark:{color:"base.500"},...r},...o,children:[t&&a.jsx($n,{as:t,boxSize:n,opacity:.7}),e.label&&a.jsx(ge,{textAlign:"center",children:e.label})]})},qg=0,ji=1,hu=2,H8=4;function V8(e,t){return n=>e(t(n))}function Cre(e,t){return t(e)}function W8(e,t){return n=>e(t,n)}function Jj(e,t){return()=>e(t)}function Xg(e,t){return t(e),e}function vn(...e){return e}function wre(e){e()}function eI(e){return()=>e}function Sre(...e){return()=>{e.map(wre)}}function c2(e){return e!==void 0}function mu(){}function Zt(e,t){return e(ji,t)}function St(e,t){e(qg,t)}function u2(e){e(hu)}function Io(e){return e(H8)}function st(e,t){return Zt(e,W8(t,qg))}function wa(e,t){const n=e(ji,r=>{n(),t(r)});return n}function Nt(){const e=[];return(t,n)=>{switch(t){case hu:e.splice(0,e.length);return;case ji:return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)};case qg:e.slice().forEach(r=>{r(n)});return;default:throw new Error(`unrecognized action ${t}`)}}}function He(e){let t=e;const n=Nt();return(r,o)=>{switch(r){case ji:o(t);break;case qg:t=o;break;case H8:return t}return n(r,o)}}function kre(e){let t,n;const r=()=>t&&t();return function(o,s){switch(o){case ji:return s?n===s?void 0:(r(),n=s,t=Zt(e,s),t):(r(),mu);case hu:r(),n=null;return;default:throw new Error(`unrecognized action ${o}`)}}}function no(e){return Xg(Nt(),t=>st(e,t))}function wr(e,t){return Xg(He(t),n=>st(e,n))}function jre(...e){return t=>e.reduceRight(Cre,t)}function Ee(e,...t){const n=jre(...t);return(r,o)=>{switch(r){case ji:return Zt(e,n(o));case hu:u2(e);return}}}function U8(e,t){return e===t}function hn(e=U8){let t;return n=>r=>{e(t,r)||(t=r,n(r))}}function vt(e){return t=>n=>{e(n)&&t(n)}}function Qe(e){return t=>V8(t,e)}function sa(e){return t=>()=>t(e)}function Ms(e,t){return n=>r=>n(t=e(t,r))}function Zc(e){return t=>n=>{e>0?e--:t(n)}}function si(e){let t=null,n;return r=>o=>{t=o,!n&&(n=setTimeout(()=>{n=void 0,r(t)},e))}}function tI(e){let t,n;return r=>o=>{t=o,n&&clearTimeout(n),n=setTimeout(()=>{r(t)},e)}}function _t(...e){const t=new Array(e.length);let n=0,r=null;const o=Math.pow(2,e.length)-1;return e.forEach((s,i)=>{const l=Math.pow(2,i);Zt(s,c=>{const p=n;n=n|l,t[i]=c,p!==o&&n===o&&r&&(r(),r=null)})}),s=>i=>{const l=()=>s([i].concat(t));n===o?l():r=l}}function nI(...e){return function(t,n){switch(t){case ji:return Sre(...e.map(r=>Zt(r,n)));case hu:return;default:throw new Error(`unrecognized action ${t}`)}}}function gt(e,t=U8){return Ee(e,hn(t))}function Zn(...e){const t=Nt(),n=new Array(e.length);let r=0;const o=Math.pow(2,e.length)-1;return e.forEach((s,i)=>{const l=Math.pow(2,i);Zt(s,c=>{n[i]=c,r=r|l,r===o&&St(t,n)})}),function(s,i){switch(s){case ji:return r===o&&i(n),Zt(t,i);case hu:return u2(t);default:throw new Error(`unrecognized action ${s}`)}}}function Xt(e,t=[],{singleton:n}={singleton:!0}){return{id:Ire(),constructor:e,dependencies:t,singleton:n}}const Ire=()=>Symbol();function _re(e){const t=new Map,n=({id:r,constructor:o,dependencies:s,singleton:i})=>{if(i&&t.has(r))return t.get(r);const l=o(s.map(c=>n(c)));return i&&t.set(r,l),l};return n(e)}function Pre(e,t){const n={},r={};let o=0;const s=e.length;for(;o<s;)r[e[o]]=1,o+=1;for(const i in t)r.hasOwnProperty(i)||(n[i]=t[i]);return n}const sh=typeof document<"u"?B.useLayoutEffect:B.useEffect;function G8(e,t,n){const r=Object.keys(t.required||{}),o=Object.keys(t.optional||{}),s=Object.keys(t.methods||{}),i=Object.keys(t.events||{}),l=B.createContext({});function c(b,w){b.propsReady&&St(b.propsReady,!1);for(const S of r){const j=b[t.required[S]];St(j,w[S])}for(const S of o)if(S in w){const j=b[t.optional[S]];St(j,w[S])}b.propsReady&&St(b.propsReady,!0)}function p(b){return s.reduce((w,S)=>(w[S]=j=>{const I=b[t.methods[S]];St(I,j)},w),{})}function h(b){return i.reduce((w,S)=>(w[S]=kre(b[t.events[S]]),w),{})}return{Component:B.forwardRef((b,w)=>{const{children:S,...j}=b,[I]=B.useState(()=>Xg(_re(e),_=>c(_,j))),[M]=B.useState(Jj(h,I));return sh(()=>{for(const _ of i)_ in j&&Zt(M[_],j[_]);return()=>{Object.values(M).map(u2)}},[j,M,I]),sh(()=>{c(I,j)}),B.useImperativeHandle(w,eI(p(I))),B.createElement(l.Provider,{value:I},n?B.createElement(n,Pre([...r,...o,...i],j),S):S)}),usePublisher:b=>B.useCallback(W8(St,B.useContext(l)[b]),[b]),useEmitterValue:b=>{const S=B.useContext(l)[b],[j,I]=B.useState(Jj(Io,S));return sh(()=>Zt(S,M=>{M!==j&&I(eI(M))}),[S,j]),j},useEmitter:(b,w)=>{const j=B.useContext(l)[b];sh(()=>Zt(j,w),[w,j])}}}const Ere=typeof document<"u"?B.useLayoutEffect:B.useEffect,Mre=Ere;var ro=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(ro||{});const Ore={0:"debug",1:"log",2:"warn",3:"error"},Dre=()=>typeof globalThis>"u"?window:globalThis,Ii=Xt(()=>{const e=He(3);return{log:He((n,r,o=1)=>{var s;const i=(s=Dre().VIRTUOSO_LOG_LEVEL)!=null?s:Io(e);o>=i&&console[Ore[o]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",n,r)}),logLevel:e}},[],{singleton:!0});function d2(e,t=!0){const n=B.useRef(null);let r=o=>{};if(typeof ResizeObserver<"u"){const o=B.useMemo(()=>new ResizeObserver(s=>{const i=s[0].target;i.offsetParent!==null&&e(i)}),[e]);r=s=>{s&&t?(o.observe(s),n.current=s):(n.current&&o.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:r}}function Pl(e,t=!0){return d2(e,t).callbackRef}function Rre(e,t,n,r,o,s,i){const l=B.useCallback(c=>{const p=Are(c.children,t,"offsetHeight",o);let h=c.parentElement;for(;!h.dataset.virtuosoScroller;)h=h.parentElement;const m=h.lastElementChild.dataset.viewportType==="window",g=i?i.scrollTop:m?window.pageYOffset||document.documentElement.scrollTop:h.scrollTop,x=i?i.scrollHeight:m?document.documentElement.scrollHeight:h.scrollHeight,y=i?i.offsetHeight:m?window.innerHeight:h.offsetHeight;r({scrollTop:Math.max(g,0),scrollHeight:x,viewportHeight:y}),s==null||s(Tre("row-gap",getComputedStyle(c).rowGap,o)),p!==null&&e(p)},[e,t,o,s,i,r]);return d2(l,n)}function Are(e,t,n,r){const o=e.length;if(o===0)return null;const s=[];for(let i=0;i<o;i++){const l=e.item(i);if(!l||l.dataset.index===void 0)continue;const c=parseInt(l.dataset.index),p=parseFloat(l.dataset.knownSize),h=t(l,n);if(h===0&&r("Zero-sized element, this should not happen",{child:l},ro.ERROR),h===p)continue;const m=s[s.length-1];s.length===0||m.size!==h||m.endIndex!==c-1?s.push({startIndex:c,endIndex:c,size:h}):s[s.length-1].endIndex++}return s}function Tre(e,t,n){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,ro.WARN),t==="normal"?0:parseInt(t??"0",10)}function vi(e,t){return Math.round(e.getBoundingClientRect()[t])}function K8(e,t){return Math.abs(e-t)<1.01}function q8(e,t,n,r=mu,o){const s=B.useRef(null),i=B.useRef(null),l=B.useRef(null),c=B.useCallback(m=>{const g=m.target,x=g===window||g===document,y=x?window.pageYOffset||document.documentElement.scrollTop:g.scrollTop,b=x?document.documentElement.scrollHeight:g.scrollHeight,w=x?window.innerHeight:g.offsetHeight,S=()=>{e({scrollTop:Math.max(y,0),scrollHeight:b,viewportHeight:w})};m.suppressFlushSync?S():gA.flushSync(S),i.current!==null&&(y===i.current||y<=0||y===b-w)&&(i.current=null,t(!0),l.current&&(clearTimeout(l.current),l.current=null))},[e,t]);B.useEffect(()=>{const m=o||s.current;return r(o||s.current),c({target:m,suppressFlushSync:!0}),m.addEventListener("scroll",c,{passive:!0}),()=>{r(null),m.removeEventListener("scroll",c)}},[s,c,n,r,o]);function p(m){const g=s.current;if(!g||"offsetHeight"in g&&g.offsetHeight===0)return;const x=m.behavior==="smooth";let y,b,w;g===window?(b=Math.max(vi(document.documentElement,"height"),document.documentElement.scrollHeight),y=window.innerHeight,w=document.documentElement.scrollTop):(b=g.scrollHeight,y=vi(g,"height"),w=g.scrollTop);const S=b-y;if(m.top=Math.ceil(Math.max(Math.min(S,m.top),0)),K8(y,b)||m.top===w){e({scrollTop:w,scrollHeight:b,viewportHeight:y}),x&&t(!0);return}x?(i.current=m.top,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,i.current=null,t(!0)},1e3)):i.current=null,g.scrollTo(m)}function h(m){s.current.scrollBy(m)}return{scrollerRef:s,scrollByCallback:h,scrollToCallback:p}}const jr=Xt(()=>{const e=Nt(),t=Nt(),n=He(0),r=Nt(),o=He(0),s=Nt(),i=Nt(),l=He(0),c=He(0),p=He(0),h=He(0),m=Nt(),g=Nt(),x=He(!1);return st(Ee(e,Qe(({scrollTop:y})=>y)),t),st(Ee(e,Qe(({scrollHeight:y})=>y)),i),st(t,o),{scrollContainerState:e,scrollTop:t,viewportHeight:s,headerHeight:l,fixedHeaderHeight:c,fixedFooterHeight:p,footerHeight:h,scrollHeight:i,smoothScrollTargetReached:r,scrollTo:m,scrollBy:g,statefulScrollTop:o,deviation:n,scrollingInProgress:x}},[],{singleton:!0}),$d={lvl:0};function X8(e,t,n,r=$d,o=$d){return{k:e,v:t,lvl:n,l:r,r:o}}function nn(e){return e===$d}function Nc(){return $d}function Ux(e,t){if(nn(e))return $d;const{k:n,l:r,r:o}=e;if(t===n){if(nn(r))return o;if(nn(o))return r;{const[s,i]=Q8(r);return wh(Un(e,{k:s,v:i,l:Y8(r)}))}}else return t<n?wh(Un(e,{l:Ux(r,t)})):wh(Un(e,{r:Ux(o,t)}))}function Ld(e,t){if(!nn(e))return t===e.k?e.v:t<e.k?Ld(e.l,t):Ld(e.r,t)}function cs(e,t,n="k"){if(nn(e))return[-1/0,void 0];if(Number(e[n])===t)return[e.k,e.v];if(Number(e[n])<t){const r=cs(e.r,t,n);return r[0]===-1/0?[e.k,e.v]:r}return cs(e.l,t,n)}function eo(e,t,n){return nn(e)?X8(t,n,1):t===e.k?Un(e,{k:t,v:n}):t<e.k?rI(Un(e,{l:eo(e.l,t,n)})):rI(Un(e,{r:eo(e.r,t,n)}))}function Gx(e,t,n){if(nn(e))return[];const{k:r,v:o,l:s,r:i}=e;let l=[];return r>t&&(l=l.concat(Gx(s,t,n))),r>=t&&r<=n&&l.push({k:r,v:o}),r<=n&&(l=l.concat(Gx(i,t,n))),l}function Gi(e){return nn(e)?[]:[...Gi(e.l),{k:e.k,v:e.v},...Gi(e.r)]}function Q8(e){return nn(e.r)?[e.k,e.v]:Q8(e.r)}function Y8(e){return nn(e.r)?e.l:wh(Un(e,{r:Y8(e.r)}))}function Un(e,t){return X8(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function x1(e){return nn(e)||e.lvl>e.r.lvl}function rI(e){return Kx(J8(e))}function wh(e){const{l:t,r:n,lvl:r}=e;if(n.lvl>=r-1&&t.lvl>=r-1)return e;if(r>n.lvl+1){if(x1(t))return J8(Un(e,{lvl:r-1}));if(!nn(t)&&!nn(t.r))return Un(t.r,{l:Un(t,{r:t.r.l}),r:Un(e,{l:t.r.r,lvl:r-1}),lvl:r});throw new Error("Unexpected empty nodes")}else{if(x1(e))return Kx(Un(e,{lvl:r-1}));if(!nn(n)&&!nn(n.l)){const o=n.l,s=x1(o)?n.lvl-1:n.lvl;return Un(o,{l:Un(e,{r:o.l,lvl:r-1}),r:Kx(Un(n,{l:o.r,lvl:s})),lvl:o.lvl+1})}else throw new Error("Unexpected empty nodes")}}function Qg(e,t,n){if(nn(e))return[];const r=cs(e,t)[0];return Nre(Gx(e,r,n))}function Z8(e,t){const n=e.length;if(n===0)return[];let{index:r,value:o}=t(e[0]);const s=[];for(let i=1;i<n;i++){const{index:l,value:c}=t(e[i]);s.push({start:r,end:l-1,value:o}),r=l,o=c}return s.push({start:r,end:1/0,value:o}),s}function Nre(e){return Z8(e,({k:t,v:n})=>({index:t,value:n}))}function Kx(e){const{r:t,lvl:n}=e;return!nn(t)&&!nn(t.r)&&t.lvl===n&&t.r.lvl===n?Un(t,{l:Un(e,{r:t.l}),lvl:n+1}):e}function J8(e){const{l:t}=e;return!nn(t)&&t.lvl===e.lvl?Un(t,{r:Un(e,{l:t.r})}):e}function Nm(e,t,n,r=0){let o=e.length-1;for(;r<=o;){const s=Math.floor((r+o)/2),i=e[s],l=n(i,t);if(l===0)return s;if(l===-1){if(o-r<2)return s-1;o=s-1}else{if(o===r)return s;r=s+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function eO(e,t,n){return e[Nm(e,t,n)]}function $re(e,t,n,r){const o=Nm(e,t,r),s=Nm(e,n,r,o);return e.slice(o,s+1)}const f2=Xt(()=>({recalcInProgress:He(!1)}),[],{singleton:!0});function Lre(e){const{size:t,startIndex:n,endIndex:r}=e;return o=>o.start===n&&(o.end===r||o.end===1/0)&&o.value===t}function oI(e,t){let n=0,r=0;for(;n<e;)n+=t[r+1]-t[r]-1,r++;return r-(n===e?0:1)}function zre(e,t){let n=nn(e)?0:1/0;for(const r of t){const{size:o,startIndex:s,endIndex:i}=r;if(n=Math.min(n,s),nn(e)){e=eo(e,0,o);continue}const l=Qg(e,s-1,i+1);if(l.some(Lre(r)))continue;let c=!1,p=!1;for(const{start:h,end:m,value:g}of l)c?(i>=h||o===g)&&(e=Ux(e,h)):(p=g!==o,c=!0),m>i&&i>=h&&g!==o&&(e=eo(e,i+1,g));p&&(e=eo(e,s,o))}return[e,n]}function Fre(){return{offsetTree:[],sizeTree:Nc(),groupOffsetTree:Nc(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]}}function p2({index:e},t){return t===e?0:t<e?-1:1}function Bre({offset:e},t){return t===e?0:t<e?-1:1}function Hre(e){return{index:e.index,value:e}}function Vre(e,t,n,r=0){return r>0&&(t=Math.max(t,eO(e,r,p2).offset)),Z8($re(e,t,n,Bre),Hre)}function qx(e,t,n,r){let o=e,s=0,i=0,l=0,c=0;if(t!==0){c=Nm(o,t-1,p2),l=o[c].offset;const h=cs(n,t-1);s=h[0],i=h[1],o.length&&o[c].size===cs(n,t)[1]&&(c-=1),o=o.slice(0,c+1)}else o=[];for(const{start:p,value:h}of Qg(n,t,1/0)){const m=p-s,g=m*i+l+m*r;o.push({offset:g,size:h,index:p}),s=p,l=g,i=h}return{offsetTree:o,lastIndex:s,lastOffset:l,lastSize:i}}function Wre(e,[t,n,r,o]){t.length>0&&r("received item sizes",t,ro.DEBUG);const s=e.sizeTree;let i=s,l=0;if(n.length>0&&nn(s)&&t.length===2){const g=t[0].size,x=t[1].size;i=n.reduce((y,b)=>eo(eo(y,b,g),b+1,x),i)}else[i,l]=zre(i,t);if(i===s)return e;const{offsetTree:c,lastIndex:p,lastSize:h,lastOffset:m}=qx(e.offsetTree,l,i,o);return{sizeTree:i,offsetTree:c,lastIndex:p,lastOffset:m,lastSize:h,groupOffsetTree:n.reduce((g,x)=>eo(g,x,zd(x,c,o)),Nc()),groupIndices:n}}function zd(e,t,n){if(t.length===0)return 0;const{offset:r,index:o,size:s}=eO(t,e,p2),i=e-o,l=s*i+(i-1)*n+r;return l>0?l+n:l}function Ure(e){return typeof e.groupIndex<"u"}function tO(e,t,n){if(Ure(e))return t.groupIndices[e.groupIndex]+1;{const r=e.index==="LAST"?n:e.index;let o=nO(r,t);return o=Math.max(0,o,Math.min(n,o)),o}}function nO(e,t){if(!Yg(t))return e;let n=0;for(;t.groupIndices[n]<=e+n;)n++;return e+n}function Yg(e){return!nn(e.groupOffsetTree)}function Gre(e){return Gi(e).map(({k:t,v:n},r,o)=>{const s=o[r+1],i=s?s.k-1:1/0;return{startIndex:t,endIndex:i,size:n}})}const Kre={offsetHeight:"height",offsetWidth:"width"},Gs=Xt(([{log:e},{recalcInProgress:t}])=>{const n=Nt(),r=Nt(),o=wr(r,0),s=Nt(),i=Nt(),l=He(0),c=He([]),p=He(void 0),h=He(void 0),m=He((_,E)=>vi(_,Kre[E])),g=He(void 0),x=He(0),y=Fre(),b=wr(Ee(n,_t(c,e,x),Ms(Wre,y),hn()),y),w=wr(Ee(c,hn(),Ms((_,E)=>({prev:_.current,current:E}),{prev:[],current:[]}),Qe(({prev:_})=>_)),[]);st(Ee(c,vt(_=>_.length>0),_t(b,x),Qe(([_,E,D])=>{const R=_.reduce((A,O,T)=>eo(A,O,zd(O,E.offsetTree,D)||T),Nc());return{...E,groupIndices:_,groupOffsetTree:R}})),b),st(Ee(r,_t(b),vt(([_,{lastIndex:E}])=>_<E),Qe(([_,{lastIndex:E,lastSize:D}])=>[{startIndex:_,endIndex:E,size:D}])),n),st(p,h);const S=wr(Ee(p,Qe(_=>_===void 0)),!0);st(Ee(h,vt(_=>_!==void 0&&nn(Io(b).sizeTree)),Qe(_=>[{startIndex:0,endIndex:0,size:_}])),n);const j=no(Ee(n,_t(b),Ms(({sizes:_},[E,D])=>({changed:D!==_,sizes:D}),{changed:!1,sizes:y}),Qe(_=>_.changed)));Zt(Ee(l,Ms((_,E)=>({diff:_.prev-E,prev:E}),{diff:0,prev:0}),Qe(_=>_.diff)),_=>{const{groupIndices:E}=Io(b);if(_>0)St(t,!0),St(s,_+oI(_,E));else if(_<0){const D=Io(w);D.length>0&&(_-=oI(-_,D)),St(i,_)}}),Zt(Ee(l,_t(e)),([_,E])=>{_<0&&E("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:l},ro.ERROR)});const I=no(s);st(Ee(s,_t(b),Qe(([_,E])=>{const D=E.groupIndices.length>0,R=[],A=E.lastSize;if(D){const O=Ld(E.sizeTree,0);let T=0,K=0;for(;T<_;){const U=E.groupIndices[K],W=E.groupIndices.length===K+1?1/0:E.groupIndices[K+1]-U-1;R.push({startIndex:U,endIndex:U,size:O}),R.push({startIndex:U+1,endIndex:U+1+W-1,size:A}),K++,T+=W+1}const L=Gi(E.sizeTree);return T!==_&&L.shift(),L.reduce((U,{k:W,v:z})=>{let Q=U.ranges;return U.prevSize!==0&&(Q=[...U.ranges,{startIndex:U.prevIndex,endIndex:W+_-1,size:U.prevSize}]),{ranges:Q,prevIndex:W+_,prevSize:z}},{ranges:R,prevIndex:_,prevSize:0}).ranges}return Gi(E.sizeTree).reduce((O,{k:T,v:K})=>({ranges:[...O.ranges,{startIndex:O.prevIndex,endIndex:T+_-1,size:O.prevSize}],prevIndex:T+_,prevSize:K}),{ranges:[],prevIndex:0,prevSize:A}).ranges})),n);const M=no(Ee(i,_t(b,x),Qe(([_,{offsetTree:E},D])=>{const R=-_;return zd(R,E,D)})));return st(Ee(i,_t(b,x),Qe(([_,E,D])=>{if(E.groupIndices.length>0){if(nn(E.sizeTree))return E;let A=Nc();const O=Io(w);let T=0,K=0,L=0;for(;T<-_;){L=O[K];const U=O[K+1]-L-1;K++,T+=U+1}if(A=Gi(E.sizeTree).reduce((U,{k:W,v:z})=>eo(U,Math.max(0,W+_),z),A),T!==-_){const U=Ld(E.sizeTree,L);A=eo(A,0,U);const W=cs(E.sizeTree,-_+1)[1];A=eo(A,1,W)}return{...E,sizeTree:A,...qx(E.offsetTree,0,A,D)}}else{const A=Gi(E.sizeTree).reduce((O,{k:T,v:K})=>eo(O,Math.max(0,T+_),K),Nc());return{...E,sizeTree:A,...qx(E.offsetTree,0,A,D)}}})),b),{data:g,totalCount:r,sizeRanges:n,groupIndices:c,defaultItemSize:h,fixedItemSize:p,unshiftWith:s,shiftWith:i,shiftWithOffset:M,beforeUnshiftWith:I,firstItemIndex:l,gap:x,sizes:b,listRefresh:j,statefulTotalCount:o,trackItemSizes:S,itemSize:m}},vn(Ii,f2),{singleton:!0}),qre=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function rO(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!qre)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const _f=Xt(([{sizes:e,totalCount:t,listRefresh:n,gap:r},{scrollingInProgress:o,viewportHeight:s,scrollTo:i,smoothScrollTargetReached:l,headerHeight:c,footerHeight:p,fixedHeaderHeight:h,fixedFooterHeight:m},{log:g}])=>{const x=Nt(),y=He(0);let b=null,w=null,S=null;function j(){b&&(b(),b=null),S&&(S(),S=null),w&&(clearTimeout(w),w=null),St(o,!1)}return st(Ee(x,_t(e,s,t,y,c,p,g),_t(r,h,m),Qe(([[I,M,_,E,D,R,A,O],T,K,L])=>{const H=rO(I),{align:U,behavior:W,offset:z}=H,Q=E-1,F=tO(H,M,Q);let X=zd(F,M.offsetTree,T)+R;U==="end"?(X+=K+cs(M.sizeTree,F)[1]-_+L,F===Q&&(X+=A)):U==="center"?X+=(K+cs(M.sizeTree,F)[1]-_+L)/2:X-=D,z&&(X+=z);const Y=se=>{j(),se?(O("retrying to scroll to",{location:I},ro.DEBUG),St(x,I)):O("list did not change, scroll successful",{},ro.DEBUG)};if(j(),W==="smooth"){let se=!1;S=Zt(n,ae=>{se=se||ae}),b=wa(l,()=>{Y(se)})}else b=wa(Ee(n,Xre(150)),Y);return w=setTimeout(()=>{j()},1200),St(o,!0),O("scrolling from index to",{index:F,top:X,behavior:W},ro.DEBUG),{top:X,behavior:W}})),i),{scrollToIndex:x,topListHeight:y}},vn(Gs,jr,Ii),{singleton:!0});function Xre(e){return t=>{const n=setTimeout(()=>{t(!1)},e);return r=>{r&&(t(!0),clearTimeout(n))}}}const Fd="up",md="down",Qre="none",Yre={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},Zre=0,Pf=Xt(([{scrollContainerState:e,scrollTop:t,viewportHeight:n,headerHeight:r,footerHeight:o,scrollBy:s}])=>{const i=He(!1),l=He(!0),c=Nt(),p=Nt(),h=He(4),m=He(Zre),g=wr(Ee(nI(Ee(gt(t),Zc(1),sa(!0)),Ee(gt(t),Zc(1),sa(!1),tI(100))),hn()),!1),x=wr(Ee(nI(Ee(s,sa(!0)),Ee(s,sa(!1),tI(200))),hn()),!1);st(Ee(Zn(gt(t),gt(m)),Qe(([j,I])=>j<=I),hn()),l),st(Ee(l,si(50)),p);const y=no(Ee(Zn(e,gt(n),gt(r),gt(o),gt(h)),Ms((j,[{scrollTop:I,scrollHeight:M},_,E,D,R])=>{const A=I+_-M>-R,O={viewportHeight:_,scrollTop:I,scrollHeight:M};if(A){let K,L;return I>j.state.scrollTop?(K="SCROLLED_DOWN",L=j.state.scrollTop-I):(K="SIZE_DECREASED",L=j.state.scrollTop-I||j.scrollTopDelta),{atBottom:!0,state:O,atBottomBecause:K,scrollTopDelta:L}}let T;return O.scrollHeight>j.state.scrollHeight?T="SIZE_INCREASED":_<j.state.viewportHeight?T="VIEWPORT_HEIGHT_DECREASING":I<j.state.scrollTop?T="SCROLLING_UPWARDS":T="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:T,state:O}},Yre),hn((j,I)=>j&&j.atBottom===I.atBottom))),b=wr(Ee(e,Ms((j,{scrollTop:I,scrollHeight:M,viewportHeight:_})=>{if(K8(j.scrollHeight,M))return{scrollTop:I,scrollHeight:M,jump:0,changed:!1};{const E=M-(I+_)<1;return j.scrollTop!==I&&E?{scrollHeight:M,scrollTop:I,jump:j.scrollTop-I,changed:!0}:{scrollHeight:M,scrollTop:I,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),vt(j=>j.changed),Qe(j=>j.jump)),0);st(Ee(y,Qe(j=>j.atBottom)),i),st(Ee(i,si(50)),c);const w=He(md);st(Ee(e,Qe(({scrollTop:j})=>j),hn(),Ms((j,I)=>Io(x)?{direction:j.direction,prevScrollTop:I}:{direction:I<j.prevScrollTop?Fd:md,prevScrollTop:I},{direction:md,prevScrollTop:0}),Qe(j=>j.direction)),w),st(Ee(e,si(50),sa(Qre)),w);const S=He(0);return st(Ee(g,vt(j=>!j),sa(0)),S),st(Ee(t,si(100),_t(g),vt(([j,I])=>!!I),Ms(([j,I],[M])=>[I,M],[0,0]),Qe(([j,I])=>I-j)),S),{isScrolling:g,isAtTop:l,isAtBottom:i,atBottomState:y,atTopStateChange:p,atBottomStateChange:c,scrollDirection:w,atBottomThreshold:h,atTopThreshold:m,scrollVelocity:S,lastJumpDueToItemResize:b}},vn(jr)),_i=Xt(([{log:e}])=>{const t=He(!1),n=no(Ee(t,vt(r=>r),hn()));return Zt(t,r=>{r&&Io(e)("props updated",{},ro.DEBUG)}),{propsReady:t,didMount:n}},vn(Ii),{singleton:!0});function h2(e,t){e==0?t():requestAnimationFrame(()=>h2(e-1,t))}function m2(e,t){const n=t-1;return typeof e=="number"?e:e.index==="LAST"?n:e.index}const Ef=Xt(([{sizes:e,listRefresh:t,defaultItemSize:n},{scrollTop:r},{scrollToIndex:o},{didMount:s}])=>{const i=He(!0),l=He(0),c=He(!1);return st(Ee(s,_t(l),vt(([p,h])=>!!h),sa(!1)),i),Zt(Ee(Zn(t,s),_t(i,e,n,c),vt(([[,p],h,{sizeTree:m},g,x])=>p&&(!nn(m)||c2(g))&&!h&&!x),_t(l)),([,p])=>{St(c,!0),h2(3,()=>{wa(r,()=>St(i,!0)),St(o,p)})}),{scrolledToInitialItem:i,initialTopMostItemIndex:l}},vn(Gs,jr,_f,_i),{singleton:!0});function sI(e){return e?e==="smooth"?"smooth":"auto":!1}const Jre=(e,t)=>typeof e=="function"?sI(e(t)):t&&sI(e),eoe=Xt(([{totalCount:e,listRefresh:t},{isAtBottom:n,atBottomState:r},{scrollToIndex:o},{scrolledToInitialItem:s},{propsReady:i,didMount:l},{log:c},{scrollingInProgress:p}])=>{const h=He(!1),m=Nt();let g=null;function x(b){St(o,{index:"LAST",align:"end",behavior:b})}Zt(Ee(Zn(Ee(gt(e),Zc(1)),l),_t(gt(h),n,s,p),Qe(([[b,w],S,j,I,M])=>{let _=w&&I,E="auto";return _&&(E=Jre(S,j||M),_=_&&!!E),{totalCount:b,shouldFollow:_,followOutputBehavior:E}}),vt(({shouldFollow:b})=>b)),({totalCount:b,followOutputBehavior:w})=>{g&&(g(),g=null),g=wa(t,()=>{Io(c)("following output to ",{totalCount:b},ro.DEBUG),x(w),g=null})});function y(b){const w=wa(r,S=>{b&&!S.atBottom&&S.notAtBottomBecause==="SIZE_INCREASED"&&!g&&(Io(c)("scrolling to bottom due to increased size",{},ro.DEBUG),x("auto"))});setTimeout(w,100)}return Zt(Ee(Zn(gt(h),e,i),vt(([b,,w])=>b&&w),Ms(({value:b},[,w])=>({refreshed:b===w,value:w}),{refreshed:!1,value:0}),vt(({refreshed:b})=>b),_t(h,e)),([,b])=>{y(b!==!1)}),Zt(m,()=>{y(Io(h)!==!1)}),Zt(Zn(gt(h),r),([b,w])=>{b&&!w.atBottom&&w.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&x("auto")}),{followOutput:h,autoscrollToBottom:m}},vn(Gs,Pf,_f,Ef,_i,Ii,jr));function toe(e){return e.reduce((t,n)=>(t.groupIndices.push(t.totalCount),t.totalCount+=n+1,t),{totalCount:0,groupIndices:[]})}const oO=Xt(([{totalCount:e,groupIndices:t,sizes:n},{scrollTop:r,headerHeight:o}])=>{const s=Nt(),i=Nt(),l=no(Ee(s,Qe(toe)));return st(Ee(l,Qe(c=>c.totalCount)),e),st(Ee(l,Qe(c=>c.groupIndices)),t),st(Ee(Zn(r,n,o),vt(([c,p])=>Yg(p)),Qe(([c,p,h])=>cs(p.groupOffsetTree,Math.max(c-h,0),"v")[0]),hn(),Qe(c=>[c])),i),{groupCounts:s,topItemsIndexes:i}},vn(Gs,jr));function Bd(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}function sO(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}const $m="top",Lm="bottom",aI="none";function iI(e,t,n){return typeof e=="number"?n===Fd&&t===$m||n===md&&t===Lm?e:0:n===Fd?t===$m?e.main:e.reverse:t===Lm?e.main:e.reverse}function lI(e,t){return typeof e=="number"?e:e[t]||0}const g2=Xt(([{scrollTop:e,viewportHeight:t,deviation:n,headerHeight:r,fixedHeaderHeight:o}])=>{const s=Nt(),i=He(0),l=He(0),c=He(0),p=wr(Ee(Zn(gt(e),gt(t),gt(r),gt(s,Bd),gt(c),gt(i),gt(o),gt(n),gt(l)),Qe(([h,m,g,[x,y],b,w,S,j,I])=>{const M=h-j,_=w+S,E=Math.max(g-M,0);let D=aI;const R=lI(I,$m),A=lI(I,Lm);return x-=j,x+=g+S,y+=g+S,y-=j,x>h+_-R&&(D=Fd),y<h-E+m+A&&(D=md),D!==aI?[Math.max(M-g-iI(b,$m,D)-R,0),M-E-S+m+iI(b,Lm,D)+A]:null}),vt(h=>h!=null),hn(Bd)),[0,0]);return{listBoundary:s,overscan:c,topListHeight:i,increaseViewportBy:l,visibleRange:p}},vn(jr),{singleton:!0});function noe(e,t,n){if(Yg(t)){const r=nO(e,t);return[{index:cs(t.groupOffsetTree,r)[0],size:0,offset:0},{index:r,size:0,offset:0,data:n&&n[0]}]}return[{index:e,size:0,offset:0,data:n&&n[0]}]}const cI={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function uI(e,t,n){if(e.length===0)return[];if(!Yg(t))return e.map(p=>({...p,index:p.index+n,originalIndex:p.index}));const r=e[0].index,o=e[e.length-1].index,s=[],i=Qg(t.groupOffsetTree,r,o);let l,c=0;for(const p of e){(!l||l.end<p.index)&&(l=i.shift(),c=t.groupIndices.indexOf(l.start));let h;p.index===l.start?h={type:"group",index:c}:h={index:p.index-(c+1)+n,groupIndex:c},s.push({...h,size:p.size,offset:p.offset,originalIndex:p.index,data:p.data})}return s}function Sh(e,t,n,r,o,s){const{lastSize:i,lastOffset:l,lastIndex:c}=o;let p=0,h=0;if(e.length>0){p=e[0].offset;const b=e[e.length-1];h=b.offset+b.size}const m=n-c,g=l+m*i+(m-1)*r,x=p,y=g-h;return{items:uI(e,o,s),topItems:uI(t,o,s),topListHeight:t.reduce((b,w)=>w.size+b,0),offsetTop:p,offsetBottom:y,top:x,bottom:h,totalCount:n,firstItemIndex:s}}const El=Xt(([{sizes:e,totalCount:t,data:n,firstItemIndex:r,gap:o},s,{visibleRange:i,listBoundary:l,topListHeight:c},{scrolledToInitialItem:p,initialTopMostItemIndex:h},{topListHeight:m},g,{didMount:x},{recalcInProgress:y}])=>{const b=He([]),w=Nt();st(s.topItemsIndexes,b);const S=wr(Ee(Zn(x,y,gt(i,Bd),gt(t),gt(e),gt(h),p,gt(b),gt(r),gt(o),n),vt(([_,E,,D,,,,,,,R])=>{const A=R&&R.length!==D;return _&&!E&&!A}),Qe(([,,[_,E],D,R,A,O,T,K,L,H])=>{const U=R,{sizeTree:W,offsetTree:z}=U;if(D===0||_===0&&E===0)return{...cI,totalCount:D};if(nn(W))return Sh(noe(m2(A,D),U,H),[],D,L,U,K);const Q=[];if(T.length>0){const ae=T[0],oe=T[T.length-1];let q=0;for(const G of Qg(W,ae,oe)){const te=G.value,ce=Math.max(G.start,ae),J=Math.min(G.end,oe);for(let ie=ce;ie<=J;ie++)Q.push({index:ie,size:te,offset:q,data:H&&H[ie]}),q+=te}}if(!O)return Sh([],Q,D,L,U,K);const F=T.length>0?T[T.length-1]+1:0,X=Vre(z,_,E,F);if(X.length===0)return null;const Y=D-1,se=Xg([],ae=>{for(const oe of X){const q=oe.value;let G=q.offset,te=oe.start;const ce=q.size;if(q.offset<_){te+=Math.floor((_-q.offset+L)/(ce+L));const ie=te-oe.start;G+=ie*ce+ie*L}te<F&&(G+=(F-te)*ce,te=F);const J=Math.min(oe.end,Y);for(let ie=te;ie<=J&&!(G>=E);ie++)ae.push({index:ie,size:ce,offset:G,data:H&&H[ie]}),G+=ce+L}});return Sh(se,Q,D,L,U,K)}),vt(_=>_!==null),hn()),cI);st(Ee(n,vt(c2),Qe(_=>_==null?void 0:_.length)),t),st(Ee(S,Qe(_=>_.topListHeight)),m),st(m,c),st(Ee(S,Qe(_=>[_.top,_.bottom])),l),st(Ee(S,Qe(_=>_.items)),w);const j=no(Ee(S,vt(({items:_})=>_.length>0),_t(t,n),vt(([{items:_},E])=>_[_.length-1].originalIndex===E-1),Qe(([,_,E])=>[_-1,E]),hn(Bd),Qe(([_])=>_))),I=no(Ee(S,si(200),vt(({items:_,topItems:E})=>_.length>0&&_[0].originalIndex===E.length),Qe(({items:_})=>_[0].index),hn())),M=no(Ee(S,vt(({items:_})=>_.length>0),Qe(({items:_})=>{let E=0,D=_.length-1;for(;_[E].type==="group"&&E<D;)E++;for(;_[D].type==="group"&&D>E;)D--;return{startIndex:_[E].index,endIndex:_[D].index}}),hn(sO)));return{listState:S,topItemsIndexes:b,endReached:j,startReached:I,rangeChanged:M,itemsRendered:w,...g}},vn(Gs,oO,g2,Ef,_f,Pf,_i,f2),{singleton:!0}),roe=Xt(([{sizes:e,firstItemIndex:t,data:n,gap:r},{initialTopMostItemIndex:o},{listState:s},{didMount:i}])=>{const l=He(0);return st(Ee(i,_t(l),vt(([,c])=>c!==0),_t(o,e,t,r,n),Qe(([[,c],p,h,m,g,x=[]])=>{let y=0;if(h.groupIndices.length>0)for(const j of h.groupIndices){if(j-y>=c)break;y++}const b=c+y,w=m2(p,b),S=Array.from({length:b}).map((j,I)=>({index:I+w,size:0,offset:0,data:x[I+w]}));return Sh(S,[],b,g,h,m)})),s),{initialItemCount:l}},vn(Gs,Ef,El,_i),{singleton:!0}),aO=Xt(([{scrollVelocity:e}])=>{const t=He(!1),n=Nt(),r=He(!1);return st(Ee(e,_t(r,t,n),vt(([o,s])=>!!s),Qe(([o,s,i,l])=>{const{exit:c,enter:p}=s;if(i){if(c(o,l))return!1}else if(p(o,l))return!0;return i}),hn()),t),Zt(Ee(Zn(t,e,n),_t(r)),([[o,s,i],l])=>o&&l&&l.change&&l.change(s,i)),{isSeeking:t,scrollSeekConfiguration:r,scrollVelocity:e,scrollSeekRangeChanged:n}},vn(Pf),{singleton:!0}),ooe=Xt(([{topItemsIndexes:e}])=>{const t=He(0);return st(Ee(t,vt(n=>n>0),Qe(n=>Array.from({length:n}).map((r,o)=>o))),e),{topItemCount:t}},vn(El)),iO=Xt(([{footerHeight:e,headerHeight:t,fixedHeaderHeight:n,fixedFooterHeight:r},{listState:o}])=>{const s=Nt(),i=wr(Ee(Zn(e,r,t,n,o),Qe(([l,c,p,h,m])=>l+c+p+h+m.offsetBottom+m.bottom)),0);return st(gt(i),s),{totalListHeight:i,totalListHeightChanged:s}},vn(jr,El),{singleton:!0});function lO(e){let t=!1,n;return()=>(t||(t=!0,n=e()),n)}const soe=lO(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),aoe=Xt(([{scrollBy:e,scrollTop:t,deviation:n,scrollingInProgress:r},{isScrolling:o,isAtBottom:s,scrollDirection:i,lastJumpDueToItemResize:l},{listState:c},{beforeUnshiftWith:p,shiftWithOffset:h,sizes:m,gap:g},{log:x},{recalcInProgress:y}])=>{const b=no(Ee(c,_t(l),Ms(([,S,j,I],[{items:M,totalCount:_,bottom:E,offsetBottom:D},R])=>{const A=E+D;let O=0;return j===_&&S.length>0&&M.length>0&&(M[0].originalIndex===0&&S[0].originalIndex===0||(O=A-I,O!==0&&(O+=R))),[O,M,_,A]},[0,[],0,0]),vt(([S])=>S!==0),_t(t,i,r,s,x,y),vt(([,S,j,I,,,M])=>!M&&!I&&S!==0&&j===Fd),Qe(([[S],,,,,j])=>(j("Upward scrolling compensation",{amount:S},ro.DEBUG),S))));function w(S){S>0?(St(e,{top:-S,behavior:"auto"}),St(n,0)):(St(n,0),St(e,{top:-S,behavior:"auto"}))}return Zt(Ee(b,_t(n,o)),([S,j,I])=>{I&&soe()?St(n,j-S):w(-S)}),Zt(Ee(Zn(wr(o,!1),n,y),vt(([S,j,I])=>!S&&!I&&j!==0),Qe(([S,j])=>j),si(1)),w),st(Ee(h,Qe(S=>({top:-S}))),e),Zt(Ee(p,_t(m,g),Qe(([S,{lastSize:j,groupIndices:I,sizeTree:M},_])=>{function E(D){return D*(j+_)}if(I.length===0)return E(S);{let D=0;const R=Ld(M,0);let A=0,O=0;for(;A<S;){A++,D+=R;let T=I.length===O+1?1/0:I[O+1]-I[O]-1;A+T>S&&(D-=R,T=S-A+1),A+=T,D+=E(T),O++}return D}})),S=>{St(n,S),requestAnimationFrame(()=>{St(e,{top:S}),requestAnimationFrame(()=>{St(n,0),St(y,!1)})})}),{deviation:n}},vn(jr,Pf,El,Gs,Ii,f2)),ioe=Xt(([{didMount:e},{scrollTo:t},{listState:n}])=>{const r=He(0);return Zt(Ee(e,_t(r),vt(([,o])=>o!==0),Qe(([,o])=>({top:o}))),o=>{wa(Ee(n,Zc(1),vt(s=>s.items.length>1)),()=>{requestAnimationFrame(()=>{St(t,o)})})}),{initialScrollTop:r}},vn(_i,jr,El),{singleton:!0}),loe=Xt(([{viewportHeight:e},{totalListHeight:t}])=>{const n=He(!1),r=wr(Ee(Zn(n,e,t),vt(([o])=>o),Qe(([,o,s])=>Math.max(0,o-s)),si(0),hn()),0);return{alignToBottom:n,paddingTopAddition:r}},vn(jr,iO),{singleton:!0}),v2=Xt(([{scrollTo:e,scrollContainerState:t}])=>{const n=Nt(),r=Nt(),o=Nt(),s=He(!1),i=He(void 0);return st(Ee(Zn(n,r),Qe(([{viewportHeight:l,scrollTop:c,scrollHeight:p},{offsetTop:h}])=>({scrollTop:Math.max(0,c-h),scrollHeight:p,viewportHeight:l}))),t),st(Ee(e,_t(r),Qe(([l,{offsetTop:c}])=>({...l,top:l.top+c}))),o),{useWindowScroll:s,customScrollParent:i,windowScrollContainerState:n,windowViewportRect:r,windowScrollTo:o}},vn(jr)),coe=({itemTop:e,itemBottom:t,viewportTop:n,viewportBottom:r,locationParams:{behavior:o,align:s,...i}})=>e<n?{...i,behavior:o,align:s??"start"}:t>r?{...i,behavior:o,align:s??"end"}:null,uoe=Xt(([{sizes:e,totalCount:t,gap:n},{scrollTop:r,viewportHeight:o,headerHeight:s,fixedHeaderHeight:i,fixedFooterHeight:l,scrollingInProgress:c},{scrollToIndex:p}])=>{const h=Nt();return st(Ee(h,_t(e,o,t,s,i,l,r),_t(n),Qe(([[m,g,x,y,b,w,S,j],I])=>{const{done:M,behavior:_,align:E,calculateViewLocation:D=coe,...R}=m,A=tO(m,g,y-1),O=zd(A,g.offsetTree,I)+b+w,T=O+cs(g.sizeTree,A)[1],K=j+w,L=j+x-S,H=D({itemTop:O,itemBottom:T,viewportTop:K,viewportBottom:L,locationParams:{behavior:_,align:E,...R}});return H?M&&wa(Ee(c,vt(U=>U===!1),Zc(Io(c)?1:2)),M):M&&M(),H}),vt(m=>m!==null)),p),{scrollIntoView:h}},vn(Gs,jr,_f,El,Ii),{singleton:!0}),doe=Xt(([{sizes:e,sizeRanges:t},{scrollTop:n},{initialTopMostItemIndex:r},{didMount:o},{useWindowScroll:s,windowScrollContainerState:i,windowViewportRect:l}])=>{const c=Nt(),p=He(void 0),h=He(null),m=He(null);return st(i,h),st(l,m),Zt(Ee(c,_t(e,n,s,h,m)),([g,x,y,b,w,S])=>{const j=Gre(x.sizeTree);b&&w!==null&&S!==null&&(y=w.scrollTop-S.offsetTop),g({ranges:j,scrollTop:y})}),st(Ee(p,vt(c2),Qe(foe)),r),st(Ee(o,_t(p),vt(([,g])=>g!==void 0),hn(),Qe(([,g])=>g.ranges)),t),{getState:c,restoreStateFrom:p}},vn(Gs,jr,Ef,_i,v2));function foe(e){return{offset:e.scrollTop,index:0,align:"start"}}const poe=Xt(([e,t,n,r,o,s,i,l,c,p])=>({...e,...t,...n,...r,...o,...s,...i,...l,...c,...p}),vn(g2,roe,_i,aO,iO,ioe,loe,v2,uoe,Ii)),hoe=Xt(([{totalCount:e,sizeRanges:t,fixedItemSize:n,defaultItemSize:r,trackItemSizes:o,itemSize:s,data:i,firstItemIndex:l,groupIndices:c,statefulTotalCount:p,gap:h,sizes:m},{initialTopMostItemIndex:g,scrolledToInitialItem:x},y,b,w,{listState:S,topItemsIndexes:j,...I},{scrollToIndex:M},_,{topItemCount:E},{groupCounts:D},R])=>(st(I.rangeChanged,R.scrollSeekRangeChanged),st(Ee(R.windowViewportRect,Qe(A=>A.visibleHeight)),y.viewportHeight),{totalCount:e,data:i,firstItemIndex:l,sizeRanges:t,initialTopMostItemIndex:g,scrolledToInitialItem:x,topItemsIndexes:j,topItemCount:E,groupCounts:D,fixedItemHeight:n,defaultItemHeight:r,gap:h,...w,statefulTotalCount:p,listState:S,scrollToIndex:M,trackItemSizes:o,itemSize:s,groupIndices:c,...I,...R,...y,sizes:m,...b}),vn(Gs,Ef,jr,doe,eoe,El,_f,aoe,ooe,oO,poe)),b1="-webkit-sticky",dI="sticky",cO=lO(()=>{if(typeof document>"u")return dI;const e=document.createElement("div");return e.style.position=b1,e.style.position===b1?b1:dI});function uO(e,t){const n=B.useRef(null),r=B.useCallback(l=>{if(l===null||!l.offsetParent)return;const c=l.getBoundingClientRect(),p=c.width;let h,m;if(t){const g=t.getBoundingClientRect(),x=c.top-g.top;h=g.height-Math.max(0,x),m=x+t.scrollTop}else h=window.innerHeight-Math.max(0,c.top),m=c.top+window.pageYOffset;n.current={offsetTop:m,visibleHeight:h,visibleWidth:p},e(n.current)},[e,t]),{callbackRef:o,ref:s}=d2(r),i=B.useCallback(()=>{r(s.current)},[r,s]);return B.useEffect(()=>{if(t){t.addEventListener("scroll",i);const l=new ResizeObserver(i);return l.observe(t),()=>{t.removeEventListener("scroll",i),l.unobserve(t)}}else return window.addEventListener("scroll",i),window.addEventListener("resize",i),()=>{window.removeEventListener("scroll",i),window.removeEventListener("resize",i)}},[i,t]),o}const dO=B.createContext(void 0),fO=B.createContext(void 0);function pO(e){return e}const moe=Xt(()=>{const e=He(c=>`Item ${c}`),t=He(null),n=He(c=>`Group ${c}`),r=He({}),o=He(pO),s=He("div"),i=He(mu),l=(c,p=null)=>wr(Ee(r,Qe(h=>h[c]),hn()),p);return{context:t,itemContent:e,groupContent:n,components:r,computeItemKey:o,headerFooterTag:s,scrollerRef:i,FooterComponent:l("Footer"),HeaderComponent:l("Header"),TopItemListComponent:l("TopItemList"),ListComponent:l("List","div"),ItemComponent:l("Item","div"),GroupComponent:l("Group","div"),ScrollerComponent:l("Scroller","div"),EmptyPlaceholder:l("EmptyPlaceholder"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder")}}),goe=Xt(([e,t])=>({...e,...t}),vn(hoe,moe)),voe=({height:e})=>B.createElement("div",{style:{height:e}}),xoe={position:cO(),zIndex:1,overflowAnchor:"none"},boe={overflowAnchor:"none"},fI=B.memo(function({showTopList:t=!1}){const n=Rt("listState"),r=_o("sizeRanges"),o=Rt("useWindowScroll"),s=Rt("customScrollParent"),i=_o("windowScrollContainerState"),l=_o("scrollContainerState"),c=s||o?i:l,p=Rt("itemContent"),h=Rt("context"),m=Rt("groupContent"),g=Rt("trackItemSizes"),x=Rt("itemSize"),y=Rt("log"),b=_o("gap"),{callbackRef:w}=Rre(r,x,g,t?mu:c,y,b,s),[S,j]=B.useState(0);x2("deviation",H=>{S!==H&&j(H)});const I=Rt("EmptyPlaceholder"),M=Rt("ScrollSeekPlaceholder")||voe,_=Rt("ListComponent"),E=Rt("ItemComponent"),D=Rt("GroupComponent"),R=Rt("computeItemKey"),A=Rt("isSeeking"),O=Rt("groupIndices").length>0,T=Rt("paddingTopAddition"),K=Rt("scrolledToInitialItem"),L=t?{}:{boxSizing:"border-box",paddingTop:n.offsetTop+T,paddingBottom:n.offsetBottom,marginTop:S,...K?{}:{visibility:"hidden"}};return!t&&n.totalCount===0&&I?B.createElement(I,Tr(I,h)):B.createElement(_,{...Tr(_,h),ref:w,style:L,"data-test-id":t?"virtuoso-top-item-list":"virtuoso-item-list"},(t?n.topItems:n.items).map(H=>{const U=H.originalIndex,W=R(U+n.firstItemIndex,H.data,h);return A?B.createElement(M,{...Tr(M,h),key:W,index:H.index,height:H.size,type:H.type||"item",...H.type==="group"?{}:{groupIndex:H.groupIndex}}):H.type==="group"?B.createElement(D,{...Tr(D,h),key:W,"data-index":U,"data-known-size":H.size,"data-item-index":H.index,style:xoe},m(H.index,h)):B.createElement(E,{...Tr(E,h),key:W,"data-index":U,"data-known-size":H.size,"data-item-index":H.index,"data-item-group-index":H.groupIndex,item:H.data,style:boe},O?p(H.index,H.groupIndex,H.data,h):p(H.index,H.data,h))}))}),yoe={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Zg={width:"100%",height:"100%",position:"absolute",top:0},Coe={width:"100%",position:cO(),top:0,zIndex:1};function Tr(e,t){if(typeof e!="string")return{context:t}}const woe=B.memo(function(){const t=Rt("HeaderComponent"),n=_o("headerHeight"),r=Rt("headerFooterTag"),o=Pl(i=>n(vi(i,"height"))),s=Rt("context");return t?B.createElement(r,{ref:o},B.createElement(t,Tr(t,s))):null}),Soe=B.memo(function(){const t=Rt("FooterComponent"),n=_o("footerHeight"),r=Rt("headerFooterTag"),o=Pl(i=>n(vi(i,"height"))),s=Rt("context");return t?B.createElement(r,{ref:o},B.createElement(t,Tr(t,s))):null});function hO({usePublisher:e,useEmitter:t,useEmitterValue:n}){return B.memo(function({style:s,children:i,...l}){const c=e("scrollContainerState"),p=n("ScrollerComponent"),h=e("smoothScrollTargetReached"),m=n("scrollerRef"),g=n("context"),{scrollerRef:x,scrollByCallback:y,scrollToCallback:b}=q8(c,h,p,m);return t("scrollTo",b),t("scrollBy",y),B.createElement(p,{ref:x,style:{...yoe,...s},"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...l,...Tr(p,g)},i)})}function mO({usePublisher:e,useEmitter:t,useEmitterValue:n}){return B.memo(function({style:s,children:i,...l}){const c=e("windowScrollContainerState"),p=n("ScrollerComponent"),h=e("smoothScrollTargetReached"),m=n("totalListHeight"),g=n("deviation"),x=n("customScrollParent"),y=n("context"),{scrollerRef:b,scrollByCallback:w,scrollToCallback:S}=q8(c,h,p,mu,x);return Mre(()=>(b.current=x||window,()=>{b.current=null}),[b,x]),t("windowScrollTo",S),t("scrollBy",w),B.createElement(p,{style:{position:"relative",...s,...m!==0?{height:m+g}:{}},"data-virtuoso-scroller":!0,...l,...Tr(p,y)},i)})}const koe=({children:e})=>{const t=B.useContext(dO),n=_o("viewportHeight"),r=_o("fixedItemHeight"),o=Pl(V8(n,s=>vi(s,"height")));return B.useEffect(()=>{t&&(n(t.viewportHeight),r(t.itemHeight))},[t,n,r]),B.createElement("div",{style:Zg,ref:o,"data-viewport-type":"element"},e)},joe=({children:e})=>{const t=B.useContext(dO),n=_o("windowViewportRect"),r=_o("fixedItemHeight"),o=Rt("customScrollParent"),s=uO(n,o);return B.useEffect(()=>{t&&(r(t.itemHeight),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,n,r]),B.createElement("div",{ref:s,style:Zg,"data-viewport-type":"window"},e)},Ioe=({children:e})=>{const t=Rt("TopItemListComponent"),n=Rt("headerHeight"),r={...Coe,marginTop:`${n}px`},o=Rt("context");return B.createElement(t||"div",{style:r,context:o},e)},_oe=B.memo(function(t){const n=Rt("useWindowScroll"),r=Rt("topItemsIndexes").length>0,o=Rt("customScrollParent"),s=o||n?Moe:Eoe,i=o||n?joe:koe;return B.createElement(s,{...t},r&&B.createElement(Ioe,null,B.createElement(fI,{showTopList:!0})),B.createElement(i,null,B.createElement(woe,null),B.createElement(fI,null),B.createElement(Soe,null)))}),{Component:Poe,usePublisher:_o,useEmitterValue:Rt,useEmitter:x2}=G8(goe,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},_oe),Eoe=hO({usePublisher:_o,useEmitterValue:Rt,useEmitter:x2}),Moe=mO({usePublisher:_o,useEmitterValue:Rt,useEmitter:x2}),Ooe=Poe,pI={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},Doe={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:hI,ceil:mI,floor:zm,min:y1,max:gd}=Math;function Roe(e){return{...Doe,items:e}}function gI(e,t,n){return Array.from({length:t-e+1}).map((r,o)=>{const s=n===null?null:n[o+e];return{index:o+e,data:s}})}function Aoe(e,t){return e&&e.column===t.column&&e.row===t.row}function ah(e,t){return e&&e.width===t.width&&e.height===t.height}const Toe=Xt(([{overscan:e,visibleRange:t,listBoundary:n},{scrollTop:r,viewportHeight:o,scrollBy:s,scrollTo:i,smoothScrollTargetReached:l,scrollContainerState:c,footerHeight:p,headerHeight:h},m,g,{propsReady:x,didMount:y},{windowViewportRect:b,useWindowScroll:w,customScrollParent:S,windowScrollContainerState:j,windowScrollTo:I},M])=>{const _=He(0),E=He(0),D=He(pI),R=He({height:0,width:0}),A=He({height:0,width:0}),O=Nt(),T=Nt(),K=He(0),L=He(null),H=He({row:0,column:0}),U=Nt(),W=Nt(),z=He(!1),Q=He(0),F=He(!0),X=He(!1);Zt(Ee(y,_t(Q),vt(([G,te])=>!!te)),()=>{St(F,!1),St(E,0)}),Zt(Ee(Zn(y,F,A,R,Q,X),vt(([G,te,ce,J,,ie])=>G&&!te&&ce.height!==0&&J.height!==0&&!ie)),([,,,,G])=>{St(X,!0),h2(1,()=>{St(O,G)}),wa(Ee(r),()=>{St(n,[0,0]),St(F,!0)})}),st(Ee(W,vt(G=>G!=null&&G.scrollTop>0),sa(0)),E),Zt(Ee(y,_t(W),vt(([,G])=>G!=null)),([,G])=>{G&&(St(R,G.viewport),St(A,G==null?void 0:G.item),St(H,G.gap),G.scrollTop>0&&(St(z,!0),wa(Ee(r,Zc(1)),te=>{St(z,!1)}),St(i,{top:G.scrollTop})))}),st(Ee(R,Qe(({height:G})=>G)),o),st(Ee(Zn(gt(R,ah),gt(A,ah),gt(H,(G,te)=>G&&G.column===te.column&&G.row===te.row),gt(r)),Qe(([G,te,ce,J])=>({viewport:G,item:te,gap:ce,scrollTop:J}))),U),st(Ee(Zn(gt(_),t,gt(H,Aoe),gt(A,ah),gt(R,ah),gt(L),gt(E),gt(z),gt(F),gt(Q)),vt(([,,,,,,,G])=>!G),Qe(([G,[te,ce],J,ie,de,me,Ce,,ve,pe])=>{const{row:Re,column:Pe}=J,{height:Ve,width:lt}=ie,{width:Ke}=de;if(Ce===0&&(G===0||Ke===0))return pI;if(lt===0){const ct=m2(pe,G),pt=ct===0?Math.max(Ce-1,0):ct;return Roe(gI(ct,pt,me))}const Et=gO(Ke,lt,Pe);let et,ot;ve?te===0&&ce===0&&Ce>0?(et=0,ot=Ce-1):(et=Et*zm((te+Re)/(Ve+Re)),ot=Et*mI((ce+Re)/(Ve+Re))-1,ot=y1(G-1,gd(ot,Et-1)),et=y1(ot,gd(0,et))):(et=0,ot=-1);const ye=gI(et,ot,me),{top:Ae,bottom:dt}=vI(de,J,ie,ye),yt=mI(G/Et),tt=yt*Ve+(yt-1)*Re-dt;return{items:ye,offsetTop:Ae,offsetBottom:tt,top:Ae,bottom:dt,itemHeight:Ve,itemWidth:lt}})),D),st(Ee(L,vt(G=>G!==null),Qe(G=>G.length)),_),st(Ee(Zn(R,A,D,H),vt(([G,te,{items:ce}])=>ce.length>0&&te.height!==0&&G.height!==0),Qe(([G,te,{items:ce},J])=>{const{top:ie,bottom:de}=vI(G,J,te,ce);return[ie,de]}),hn(Bd)),n);const Y=He(!1);st(Ee(r,_t(Y),Qe(([G,te])=>te||G!==0)),Y);const se=no(Ee(gt(D),vt(({items:G})=>G.length>0),_t(_,Y),vt(([{items:G},te,ce])=>ce&&G[G.length-1].index===te-1),Qe(([,G])=>G-1),hn())),ae=no(Ee(gt(D),vt(({items:G})=>G.length>0&&G[0].index===0),sa(0),hn())),oe=no(Ee(gt(D),_t(z),vt(([{items:G},te])=>G.length>0&&!te),Qe(([{items:G}])=>({startIndex:G[0].index,endIndex:G[G.length-1].index})),hn(sO),si(0)));st(oe,g.scrollSeekRangeChanged),st(Ee(O,_t(R,A,_,H),Qe(([G,te,ce,J,ie])=>{const de=rO(G),{align:me,behavior:Ce,offset:ve}=de;let pe=de.index;pe==="LAST"&&(pe=J-1),pe=gd(0,pe,y1(J-1,pe));let Re=Xx(te,ie,ce,pe);return me==="end"?Re=hI(Re-te.height+ce.height):me==="center"&&(Re=hI(Re-te.height/2+ce.height/2)),ve&&(Re+=ve),{top:Re,behavior:Ce}})),i);const q=wr(Ee(D,Qe(G=>G.offsetBottom+G.bottom)),0);return st(Ee(b,Qe(G=>({width:G.visibleWidth,height:G.visibleHeight}))),R),{data:L,totalCount:_,viewportDimensions:R,itemDimensions:A,scrollTop:r,scrollHeight:T,overscan:e,scrollBy:s,scrollTo:i,scrollToIndex:O,smoothScrollTargetReached:l,windowViewportRect:b,windowScrollTo:I,useWindowScroll:w,customScrollParent:S,windowScrollContainerState:j,deviation:K,scrollContainerState:c,footerHeight:p,headerHeight:h,initialItemCount:E,gap:H,restoreStateFrom:W,...g,initialTopMostItemIndex:Q,gridState:D,totalListHeight:q,...m,startReached:ae,endReached:se,rangeChanged:oe,stateChanged:U,propsReady:x,stateRestoreInProgress:z,...M}},vn(g2,jr,Pf,aO,_i,v2,Ii));function vI(e,t,n,r){const{height:o}=n;if(o===void 0||r.length===0)return{top:0,bottom:0};const s=Xx(e,t,n,r[0].index),i=Xx(e,t,n,r[r.length-1].index)+o;return{top:s,bottom:i}}function Xx(e,t,n,r){const o=gO(e.width,n.width,t.column),s=zm(r/o),i=s*n.height+gd(0,s-1)*t.row;return i>0?i+t.row:i}function gO(e,t,n){return gd(1,zm((e+n)/(zm(t)+n)))}const Noe=Xt(()=>{const e=He(p=>`Item ${p}`),t=He({}),n=He(null),r=He("virtuoso-grid-item"),o=He("virtuoso-grid-list"),s=He(pO),i=He("div"),l=He(mu),c=(p,h=null)=>wr(Ee(t,Qe(m=>m[p]),hn()),h);return{context:n,itemContent:e,components:t,computeItemKey:s,itemClassName:r,listClassName:o,headerFooterTag:i,scrollerRef:l,FooterComponent:c("Footer"),HeaderComponent:c("Header"),ListComponent:c("List","div"),ItemComponent:c("Item","div"),ScrollerComponent:c("Scroller","div"),ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}}),$oe=Xt(([e,t])=>({...e,...t}),vn(Toe,Noe)),Loe=B.memo(function(){const t=wn("gridState"),n=wn("listClassName"),r=wn("itemClassName"),o=wn("itemContent"),s=wn("computeItemKey"),i=wn("isSeeking"),l=ts("scrollHeight"),c=wn("ItemComponent"),p=wn("ListComponent"),h=wn("ScrollSeekPlaceholder"),m=wn("context"),g=ts("itemDimensions"),x=ts("gap"),y=wn("log"),b=wn("stateRestoreInProgress"),w=Pl(S=>{const j=S.parentElement.parentElement.scrollHeight;l(j);const I=S.firstChild;if(I){const{width:M,height:_}=I.getBoundingClientRect();g({width:M,height:_})}x({row:xI("row-gap",getComputedStyle(S).rowGap,y),column:xI("column-gap",getComputedStyle(S).columnGap,y)})});return b?null:B.createElement(p,{ref:w,className:n,...Tr(p,m),style:{paddingTop:t.offsetTop,paddingBottom:t.offsetBottom},"data-test-id":"virtuoso-item-list"},t.items.map(S=>{const j=s(S.index,S.data,m);return i?B.createElement(h,{key:j,...Tr(h,m),index:S.index,height:t.itemHeight,width:t.itemWidth}):B.createElement(c,{...Tr(c,m),className:r,"data-index":S.index,key:j},o(S.index,S.data,m))}))}),zoe=B.memo(function(){const t=wn("HeaderComponent"),n=ts("headerHeight"),r=wn("headerFooterTag"),o=Pl(i=>n(vi(i,"height"))),s=wn("context");return t?B.createElement(r,{ref:o},B.createElement(t,Tr(t,s))):null}),Foe=B.memo(function(){const t=wn("FooterComponent"),n=ts("footerHeight"),r=wn("headerFooterTag"),o=Pl(i=>n(vi(i,"height"))),s=wn("context");return t?B.createElement(r,{ref:o},B.createElement(t,Tr(t,s))):null}),Boe=({children:e})=>{const t=B.useContext(fO),n=ts("itemDimensions"),r=ts("viewportDimensions"),o=Pl(s=>{r(s.getBoundingClientRect())});return B.useEffect(()=>{t&&(r({height:t.viewportHeight,width:t.viewportWidth}),n({height:t.itemHeight,width:t.itemWidth}))},[t,r,n]),B.createElement("div",{style:Zg,ref:o},e)},Hoe=({children:e})=>{const t=B.useContext(fO),n=ts("windowViewportRect"),r=ts("itemDimensions"),o=wn("customScrollParent"),s=uO(n,o);return B.useEffect(()=>{t&&(r({height:t.itemHeight,width:t.itemWidth}),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,n,r]),B.createElement("div",{ref:s,style:Zg},e)},Voe=B.memo(function({...t}){const n=wn("useWindowScroll"),r=wn("customScrollParent"),o=r||n?Goe:Uoe,s=r||n?Hoe:Boe;return B.createElement(o,{...t},B.createElement(s,null,B.createElement(zoe,null),B.createElement(Loe,null),B.createElement(Foe,null)))}),{Component:Woe,usePublisher:ts,useEmitterValue:wn,useEmitter:vO}=G8($oe,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged"}},Voe),Uoe=hO({usePublisher:ts,useEmitterValue:wn,useEmitter:vO}),Goe=mO({usePublisher:ts,useEmitterValue:wn,useEmitter:vO});function xI(e,t,n){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,ro.WARN),t==="normal"?0:parseInt(t??"0",10)}const Koe=Woe,qoe=e=>{const t=V(s=>s.gallery.galleryView),{data:n}=H_(e),{data:r}=V_(e),o=d.useMemo(()=>t==="images"?n:r,[t,r,n]);return{totalImages:n,totalAssets:r,currentViewTotal:o}};function Jg(e,t={}){let n=d.useCallback(o=>t.keys?F$(e,t.keys,o):e.listen(o),[t.keys,e]),r=e.get.bind(e);return d.useSyncExternalStore(n,r,r)}const Xoe=({imageDTO:e})=>a.jsx(N,{sx:{pointerEvents:"none",flexDirection:"column",position:"absolute",top:0,insetInlineStart:0,p:2,alignItems:"flex-start",gap:2},children:a.jsxs(Ws,{variant:"solid",colorScheme:"base",children:[e.width," × ",e.height]})}),Qoe=d.memo(Xoe),b2=({postUploadAction:e,isDisabled:t})=>{const n=V(c=>c.gallery.autoAddBoardId),[r]=N_(),o=d.useCallback(c=>{const p=c[0];p&&r({file:p,image_category:"user",is_intermediate:!1,postUploadAction:e??{type:"TOAST"},board_id:n==="none"?void 0:n})},[n,e,r]),{getRootProps:s,getInputProps:i,open:l}=Iy({accept:{"image/png":[".png"],"image/jpeg":[".jpg",".jpeg",".png"]},onDropAccepted:o,disabled:t,noDrag:!0,multiple:!1});return{getUploadButtonProps:s,getUploadInputProps:i,openUploader:l}},Yoe=le(xe,({generation:e})=>{const{model:t}=e;return{model:t}}),e0=()=>{const e=ee(),t=kl(),{t:n}=Z(),{model:r}=V(Yoe),o=d.useCallback(()=>{t({title:n("toast.parameterSet"),status:"info",duration:2500,isClosable:!0})},[n,t]),s=d.useCallback(O=>{t({title:n("toast.parameterNotSet"),description:O,status:"warning",duration:2500,isClosable:!0})},[n,t]),i=d.useCallback(()=>{t({title:n("toast.parametersSet"),status:"info",duration:2500,isClosable:!0})},[n,t]),l=d.useCallback(O=>{t({title:n("toast.parametersNotSet"),status:"warning",description:O,duration:2500,isClosable:!0})},[n,t]),c=d.useCallback((O,T,K,L)=>{if(jp(O)||Ip(T)||Wu(K)||_v(L)){jp(O)&&e(cd(O)),Ip(T)&&e(ud(T)),Wu(K)&&e(dd(K)),Wu(L)&&e(fd(L)),o();return}s()},[e,o,s]),p=d.useCallback(O=>{if(!jp(O)){s();return}e(cd(O)),o()},[e,o,s]),h=d.useCallback(O=>{if(!Ip(O)){s();return}e(ud(O)),o()},[e,o,s]),m=d.useCallback(O=>{if(!Wu(O)){s();return}e(dd(O)),o()},[e,o,s]),g=d.useCallback(O=>{if(!_v(O)){s();return}e(fd(O)),o()},[e,o,s]),x=d.useCallback(O=>{if(!$w(O)){s();return}e(_h(O)),o()},[e,o,s]),y=d.useCallback(O=>{if(!Pv(O)){s();return}e(Ph(O)),o()},[e,o,s]),b=d.useCallback(O=>{if(!Lw(O)){s();return}e(L1(O)),o()},[e,o,s]),w=d.useCallback(O=>{if(!Ev(O)){s();return}e(z1(O)),o()},[e,o,s]),S=d.useCallback(O=>{if(!Mv(O)){s();return}e(Eh(O)),o()},[e,o,s]),j=d.useCallback(O=>{if(!zw(O)){s();return}e(sl(O)),o()},[e,o,s]),I=d.useCallback(O=>{if(!Fw(O)){s();return}e(al(O)),o()},[e,o,s]),M=d.useCallback(O=>{if(!Bw(O)){s();return}e(Mh(O)),o()},[e,o,s]),{loras:_}=Zd(void 0,{selectFromResult:O=>({loras:O.data?vA.getSelectors().selectAll(O.data):[]})}),E=d.useCallback(O=>{if(!U_(O.lora))return{lora:null,error:"Invalid LoRA model"};const{base_model:T,model_name:K}=O.lora,L=_.find(U=>U.base_model===T&&U.model_name===K);return L?(L==null?void 0:L.base_model)===(r==null?void 0:r.base_model)?{lora:L,error:null}:{lora:null,error:"LoRA incompatible with currently-selected model"}:{lora:null,error:"LoRA model is not installed"}},[_,r==null?void 0:r.base_model]),D=d.useCallback(O=>{const T=E(O);if(!T.lora){s(T.error);return}e(Hw({...T.lora,weight:O.weight})),o()},[E,e,o,s]),R=d.useCallback(O=>{e(qm(O))},[e]),A=d.useCallback(O=>{if(!O){l();return}const{cfg_scale:T,height:K,model:L,positive_prompt:H,negative_prompt:U,scheduler:W,seed:z,steps:Q,width:F,strength:X,positive_style_prompt:Y,negative_style_prompt:se,refiner_model:ae,refiner_cfg_scale:oe,refiner_steps:q,refiner_scheduler:G,refiner_positive_aesthetic_score:te,refiner_negative_aesthetic_score:ce,refiner_start:J,loras:ie}=O;Pv(T)&&e(Ph(T)),Lw(L)&&e(L1(L)),jp(H)&&e(cd(H)),Ip(U)&&e(ud(U)),Ev(W)&&e(z1(W)),$w(z)&&e(_h(z)),Mv(Q)&&e(Eh(Q)),zw(F)&&e(sl(F)),Fw(K)&&e(al(K)),Bw(X)&&e(Mh(X)),Wu(Y)&&e(dd(Y)),_v(se)&&e(fd(se)),xA(ae)&&e(G_(ae)),Mv(q)&&e(F1(q)),Pv(oe)&&e(B1(oe)),Ev(G)&&e(K_(G)),bA(te)&&e(H1(te)),yA(ce)&&e(V1(ce)),CA(J)&&e(W1(J)),e(wA()),ie==null||ie.forEach(de=>{const me=E(de);me.lora&&e(Hw({...me.lora,weight:de.weight}))}),i()},[l,i,e,E]);return{recallBothPrompts:c,recallPositivePrompt:p,recallNegativePrompt:h,recallSDXLPositiveStylePrompt:m,recallSDXLNegativeStylePrompt:g,recallSeed:x,recallCfgScale:y,recallModel:b,recallScheduler:w,recallSteps:S,recallWidth:j,recallHeight:I,recallStrength:M,recallLoRA:D,recallAllParameters:A,sendToImageToImage:R}},xO=()=>{const e=kl(),{t}=Z(),n=d.useMemo(()=>!!navigator.clipboard&&!!window.ClipboardItem,[]),r=d.useCallback(async o=>{n||e({title:t("toast.problemCopyingImage"),description:"Your browser doesn't support the Clipboard API.",status:"error",duration:2500,isClosable:!0});try{SA((async()=>await(await fetch(o)).blob())()),e({title:t("toast.imageCopied"),status:"success",duration:2500,isClosable:!0})}catch(s){e({title:t("toast.problemCopyingImage"),description:String(s),status:"error",duration:2500,isClosable:!0})}},[n,t,e]);return{isClipboardAPIAvailable:n,copyImageToClipboard:r}};function Zoe(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"}}]})(e)}function Joe(e){return Ne({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 256L28.5 28c2-16 15.6-28 31.8-28H228.9c15 0 27.1 12.1 27.1 27.1c0 3.2-.6 6.5-1.7 9.5L208 160H347.3c20.2 0 36.7 16.4 36.7 36.7c0 7.4-2.2 14.6-6.4 20.7l-192.2 281c-5.9 8.6-15.6 13.7-25.9 13.7h-2.9c-15.7 0-28.5-12.8-28.5-28.5c0-2.3 .3-4.6 .9-6.9L176 288H32c-17.7 0-32-14.3-32-32z"}}]})(e)}function ese(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"}}]})(e)}function y2(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.4 157.9c35.3-8.3 61.6-40 61.6-77.9c0-44.2-35.8-80-80-80c-43.4 0-78.7 34.5-80 77.5L136.2 151.1C121.7 136.8 101.9 128 80 128c-44.2 0-80 35.8-80 80s35.8 80 80 80c12.2 0 23.8-2.7 34.1-7.6L259.7 407.8c-2.4 7.6-3.7 15.8-3.7 24.2c0 44.2 35.8 80 80 80s80-35.8 80-80c0-27.7-14-52.1-35.4-66.4l37.8-207.7zM156.3 232.2c2.2-6.9 3.5-14.2 3.7-21.7l183.8-73.5c3.6 3.5 7.4 6.7 11.6 9.5L317.6 354.1c-5.5 1.3-10.8 3.1-15.8 5.5L156.3 232.2z"}}]})(e)}function tse(e){return Ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M8 256a56 56 0 1 1 112 0A56 56 0 1 1 8 256zm160 0a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm216-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"}}]})(e)}function nse(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM136 184c-13.3 0-24 10.7-24 24s10.7 24 24 24H280c13.3 0 24-10.7 24-24s-10.7-24-24-24H136z"}}]})(e)}function rse(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM184 296c0 13.3 10.7 24 24 24s24-10.7 24-24V232h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H232V120c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"}}]})(e)}function ose(e){return Ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M17 16l-4-4V8.82C14.16 8.4 15 7.3 15 6c0-1.66-1.34-3-3-3S9 4.34 9 6c0 1.3.84 2.4 2 2.82V12l-4 4H3v5h5v-3.05l4-4.2 4 4.2V21h5v-5h-4z"}}]})(e)}function sse(e){return Ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z"}}]})(e)}function ase(e){return Ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-11-4l2.03 2.71L16 11l4 5H8l3-4zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"}}]})(e)}function C2(e){return Ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}}]})(e)}function w2(e){return Ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}}]})(e)}function bO(e){return Ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"}}]})(e)}const S2=e=>e.config;Cb("gallery/requestedBoardImagesDeletion");const ise=Cb("gallery/sentImageToCanvas"),yO=Cb("gallery/sentImageToImg2Img"),lse=e=>{const{imageDTO:t}=e,n=ee(),{t:r}=Z(),o=kl(),s=Kt("unifiedCanvas").isFeatureEnabled,{shouldFetchMetadataFromApi:i}=V(S2),l=Jg(wb),{metadata:c,workflow:p,isLoading:h}=Sb({image:t,shouldFetchMetadataFromApi:i},{selectFromResult:L=>{var H,U;return{isLoading:L.isFetching,metadata:(H=L==null?void 0:L.currentData)==null?void 0:H.metadata,workflow:(U=L==null?void 0:L.currentData)==null?void 0:U.workflow}}}),[m]=kb(),[g]=jb(),{isClipboardAPIAvailable:x,copyImageToClipboard:y}=xO(),b=d.useCallback(()=>{t&&n(Xm([t]))},[n,t]),{recallBothPrompts:w,recallSeed:S,recallAllParameters:j}=e0(),I=d.useCallback(()=>{w(c==null?void 0:c.positive_prompt,c==null?void 0:c.negative_prompt,c==null?void 0:c.positive_style_prompt,c==null?void 0:c.negative_style_prompt)},[c==null?void 0:c.negative_prompt,c==null?void 0:c.positive_prompt,c==null?void 0:c.positive_style_prompt,c==null?void 0:c.negative_style_prompt,w]),M=d.useCallback(()=>{S(c==null?void 0:c.seed)},[c==null?void 0:c.seed,S]),_=d.useCallback(()=>{p&&n(Ib(p))},[n,p]),E=d.useCallback(()=>{n(yO()),n(qm(t))},[n,t]),D=d.useCallback(()=>{n(ise()),Zr.flushSync(()=>{n(ua("unifiedCanvas"))}),n(q_(t)),o({title:r("toast.sentToUnifiedCanvas"),status:"success",duration:2500,isClosable:!0})},[n,t,r,o]),R=d.useCallback(()=>{j(c)},[c,j]),A=d.useCallback(()=>{n(X_([t])),n(bb(!0))},[n,t]),O=d.useCallback(()=>{y(t.image_url)},[y,t.image_url]),T=d.useCallback(()=>{t&&m({imageDTOs:[t]})},[m,t]),K=d.useCallback(()=>{t&&g({imageDTOs:[t]})},[g,t]);return a.jsxs(a.Fragment,{children:[a.jsx(tn,{as:"a",href:t.image_url,target:"_blank",icon:a.jsx(Vy,{}),children:r("common.openInNewTab")}),x&&a.jsx(tn,{icon:a.jsx(pu,{}),onClickCapture:O,children:r("parameters.copyImage")}),a.jsx(tn,{as:"a",download:!0,href:t.image_url,target:"_blank",icon:a.jsx($g,{}),w:"100%",children:r("parameters.downloadImage")}),a.jsx(tn,{icon:h?a.jsx(ih,{}):a.jsx(y2,{}),onClickCapture:_,isDisabled:h||!p,children:r("nodes.loadWorkflow")}),a.jsx(tn,{icon:h?a.jsx(ih,{}):a.jsx(QM,{}),onClickCapture:I,isDisabled:h||(c==null?void 0:c.positive_prompt)===void 0&&(c==null?void 0:c.negative_prompt)===void 0,children:r("parameters.usePrompt")}),a.jsx(tn,{icon:h?a.jsx(ih,{}):a.jsx(YM,{}),onClickCapture:M,isDisabled:h||(c==null?void 0:c.seed)===void 0,children:r("parameters.useSeed")}),a.jsx(tn,{icon:h?a.jsx(ih,{}):a.jsx(FM,{}),onClickCapture:R,isDisabled:h||!c,children:r("parameters.useAll")}),a.jsx(tn,{icon:a.jsx(wj,{}),onClickCapture:E,id:"send-to-img2img",children:r("parameters.sendToImg2Img")}),s&&a.jsx(tn,{icon:a.jsx(wj,{}),onClickCapture:D,id:"send-to-canvas",children:r("parameters.sendToUnifiedCanvas")}),a.jsx(tn,{icon:a.jsx(UM,{}),onClickCapture:A,children:"Change Board"}),t.starred?a.jsx(tn,{icon:l?l.off.icon:a.jsx(w2,{}),onClickCapture:K,children:l?l.off.text:"Unstar Image"}):a.jsx(tn,{icon:l?l.on.icon:a.jsx(C2,{}),onClickCapture:T,children:l?l.on.text:"Star Image"}),a.jsx(tn,{sx:{color:"error.600",_dark:{color:"error.300"}},icon:a.jsx(Vr,{}),onClickCapture:b,children:r("gallery.deleteImage")})]})},CO=d.memo(lse),ih=()=>a.jsx(N,{w:"14px",alignItems:"center",justifyContent:"center",children:a.jsx(xi,{size:"xs"})}),cse=()=>{const e=ee(),t=V(m=>m.gallery.selection),n=Jg(wb),[r]=kb(),[o]=jb(),s=d.useCallback(()=>{e(X_(t)),e(bb(!0))},[e,t]),i=d.useCallback(()=>{e(Xm(t))},[e,t]),l=d.useCallback(()=>{r({imageDTOs:t})},[r,t]),c=d.useCallback(()=>{o({imageDTOs:t})},[o,t]),p=d.useMemo(()=>t.every(m=>m.starred),[t]),h=d.useMemo(()=>t.every(m=>!m.starred),[t]);return a.jsxs(a.Fragment,{children:[p&&a.jsx(tn,{icon:n?n.on.icon:a.jsx(C2,{}),onClickCapture:c,children:n?n.off.text:"Unstar All"}),(h||!p&&!h)&&a.jsx(tn,{icon:n?n.on.icon:a.jsx(w2,{}),onClickCapture:l,children:n?n.on.text:"Star All"}),a.jsx(tn,{icon:a.jsx(UM,{}),onClickCapture:s,children:"Change Board"}),a.jsx(tn,{sx:{color:"error.600",_dark:{color:"error.300"}},icon:a.jsx(Vr,{}),onClickCapture:i,children:"Delete Selection"})]})},use=d.memo(cse),dse=le([xe],({gallery:e})=>({selectionCount:e.selection.length}),Ie),fse=({imageDTO:e,children:t})=>{const{selectionCount:n}=V(dse),r=d.useCallback(o=>{o.preventDefault()},[]);return a.jsx(l2,{menuProps:{size:"sm",isLazy:!0},menuButtonProps:{bg:"transparent",_hover:{bg:"transparent"}},renderMenu:()=>e?n>1?a.jsx(ul,{sx:{visibility:"visible !important"},motionProps:Hc,onContextMenu:r,children:a.jsx(use,{})}):a.jsx(ul,{sx:{visibility:"visible !important"},motionProps:Hc,onContextMenu:r,children:a.jsx(CO,{imageDTO:e})}):null,children:t})},pse=d.memo(fse),hse=e=>{const{data:t,disabled:n,...r}=e,o=d.useRef(ai()),{attributes:s,listeners:i,setNodeRef:l}=Une({id:o.current,disabled:n,data:t});return a.jsx(_e,{ref:l,position:"absolute",w:"full",h:"full",top:0,insetInlineStart:0,...s,...i,...r})},mse=d.memo(hse),gse=a.jsx($n,{as:zg,sx:{boxSize:16}}),vse=a.jsx(er,{icon:ml}),xse=e=>{const{imageDTO:t,onError:n,onClick:r,withMetadataOverlay:o=!1,isDropDisabled:s=!1,isDragDisabled:i=!1,isUploadDisabled:l=!1,minSize:c=24,postUploadAction:p,imageSx:h,fitContainer:m=!1,droppableData:g,draggableData:x,dropLabel:y,isSelected:b=!1,thumbnail:w=!1,noContentFallback:S=vse,uploadElement:j=gse,useThumbailFallback:I,withHoverOverlay:M=!1,children:_,onMouseOver:E,onMouseOut:D}=e,{colorMode:R}=_a(),[A,O]=d.useState(!1),T=d.useCallback(W=>{E&&E(W),O(!0)},[E]),K=d.useCallback(W=>{D&&D(W),O(!1)},[D]),{getUploadButtonProps:L,getUploadInputProps:H}=b2({postUploadAction:p,isDisabled:l}),U=l?{}:{cursor:"pointer",bg:Te("base.200","base.700")(R),_hover:{bg:Te("base.300","base.650")(R),color:Te("base.500","base.300")(R)}};return a.jsx(pse,{imageDTO:t,children:W=>a.jsxs(N,{ref:W,onMouseOver:T,onMouseOut:K,sx:{width:"full",height:"full",alignItems:"center",justifyContent:"center",position:"relative",minW:c||void 0,minH:c||void 0,userSelect:"none",cursor:i||!t?"default":"pointer"},children:[t&&a.jsxs(N,{sx:{w:"full",h:"full",position:m?"absolute":"relative",alignItems:"center",justifyContent:"center"},children:[a.jsx(Pa,{src:w?t.thumbnail_url:t.image_url,fallbackStrategy:"beforeLoadOrError",fallbackSrc:I?t.thumbnail_url:void 0,fallback:I?void 0:a.jsx(yre,{image:t}),onError:n,draggable:!1,sx:{w:t.width,objectFit:"contain",maxW:"full",maxH:"full",borderRadius:"base",...h}}),o&&a.jsx(Qoe,{imageDTO:t}),a.jsx(i2,{isSelected:b,isHovered:M?A:!1})]}),!t&&!l&&a.jsx(a.Fragment,{children:a.jsxs(N,{sx:{minH:c,w:"full",h:"full",alignItems:"center",justifyContent:"center",borderRadius:"base",transitionProperty:"common",transitionDuration:"0.1s",color:Te("base.500","base.500")(R),...U},...L(),children:[a.jsx("input",{...H()}),j]})}),!t&&l&&S,t&&!i&&a.jsx(mse,{data:x,disabled:i||!t,onClick:r}),_,!s&&a.jsx(a2,{data:g,disabled:s,dropLabel:y})]})})},Sa=d.memo(xse),bse=()=>a.jsx(Sg,{sx:{position:"relative",height:"full",width:"full","::before":{content:"''",display:"block",pt:"100%"}},children:a.jsx(_e,{sx:{position:"absolute",top:0,insetInlineStart:0,height:"full",width:"full"}})}),yse=d.memo(bse),Cse=le([xe,_b],({gallery:e},t)=>{const n=e.selection;return{queryArgs:t,selection:n}},Ie),wse=e=>{const t=ee(),{queryArgs:n,selection:r}=V(Cse),{imageDTOs:o}=Q_(n,{selectFromResult:p=>({imageDTOs:p.data?kA.selectAll(p.data):[]})}),s=Kt("multiselect").isFeatureEnabled,i=d.useCallback(p=>{var h;if(e){if(!s){t(Uu([e]));return}if(p.shiftKey){const m=e.image_name,g=(h=r[r.length-1])==null?void 0:h.image_name,x=o.findIndex(b=>b.image_name===g),y=o.findIndex(b=>b.image_name===m);if(x>-1&&y>-1){const b=Math.min(x,y),w=Math.max(x,y),S=o.slice(b,w+1);t(Uu(CS(r.concat(S))))}}else p.ctrlKey||p.metaKey?r.some(m=>m.image_name===e.image_name)&&r.length>1?t(Uu(r.filter(m=>m.image_name!==e.image_name))):t(Uu(CS(r.concat(e)))):t(Uu([e]))}},[t,e,o,r,s]),l=d.useMemo(()=>e?r.some(p=>p.image_name===e.image_name):!1,[e,r]),c=d.useMemo(()=>r.length,[r.length]);return{selection:r,selectionCount:c,isSelected:l,handleClick:i}},Sse=e=>{const{onClick:t,tooltip:n,icon:r,styleOverrides:o}=e,s=il("drop-shadow(0px 0px 0.1rem var(--invokeai-colors-base-600))","drop-shadow(0px 0px 0.1rem var(--invokeai-colors-base-800))");return a.jsx(ze,{onClick:t,"aria-label":n,tooltip:n,icon:r,size:"sm",variant:"link",sx:{position:"absolute",top:1,insetInlineEnd:1,p:0,minW:0,svg:{transitionProperty:"common",transitionDuration:"normal",fill:"base.100",_hover:{fill:"base.50"},filter:s},...o}})},nl=d.memo(Sse),kse=e=>{const t=ee(),{imageName:n}=e,{currentData:r}=oo(n),o=V(E=>E.hotkeys.shift),{t:s}=Z(),{handleClick:i,isSelected:l,selection:c,selectionCount:p}=wse(r),h=Jg(wb),m=d.useCallback(E=>{E.stopPropagation(),r&&t(Xm([r]))},[t,r]),g=d.useMemo(()=>{if(p>1)return{id:"gallery-image",payloadType:"IMAGE_DTOS",payload:{imageDTOs:c}};if(r)return{id:"gallery-image",payloadType:"IMAGE_DTO",payload:{imageDTO:r}}},[r,c,p]),[x]=kb(),[y]=jb(),b=d.useCallback(()=>{r&&(r.starred&&y({imageDTOs:[r]}),r.starred||x({imageDTOs:[r]}))},[x,y,r]),[w,S]=d.useState(!1),j=d.useCallback(()=>{S(!0)},[]),I=d.useCallback(()=>{S(!1)},[]),M=d.useMemo(()=>{if(r!=null&&r.starred)return h?h.on.icon:a.jsx(w2,{size:"20"});if(!(r!=null&&r.starred)&&w)return h?h.off.icon:a.jsx(C2,{size:"20"})},[r==null?void 0:r.starred,w,h]),_=d.useMemo(()=>r!=null&&r.starred?h?h.off.text:"Unstar":r!=null&&r.starred?"":h?h.on.text:"Star",[r==null?void 0:r.starred,h]);return r?a.jsx(_e,{sx:{w:"full",h:"full",touchAction:"none"},children:a.jsx(N,{userSelect:"none",sx:{position:"relative",justifyContent:"center",alignItems:"center",aspectRatio:"1/1"},children:a.jsx(Sa,{onClick:i,imageDTO:r,draggableData:g,isSelected:l,minSize:0,imageSx:{w:"full",h:"full"},isDropDisabled:!0,isUploadDisabled:!0,thumbnail:!0,withHoverOverlay:!0,onMouseOver:j,onMouseOut:I,children:a.jsxs(a.Fragment,{children:[a.jsx(nl,{onClick:b,icon:M,tooltip:_}),w&&o&&a.jsx(nl,{onClick:m,icon:a.jsx(Vr,{}),tooltip:s("gallery.deleteImage"),styleOverrides:{bottom:2,top:"auto"}})]})})})}):a.jsx(yse,{})},jse=d.memo(kse),Ise=je((e,t)=>a.jsx(_e,{className:"item-container",ref:t,p:1.5,children:e.children})),_se=d.memo(Ise),Pse=je((e,t)=>{const n=V(r=>r.gallery.galleryImageMinimumWidth);return a.jsx(pi,{...e,className:"list-container",ref:t,sx:{gridTemplateColumns:`repeat(auto-fill, minmax(${n}px, 1fr));`},children:e.children})}),Ese=d.memo(Pse),Mse={defer:!0,options:{scrollbars:{visibility:"auto",autoHide:"scroll",autoHideDelay:1300,theme:"os-theme-dark"},overflow:{x:"hidden"}}},Ose=()=>{const{t:e}=Z(),t=d.useRef(null),[n,r]=d.useState(null),[o,s]=s2(Mse),i=V(w=>w.gallery.selectedBoardId),{currentViewTotal:l}=qoe(i),c=V(_b),{currentData:p,isFetching:h,isSuccess:m,isError:g}=Q_(c),[x]=Y_(),y=d.useMemo(()=>!p||!l?!1:p.ids.length<l,[p,l]),b=d.useCallback(()=>{y&&x({...c,offset:(p==null?void 0:p.ids.length)??0,limit:Z_})},[y,x,c,p==null?void 0:p.ids.length]);return d.useEffect(()=>{const{current:w}=t;return n&&w&&o({target:w,elements:{viewport:n}}),()=>{var S;return(S=s())==null?void 0:S.destroy()}},[n,o,s]),p?m&&(p==null?void 0:p.ids.length)===0?a.jsx(N,{sx:{w:"full",h:"full",alignItems:"center",justifyContent:"center"},children:a.jsx(er,{label:e("gallery.noImagesInGallery"),icon:ml})}):m&&p?a.jsxs(a.Fragment,{children:[a.jsx(_e,{ref:t,"data-overlayscrollbars":"",h:"100%",children:a.jsx(Koe,{style:{height:"100%"},data:p.ids,endReached:b,components:{Item:_se,List:Ese},scrollerRef:r,itemContent:(w,S)=>a.jsx(jse,{imageName:S},S)})}),a.jsx(it,{onClick:b,isDisabled:!y,isLoading:h,loadingText:e("gallery.loading"),flexShrink:0,children:`Load More (${p.ids.length} of ${l})`})]}):g?a.jsx(_e,{sx:{w:"full",h:"full"},children:a.jsx(er,{label:e("gallery.unableToLoad"),icon:yee})}):null:a.jsx(N,{sx:{w:"full",h:"full",alignItems:"center",justifyContent:"center"},children:a.jsx(er,{label:e("gallery.loading"),icon:ml})})},Dse=d.memo(Ose),Rse=le([xe],e=>{const{galleryView:t}=e.gallery;return{galleryView:t}},Ie),Ase=()=>{const e=d.useRef(null),t=d.useRef(null),{galleryView:n}=V(Rse),r=ee(),{isOpen:o,onToggle:s}=Br({defaultIsOpen:!0}),i=d.useCallback(()=>{r(Vw("images"))},[r]),l=d.useCallback(()=>{r(Vw("assets"))},[r]);return a.jsxs(qP,{layerStyle:"first",sx:{flexDirection:"column",h:"full",w:"full",borderRadius:"base",p:2},children:[a.jsxs(_e,{sx:{w:"full"},children:[a.jsxs(N,{ref:e,sx:{alignItems:"center",justifyContent:"space-between",gap:2},children:[a.jsx(ure,{isOpen:o,onToggle:s}),a.jsx(bre,{})]}),a.jsx(_e,{children:a.jsx(ire,{isOpen:o})})]}),a.jsxs(N,{ref:t,direction:"column",gap:2,h:"full",w:"full",children:[a.jsx(N,{sx:{alignItems:"center",justifyContent:"space-between",gap:2},children:a.jsx(wl,{index:n==="images"?0:1,variant:"unstyled",size:"sm",sx:{w:"full"},children:a.jsx(Sl,{children:a.jsxs(Gt,{isAttached:!0,sx:{w:"full"},children:[a.jsx(Lr,{as:it,size:"sm",isChecked:n==="images",onClick:i,sx:{w:"full"},leftIcon:a.jsx(Pee,{}),children:"Images"}),a.jsx(Lr,{as:it,size:"sm",isChecked:n==="assets",onClick:l,sx:{w:"full"},leftIcon:a.jsx(Fee,{}),children:"Assets"})]})})})}),a.jsx(Dse,{})]})]})},Tse=d.memo(Ase),Nse=()=>{const e=V(p=>p.system.isConnected),{data:t}=Hs(),[n,{isLoading:r}]=Pb(),o=ee(),{t:s}=Z(),i=d.useMemo(()=>t==null?void 0:t.queue.item_id,[t==null?void 0:t.queue.item_id]),l=d.useCallback(async()=>{if(i)try{await n(i).unwrap(),o(ut({title:s("queue.cancelSucceeded"),status:"success"}))}catch{o(ut({title:s("queue.cancelFailed"),status:"error"}))}},[i,o,s,n]),c=d.useMemo(()=>!e||!i,[e,i]);return{cancelQueueItem:l,isLoading:r,currentQueueItemId:i,isDisabled:c}},$se=({label:e,tooltip:t,icon:n,onClick:r,isDisabled:o,colorScheme:s,asIconButton:i,isLoading:l,loadingText:c,sx:p})=>i?a.jsx(ze,{"aria-label":e,tooltip:t,icon:n,onClick:r,isDisabled:o,colorScheme:s,isLoading:l,sx:p}):a.jsx(it,{"aria-label":e,tooltip:t,leftIcon:n,onClick:r,isDisabled:o,colorScheme:s,isLoading:l,loadingText:c??e,flexGrow:1,sx:p,children:e}),Ml=d.memo($se),Lse=({asIconButton:e,sx:t})=>{const{t:n}=Z(),{cancelQueueItem:r,isLoading:o,isDisabled:s}=Nse();return a.jsx(Ml,{isDisabled:s,isLoading:o,asIconButton:e,label:n("queue.cancel"),tooltip:n("queue.cancelTooltip"),icon:a.jsx(Rd,{}),onClick:r,colorScheme:"error",sx:t})},wO=d.memo(Lse),zse=()=>{const{t:e}=Z(),t=ee(),{data:n}=Hs(),r=V(c=>c.system.isConnected),[o,{isLoading:s}]=J_({fixedCacheKey:"clearQueue"}),i=d.useCallback(async()=>{if(n!=null&&n.queue.total)try{await o().unwrap(),t(ut({title:e("queue.clearSucceeded"),status:"success"})),t(Eb(void 0)),t(Mb(void 0))}catch{t(ut({title:e("queue.clearFailed"),status:"error"}))}},[n==null?void 0:n.queue.total,o,t,e]),l=d.useMemo(()=>!r||!(n!=null&&n.queue.total),[r,n==null?void 0:n.queue.total]);return{clearQueue:i,isLoading:s,queueStatus:n,isDisabled:l}},Fse=je((e,t)=>{const{t:n}=Z(),{acceptButtonText:r=n("common.accept"),acceptCallback:o,cancelButtonText:s=n("common.cancel"),cancelCallback:i,children:l,title:c,triggerComponent:p}=e,{isOpen:h,onOpen:m,onClose:g}=Br(),x=d.useRef(null),y=()=>{o(),g()},b=()=>{i&&i(),g()};return a.jsxs(a.Fragment,{children:[d.cloneElement(p,{onClick:m,ref:t}),a.jsx(pf,{isOpen:h,leastDestructiveRef:x,onClose:g,isCentered:!0,children:a.jsx(os,{children:a.jsxs(hf,{children:[a.jsx(rs,{fontSize:"lg",fontWeight:"bold",children:c}),a.jsx(ss,{children:l}),a.jsxs(As,{children:[a.jsx(it,{ref:x,onClick:b,children:s}),a.jsx(it,{colorScheme:"error",onClick:y,ml:3,children:r})]})]})})})]})}),t0=d.memo(Fse),Bse=({asIconButton:e,sx:t})=>{const{t:n}=Z(),{clearQueue:r,isLoading:o,isDisabled:s}=zse();return a.jsxs(t0,{title:n("queue.clearTooltip"),acceptCallback:r,acceptButtonText:n("queue.clear"),triggerComponent:a.jsx(Ml,{isDisabled:s,isLoading:o,asIconButton:e,label:n("queue.clear"),tooltip:n("queue.clearTooltip"),icon:a.jsx(Vr,{}),colorScheme:"error",sx:t}),children:[a.jsx(ge,{children:n("queue.clearQueueAlertDialog")}),a.jsx("br",{}),a.jsx(ge,{children:n("queue.clearQueueAlertDialog2")})]})},k2=d.memo(Bse),Hse=()=>{const e=ee(),{t}=Z(),n=V(p=>p.system.isConnected),{data:r}=Hs(),[o,{isLoading:s}]=e5({fixedCacheKey:"pauseProcessor"}),i=d.useMemo(()=>!!(r!=null&&r.processor.is_started),[r==null?void 0:r.processor.is_started]),l=d.useCallback(async()=>{if(i)try{await o().unwrap(),e(ut({title:t("queue.pauseSucceeded"),status:"success"}))}catch{e(ut({title:t("queue.pauseFailed"),status:"error"}))}},[i,o,e,t]),c=d.useMemo(()=>!n||!i,[n,i]);return{pauseProcessor:l,isLoading:s,isStarted:i,isDisabled:c}},Vse=({asIconButton:e})=>{const{t}=Z(),{pauseProcessor:n,isLoading:r,isDisabled:o}=Hse();return a.jsx(Ml,{asIconButton:e,label:t("queue.pause"),tooltip:t("queue.pauseTooltip"),isDisabled:o,isLoading:r,icon:a.jsx(Aee,{}),onClick:n,colorScheme:"gold"})},SO=d.memo(Vse),Wse=le([xe,tr],({controlNet:e,generation:t,system:n,nodes:r,dynamicPrompts:o},s)=>{const{initialImage:i,model:l}=t,{isConnected:c}=n,p=[];return c||p.push(wt.t("parameters.invoke.systemDisconnected")),s==="img2img"&&!i&&p.push(wt.t("parameters.invoke.noInitialImageSelected")),s==="nodes"?r.shouldValidateGraph&&(r.nodes.length||p.push(wt.t("parameters.invoke.noNodesInGraph")),r.nodes.forEach(h=>{if(!Dn(h))return;const m=r.nodeTemplates[h.data.type];if(!m){p.push(wt.t("parameters.invoke.missingNodeTemplate"));return}const g=jA([h],r.edges);zn(h.data.inputs,x=>{const y=m.inputs[x.name],b=g.some(w=>w.target===h.id&&w.targetHandle===x.name);if(!y){p.push(wt.t("parameters.invoke.missingFieldTemplate"));return}if(y.required&&x.value===void 0&&!b){p.push(wt.t("parameters.invoke.missingInputForField",{nodeLabel:h.data.label||m.title,fieldLabel:x.label||y.title}));return}})})):(o.prompts.length===0&&p.push(wt.t("parameters.invoke.noPrompts")),l||p.push(wt.t("parameters.invoke.noModelSelected")),e.isEnabled&&hr(e.controlNets).forEach((h,m)=>{h.isEnabled&&(h.model||p.push(wt.t("parameters.invoke.noModelForControlNet",{index:m+1})),(!h.controlImage||!h.processedControlImage&&h.processorType!=="none")&&p.push(wt.t("parameters.invoke.noControlImageForControlNet",{index:m+1})))})),{isReady:!p.length,reasons:p}},Ie),j2=()=>{const{isReady:e,reasons:t}=V(Wse);return{isReady:e,reasons:t}},kO=()=>{const e=ee(),t=V(tr),{isReady:n}=j2(),[r,{isLoading:o}]=Qm({fixedCacheKey:"enqueueBatch"}),s=d.useMemo(()=>!n,[n]);return{queueBack:d.useCallback(()=>{s||(e(Ob()),e(t5({tabName:t,prepend:!1})))},[e,s,t]),isLoading:o,isDisabled:s}},Use=le([xe],({gallery:e})=>{const{autoAddBoardId:t}=e;return{autoAddBoardId:t}},Ie),Gse=({prepend:e=!1})=>{const{t}=Z(),{isReady:n,reasons:r}=j2(),{autoAddBoardId:o}=V(Use),s=Kg(o),[i,{isLoading:l}]=Qm({fixedCacheKey:"enqueueBatch"}),c=d.useMemo(()=>t(l?"queue.enqueueing":n?e?"queue.queueFront":"queue.queueBack":"queue.notReady"),[l,n,e,t]);return a.jsxs(N,{flexDir:"column",gap:1,children:[a.jsx(ge,{fontWeight:600,children:c}),r.length>0&&a.jsx(cf,{children:r.map((p,h)=>a.jsx(Jr,{children:a.jsx(ge,{fontWeight:400,children:p})},`${p}.${h}`))}),a.jsx(IO,{}),a.jsxs(ge,{fontWeight:400,fontStyle:"oblique 10deg",children:["Adding images to"," ",a.jsx(ge,{as:"span",fontWeight:600,children:s||"Uncategorized"})]})]})},jO=d.memo(Gse),IO=d.memo(()=>a.jsx(Jn,{opacity:.2,borderColor:"base.50",_dark:{borderColor:"base.900"}}));IO.displayName="StyledDivider";const Kse=()=>a.jsx(_e,{pos:"relative",w:4,h:4,children:a.jsx(Pa,{src:yb,alt:"invoke-ai-logo",pos:"absolute",top:-.5,insetInlineStart:-.5,w:5,h:5,minW:5,minH:5,filter:"saturate(0)"})}),qse=d.memo(Kse),Xse=({asIconButton:e,sx:t})=>{const{t:n}=Z(),{queueBack:r,isLoading:o,isDisabled:s}=kO();return a.jsx(Ml,{asIconButton:e,colorScheme:"accent",label:n("parameters.invoke.invoke"),isDisabled:s,isLoading:o,onClick:r,tooltip:a.jsx(jO,{}),sx:t,icon:e?a.jsx(qse,{}):void 0})},_O=d.memo(Xse),PO=()=>{const e=ee(),t=V(tr),{isReady:n}=j2(),[r,{isLoading:o}]=Qm({fixedCacheKey:"enqueueBatch"}),s=Kt("prependQueue").isFeatureEnabled,i=d.useMemo(()=>!n||!s,[n,s]);return{queueFront:d.useCallback(()=>{i||(e(Ob()),e(t5({tabName:t,prepend:!0})))},[e,i,t]),isLoading:o,isDisabled:i}},Qse=({asIconButton:e,sx:t})=>{const{t:n}=Z(),{queueFront:r,isLoading:o,isDisabled:s}=PO();return a.jsx(Ml,{asIconButton:e,colorScheme:"base",label:n("queue.queueFront"),isDisabled:s,isLoading:o,onClick:r,tooltip:a.jsx(jO,{prepend:!0}),icon:a.jsx(Joe,{}),sx:t})},Yse=d.memo(Qse),Zse=()=>{const e=ee(),t=V(p=>p.system.isConnected),{data:n}=Hs(),{t:r}=Z(),[o,{isLoading:s}]=n5({fixedCacheKey:"resumeProcessor"}),i=d.useMemo(()=>!!(n!=null&&n.processor.is_started),[n==null?void 0:n.processor.is_started]),l=d.useCallback(async()=>{if(!i)try{await o().unwrap(),e(ut({title:r("queue.resumeSucceeded"),status:"success"}))}catch{e(ut({title:r("queue.resumeFailed"),status:"error"}))}},[i,o,e,r]),c=d.useMemo(()=>!t||i,[t,i]);return{resumeProcessor:l,isLoading:s,isStarted:i,isDisabled:c}},Jse=({asIconButton:e})=>{const{t}=Z(),{resumeProcessor:n,isLoading:r,isDisabled:o}=Zse();return a.jsx(Ml,{asIconButton:e,label:t("queue.resume"),tooltip:t("queue.resumeTooltip"),isDisabled:o,isLoading:r,icon:a.jsx(Tee,{}),onClick:n,colorScheme:"green"})},EO=d.memo(Jse),eae=le(xe,({system:e})=>{var t;return{isConnected:e.isConnected,hasSteps:!!e.denoiseProgress,value:(((t=e.denoiseProgress)==null?void 0:t.percentage)??0)*100}},Ie),tae=()=>{const{t:e}=Z(),{data:t}=Hs(),{hasSteps:n,value:r,isConnected:o}=V(eae);return a.jsx(_3,{value:r,"aria-label":e("accessibility.invokeProgressBar"),isIndeterminate:o&&!!(t!=null&&t.queue.in_progress)&&!n,h:"full",w:"full",borderRadius:2,colorScheme:"accent"})},nae=d.memo(tae),rae=()=>{const e=Kt("pauseQueue").isFeatureEnabled,t=Kt("resumeQueue").isFeatureEnabled,n=Kt("prependQueue").isFeatureEnabled;return a.jsxs(N,{layerStyle:"first",sx:{w:"full",position:"relative",borderRadius:"base",p:2,gap:2,flexDir:"column"},children:[a.jsxs(N,{gap:2,w:"full",children:[a.jsxs(Gt,{isAttached:!0,flexGrow:2,children:[a.jsx(_O,{}),n?a.jsx(Yse,{asIconButton:!0}):a.jsx(a.Fragment,{}),a.jsx(wO,{asIconButton:!0})]}),a.jsxs(Gt,{isAttached:!0,children:[t?a.jsx(EO,{asIconButton:!0}):a.jsx(a.Fragment,{}),e?a.jsx(SO,{asIconButton:!0}):a.jsx(a.Fragment,{})]}),a.jsx(k2,{asIconButton:!0})]}),a.jsx(N,{h:3,w:"full",children:a.jsx(nae,{})}),a.jsx(OO,{})]})},MO=d.memo(rae),OO=d.memo(()=>{const{t:e}=Z(),t=ee(),{hasItems:n,pending:r}=Hs(void 0,{selectFromResult:({data:s})=>{if(!s)return{hasItems:!1,pending:0};const{pending:i,in_progress:l}=s.queue;return{hasItems:i+l>0,pending:i}}}),o=d.useCallback(()=>{t(ua("queue"))},[t]);return a.jsxs(N,{justifyContent:"space-between",alignItems:"center",pe:1,children:[a.jsx(Oa,{}),a.jsx(fi,{onClick:o,size:"sm",variant:"link",fontWeight:400,opacity:.7,fontStyle:"oblique 10deg",children:n?e("queue.queuedCount",{pending:r}):e("queue.queueEmpty")})]})});OO.displayName="QueueCounts";const{createElement:Jc,createContext:oae,forwardRef:DO,useCallback:ra,useContext:RO,useEffect:xa,useImperativeHandle:AO,useLayoutEffect:sae,useMemo:aae,useRef:Yr,useState:vd}=xb,bI=xb["useId".toString()],xd=sae,iae=typeof bI=="function"?bI:()=>null;let lae=0;function I2(e=null){const t=iae(),n=Yr(e||t||null);return n.current===null&&(n.current=""+lae++),n.current}const n0=oae(null);n0.displayName="PanelGroupContext";function TO({children:e=null,className:t="",collapsedSize:n=0,collapsible:r=!1,defaultSize:o=null,forwardedRef:s,id:i=null,maxSize:l=null,minSize:c,onCollapse:p=null,onResize:h=null,order:m=null,style:g={},tagName:x="div"}){const y=RO(n0);if(y===null)throw Error("Panel components must be rendered within a PanelGroup container");const b=I2(i),{collapsePanel:w,expandPanel:S,getPanelSize:j,getPanelStyle:I,registerPanel:M,resizePanel:_,units:E,unregisterPanel:D}=y;c==null&&(E==="percentages"?c=10:c=0);const R=Yr({onCollapse:p,onResize:h});xa(()=>{R.current.onCollapse=p,R.current.onResize=h});const A=I(b,o),O=Yr({size:yI(A)}),T=Yr({callbacksRef:R,collapsedSize:n,collapsible:r,defaultSize:o,id:b,idWasAutoGenerated:i==null,maxSize:l,minSize:c,order:m});return xd(()=>{O.current.size=yI(A),T.current.callbacksRef=R,T.current.collapsedSize=n,T.current.collapsible=r,T.current.defaultSize=o,T.current.id=b,T.current.idWasAutoGenerated=i==null,T.current.maxSize=l,T.current.minSize=c,T.current.order=m}),xd(()=>(M(b,T),()=>{D(b)}),[m,b,M,D]),AO(s,()=>({collapse:()=>w(b),expand:()=>S(b),getCollapsed(){return O.current.size===0},getId(){return b},getSize(K){return j(b,K)},resize:(K,L)=>_(b,K,L)}),[w,S,j,b,_]),Jc(x,{children:e,className:t,"data-panel":"","data-panel-collapsible":r||void 0,"data-panel-id":b,"data-panel-size":parseFloat(""+A.flexGrow).toFixed(1),id:`data-panel-id-${b}`,style:{...A,...g}})}const ui=DO((e,t)=>Jc(TO,{...e,forwardedRef:t}));TO.displayName="Panel";ui.displayName="forwardRef(Panel)";function yI(e){const{flexGrow:t}=e;return typeof t=="string"?parseFloat(t):t}const xl=10;function sd(e,t,n,r,o,s,i,l){const{id:c,panels:p,units:h}=t,m=h==="pixels"?Ja(c):NaN,{sizes:g}=l||{},x=g||s,y=Ar(p),b=x.concat();let w=0;{const I=o<0?r:n,M=y.findIndex(R=>R.current.id===I),_=y[M],E=x[M],D=Qx(h,m,_,E,E+Math.abs(o),e);if(E===D)return x;D===0&&E>0&&i.set(I,E),o=o<0?E-D:D-E}let S=o<0?n:r,j=y.findIndex(I=>I.current.id===S);for(;;){const I=y[j],M=x[j],_=Math.abs(o)-Math.abs(w),E=Qx(h,m,I,M,M-_,e);if(M!==E&&(E===0&&M>0&&i.set(I.current.id,M),w+=M-E,b[j]=E,w.toPrecision(xl).localeCompare(Math.abs(o).toPrecision(xl),void 0,{numeric:!0})>=0))break;if(o<0){if(--j<0)break}else if(++j>=y.length)break}return w===0?x:(S=o<0?r:n,j=y.findIndex(I=>I.current.id===S),b[j]=x[j]+w,b)}function ac(e,t,n){t.forEach((r,o)=>{const s=e[o];if(!s)return;const{callbacksRef:i,collapsedSize:l,collapsible:c,id:p}=s.current,h=n[p];if(h!==r){n[p]=r;const{onCollapse:m,onResize:g}=i.current;g&&g(r,h),c&&m&&((h==null||h===l)&&r!==l?m(!1):h!==l&&r===l&&m(!0))}})}function cae({groupId:e,panels:t,units:n}){const r=n==="pixels"?Ja(e):NaN,o=Ar(t),s=Array(o.length);let i=0,l=100;for(let c=0;c<o.length;c++){const p=o[c],{defaultSize:h}=p.current;h!=null&&(i++,s[c]=n==="pixels"?h/r*100:h,l-=s[c])}for(let c=0;c<o.length;c++){const p=o[c];let{defaultSize:h,id:m,maxSize:g,minSize:x}=p.current;if(h!=null)continue;n==="pixels"&&(x=x/r*100,g!=null&&(g=g/r*100));const y=o.length-i,b=Math.min(g??100,Math.max(x,l/y));s[c]=b,i++,l-=b}if(l!==0)for(let c=0;c<o.length;c++){const p=o[c];let{maxSize:h,minSize:m}=p.current;n==="pixels"&&(m=m/r*100,h!=null&&(h=h/r*100));const g=Math.min(h??100,Math.max(m,s[c]+l));if(g!==s[c]&&(l-=g-s[c],s[c]=g,Math.abs(l).toFixed(3)==="0.000"))break}return Math.abs(l).toFixed(3),s}function C1(e,t){if(t.length<2)return[null,null];const n=t.findIndex(i=>i.current.id===e);if(n<0)return[null,null];const r=n===t.length-1,o=r?t[n-1].current.id:e,s=r?e:t[n+1].current.id;return[o,s]}function Ja(e){const t=Hd(e);if(t==null)return NaN;const n=t.getAttribute("data-panel-group-direction"),r=_2(e);return n==="horizontal"?t.offsetWidth-r.reduce((o,s)=>o+s.offsetWidth,0):t.offsetHeight-r.reduce((o,s)=>o+s.offsetHeight,0)}function NO(e,t,n){if(e.size===1)return"100";const o=Ar(e).findIndex(i=>i.current.id===t),s=n[o];return s==null?"0":s.toPrecision(xl)}function uae(e){const t=document.querySelector(`[data-panel-id="${e}"]`);return t||null}function Hd(e){const t=document.querySelector(`[data-panel-group-id="${e}"]`);return t||null}function r0(e){const t=document.querySelector(`[data-panel-resize-handle-id="${e}"]`);return t||null}function dae(e){return $O().findIndex(r=>r.getAttribute("data-panel-resize-handle-id")===e)??null}function $O(){return Array.from(document.querySelectorAll("[data-panel-resize-handle-id]"))}function _2(e){return Array.from(document.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function P2(e,t,n){var c,p,h,m;const r=r0(t),o=_2(e),s=r?o.indexOf(r):-1,i=((p=(c=n[s])==null?void 0:c.current)==null?void 0:p.id)??null,l=((m=(h=n[s+1])==null?void 0:h.current)==null?void 0:m.id)??null;return[i,l]}function Ar(e){return Array.from(e.values()).sort((t,n)=>{const r=t.current.order,o=n.current.order;return r==null&&o==null?0:r==null?-1:o==null?1:r-o})}function Qx(e,t,n,r,o,s=null){var h;let{collapsedSize:i,collapsible:l,maxSize:c,minSize:p}=n.current;if(e==="pixels"&&(i=i/t*100,c!=null&&(c=c/t*100),p=p/t*100),l){if(r>i){if(o<=p/2+i)return i}else if(!((h=s==null?void 0:s.type)==null?void 0:h.startsWith("key"))&&o<p)return i}return Math.min(c??100,Math.max(p,o))}function fae(e,t){const{collapsible:n,defaultSize:r,maxSize:o,minSize:s}=t.current;(s<0||e==="percentages"&&s>100)&&(t.current.minSize=0),o!=null&&(o<0||e==="percentages"&&o>100)&&(t.current.maxSize=null),r!==null&&(r<0||e==="percentages"&&r>100?t.current.defaultSize=null:r<s&&!n?t.current.defaultSize=s:o!=null&&r>o&&(t.current.defaultSize=o))}function w1({groupId:e,panels:t,nextSizes:n,prevSizes:r,units:o}){n=[...n];const s=Ar(t),i=o==="pixels"?Ja(e):NaN;let l=0;for(let c=0;c<s.length;c++){const p=s[c],h=r[c],m=n[c],g=Qx(o,i,p,h,m);m!=g&&(l+=m-g,n[c]=g)}if(l.toFixed(3)!=="0.000")for(let c=0;c<s.length;c++){const p=s[c];let{maxSize:h,minSize:m}=p.current;o==="pixels"&&(m=m/i*100,h!=null&&(h=h/i*100));const g=Math.min(h??100,Math.max(m,n[c]+l));if(g!==n[c]&&(l-=g-n[c],n[c]=g,Math.abs(l).toFixed(3)==="0.000"))break}return l.toFixed(3),n}function LO(e,t="Assertion failed!"){if(!e)throw console.error(t),Error(t)}function pae({committedValuesRef:e,groupId:t,panels:n,setSizes:r,sizes:o,panelSizeBeforeCollapse:s}){xa(()=>{const{direction:i,panels:l}=e.current,c=Hd(t);LO(c!=null,`No group found for id "${t}"`);const{height:p,width:h}=c.getBoundingClientRect(),g=_2(t).map(x=>{const y=x.getAttribute("data-panel-resize-handle-id"),b=Ar(l),[w,S]=P2(t,y,b);if(w==null||S==null)return()=>{};let j=0,I=100,M=0,_=0;b.forEach(T=>{const{id:K,maxSize:L,minSize:H}=T.current;K===w?(j=H,I=L??100):(M+=H,_+=L??100)});const E=Math.min(I,100-M),D=Math.max(j,(b.length-1)*100-_),R=NO(l,w,o);x.setAttribute("aria-valuemax",""+Math.round(E)),x.setAttribute("aria-valuemin",""+Math.round(D)),x.setAttribute("aria-valuenow",""+Math.round(parseInt(R)));const A=T=>{if(!T.defaultPrevented)switch(T.key){case"Enter":{T.preventDefault();const K=b.findIndex(L=>L.current.id===w);if(K>=0){const L=b[K],H=o[K];if(H!=null){let U=0;H.toPrecision(xl)<=L.current.minSize.toPrecision(xl)?U=i==="horizontal"?h:p:U=-(i==="horizontal"?h:p);const W=sd(T,e.current,w,S,U,o,s.current,null);o!==W&&r(W)}}break}}};x.addEventListener("keydown",A);const O=uae(w);return O!=null&&x.setAttribute("aria-controls",O.id),()=>{x.removeAttribute("aria-valuemax"),x.removeAttribute("aria-valuemin"),x.removeAttribute("aria-valuenow"),x.removeEventListener("keydown",A),O!=null&&x.removeAttribute("aria-controls")}});return()=>{g.forEach(x=>x())}},[e,t,n,s,r,o])}function hae({disabled:e,handleId:t,resizeHandler:n}){xa(()=>{if(e||n==null)return;const r=r0(t);if(r==null)return;const o=s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{s.preventDefault(),n(s);break}case"F6":{s.preventDefault();const i=$O(),l=dae(t);LO(l!==null);const c=s.shiftKey?l>0?l-1:i.length-1:l+1<i.length?l+1:0;i[c].focus();break}}};return r.addEventListener("keydown",o),()=>{r.removeEventListener("keydown",o)}},[e,t,n])}function S1(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function zO(e,t,n,r=0,o=null){const s=n==="horizontal";let i=0;if(Yx(e))i=s?e.clientX:e.clientY;else if(Zx(e)){const h=e.touches[0];i=s?h.screenX:h.screenY}else return 0;const l=r0(t),c=o||l.getBoundingClientRect(),p=s?c.left:c.top;return i-p-r}function mae(e,t,n,r,o,s,i){const{dragOffset:l=0,dragHandleRect:c,sizes:p}=i||{},h=p||s;if(gae(e)){const m=o==="horizontal",x=Hd(t).getBoundingClientRect(),y=m?x.width:x.height,b=e.shiftKey?10:100,w=y/b;let S=0;switch(e.key){case"ArrowDown":S=m?0:w;break;case"ArrowLeft":S=m?-w:0;break;case"ArrowRight":S=m?w:0;break;case"ArrowUp":S=m?0:-w;break;case"End":S=y;break;case"Home":S=-y;break}const[j,I]=P2(t,n,r),M=S<0?j:I,_=r.findIndex(D=>D.current.id===M),E=r[_];if(E.current.collapsible){const D=h[_];(D===0||D.toPrecision(xl)===E.current.minSize.toPrecision(xl))&&(S=S<0?-E.current.minSize*y:E.current.minSize*y)}return S}else return zO(e,n,o,l,c)}function gae(e){return e.type==="keydown"}function Yx(e){return e.type.startsWith("mouse")}function Zx(e){return e.type.startsWith("touch")}let Jx=null,Ki=null;function FO(e){switch(e){case"horizontal":return"ew-resize";case"horizontal-max":return"w-resize";case"horizontal-min":return"e-resize";case"vertical":return"ns-resize";case"vertical-max":return"n-resize";case"vertical-min":return"s-resize"}}function vae(){Ki!==null&&(document.head.removeChild(Ki),Jx=null,Ki=null)}function k1(e){if(Jx===e)return;Jx=e;const t=FO(e);Ki===null&&(Ki=document.createElement("style"),document.head.appendChild(Ki)),Ki.innerHTML=`*{cursor: ${t}!important;}`}function xae(e,t=10){let n=null;return(...o)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...o)},t)}}function BO(e){return e.map(t=>{const{minSize:n,order:r}=t.current;return r?`${r}:${n}`:`${n}`}).sort((t,n)=>t.localeCompare(n)).join(",")}function HO(e,t){try{const n=t.getItem(`PanelGroup:sizes:${e}`);if(n){const r=JSON.parse(n);if(typeof r=="object"&&r!=null)return r}}catch{}return null}function bae(e,t,n){const r=HO(e,n);if(r){const o=BO(t);return r[o]??null}return null}function yae(e,t,n,r){const o=BO(t),s=HO(e,r)||{};s[o]=n;try{r.setItem(`PanelGroup:sizes:${e}`,JSON.stringify(s))}catch(i){console.error(i)}}const j1={};function CI(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}const ad={getItem:e=>(CI(ad),ad.getItem(e)),setItem:(e,t)=>{CI(ad),ad.setItem(e,t)}};function VO({autoSaveId:e,children:t=null,className:n="",direction:r,disablePointerEventsDuringResize:o=!1,forwardedRef:s,id:i=null,onLayout:l,storage:c=ad,style:p={},tagName:h="div",units:m="percentages"}){const g=I2(i),[x,y]=vd(null),[b,w]=vd(new Map),S=Yr(null);Yr({didLogDefaultSizeWarning:!1,didLogIdAndOrderWarning:!1,didLogInvalidLayoutWarning:!1,prevPanelIds:[]});const j=Yr({onLayout:l});xa(()=>{j.current.onLayout=l});const I=Yr({}),[M,_]=vd([]),E=Yr(new Map),D=Yr(0),R=Yr({direction:r,id:g,panels:b,sizes:M,units:m});AO(s,()=>({getId:()=>g,getLayout:F=>{const{sizes:X,units:Y}=R.current;if((F??Y)==="pixels"){const ae=Ja(g);return X.map(oe=>oe/100*ae)}else return X},setLayout:(F,X)=>{const{id:Y,panels:se,sizes:ae,units:oe}=R.current;if((X||oe)==="pixels"){const ce=Ja(Y);F=F.map(J=>J/ce*100)}const q=I.current,G=Ar(se),te=w1({groupId:Y,panels:se,nextSizes:F,prevSizes:ae,units:oe});S1(ae,te)||(_(te),ac(G,te,q))}}),[g]),xd(()=>{R.current.direction=r,R.current.id=g,R.current.panels=b,R.current.sizes=M,R.current.units=m}),pae({committedValuesRef:R,groupId:g,panels:b,setSizes:_,sizes:M,panelSizeBeforeCollapse:E}),xa(()=>{const{onLayout:F}=j.current,{panels:X,sizes:Y}=R.current;if(Y.length>0){F&&F(Y);const se=I.current,ae=Ar(X);ac(ae,Y,se)}},[M]),xd(()=>{const{id:F,sizes:X,units:Y}=R.current;if(X.length===b.size)return;let se=null;if(e){const ae=Ar(b);se=bae(e,ae,c)}if(se!=null){const ae=w1({groupId:F,panels:b,nextSizes:se,prevSizes:se,units:Y});_(ae)}else{const ae=cae({groupId:F,panels:b,units:Y});_(ae)}},[e,b,c]),xa(()=>{if(e){if(M.length===0||M.length!==b.size)return;const F=Ar(b);j1[e]||(j1[e]=xae(yae,100)),j1[e](e,F,M,c)}},[e,b,M,c]),xd(()=>{if(m==="pixels"){const F=new ResizeObserver(()=>{const{panels:X,sizes:Y}=R.current,se=w1({groupId:g,panels:X,nextSizes:Y,prevSizes:Y,units:m});S1(Y,se)||_(se)});return F.observe(Hd(g)),()=>{F.disconnect()}}},[g,m]);const A=ra((F,X)=>{const{panels:Y,units:se}=R.current,oe=Ar(Y).findIndex(te=>te.current.id===F),q=M[oe];if((X??se)==="pixels"){const te=Ja(g);return q/100*te}else return q},[g,M]),O=ra((F,X)=>{const{panels:Y}=R.current;return Y.size===0?{flexBasis:0,flexGrow:X??void 0,flexShrink:1,overflow:"hidden"}:{flexBasis:0,flexGrow:NO(Y,F,M),flexShrink:1,overflow:"hidden",pointerEvents:o&&x!==null?"none":void 0}},[x,o,M]),T=ra((F,X)=>{const{units:Y}=R.current;fae(Y,X),w(se=>{if(se.has(F))return se;const ae=new Map(se);return ae.set(F,X),ae})},[]),K=ra(F=>Y=>{Y.preventDefault();const{direction:se,panels:ae,sizes:oe}=R.current,q=Ar(ae),[G,te]=P2(g,F,q);if(G==null||te==null)return;let ce=mae(Y,g,F,q,se,oe,S.current);if(ce===0)return;const ie=Hd(g).getBoundingClientRect(),de=se==="horizontal";document.dir==="rtl"&&de&&(ce=-ce);const me=de?ie.width:ie.height,Ce=ce/me*100,ve=sd(Y,R.current,G,te,Ce,oe,E.current,S.current),pe=!S1(oe,ve);if((Yx(Y)||Zx(Y))&&D.current!=Ce&&k1(pe?de?"horizontal":"vertical":de?ce<0?"horizontal-min":"horizontal-max":ce<0?"vertical-min":"vertical-max"),pe){const Re=I.current;_(ve),ac(q,ve,Re)}D.current=Ce},[g]),L=ra(F=>{w(X=>{if(!X.has(F))return X;const Y=new Map(X);return Y.delete(F),Y})},[]),H=ra(F=>{const{panels:X,sizes:Y}=R.current,se=X.get(F);if(se==null)return;const{collapsedSize:ae,collapsible:oe}=se.current;if(!oe)return;const q=Ar(X),G=q.indexOf(se);if(G<0)return;const te=Y[G];if(te===ae)return;E.current.set(F,te);const[ce,J]=C1(F,q);if(ce==null||J==null)return;const de=G===q.length-1?te:ae-te,me=sd(null,R.current,ce,J,de,Y,E.current,null);if(Y!==me){const Ce=I.current;_(me),ac(q,me,Ce)}},[]),U=ra(F=>{const{panels:X,sizes:Y}=R.current,se=X.get(F);if(se==null)return;const{collapsedSize:ae,minSize:oe}=se.current,q=E.current.get(F)||oe;if(!q)return;const G=Ar(X),te=G.indexOf(se);if(te<0||Y[te]!==ae)return;const[J,ie]=C1(F,G);if(J==null||ie==null)return;const me=te===G.length-1?ae-q:q,Ce=sd(null,R.current,J,ie,me,Y,E.current,null);if(Y!==Ce){const ve=I.current;_(Ce),ac(G,Ce,ve)}},[]),W=ra((F,X,Y)=>{const{id:se,panels:ae,sizes:oe,units:q}=R.current;if((Y||q)==="pixels"){const lt=Ja(se);X=X/lt*100}const G=ae.get(F);if(G==null)return;let{collapsedSize:te,collapsible:ce,maxSize:J,minSize:ie}=G.current;if(q==="pixels"){const lt=Ja(se);ie=ie/lt*100,J!=null&&(J=J/lt*100)}const de=Ar(ae),me=de.indexOf(G);if(me<0)return;const Ce=oe[me];if(Ce===X)return;ce&&X===te||(X=Math.min(J??100,Math.max(ie,X)));const[ve,pe]=C1(F,de);if(ve==null||pe==null)return;const Pe=me===de.length-1?Ce-X:X-Ce,Ve=sd(null,R.current,ve,pe,Pe,oe,E.current,null);if(oe!==Ve){const lt=I.current;_(Ve),ac(de,Ve,lt)}},[]),z=aae(()=>({activeHandleId:x,collapsePanel:H,direction:r,expandPanel:U,getPanelSize:A,getPanelStyle:O,groupId:g,registerPanel:T,registerResizeHandle:K,resizePanel:W,startDragging:(F,X)=>{if(y(F),Yx(X)||Zx(X)){const Y=r0(F);S.current={dragHandleRect:Y.getBoundingClientRect(),dragOffset:zO(X,F,r),sizes:R.current.sizes}}},stopDragging:()=>{vae(),y(null),S.current=null},units:m,unregisterPanel:L}),[x,H,r,U,A,O,g,T,K,W,m,L]),Q={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return Jc(n0.Provider,{children:Jc(h,{children:t,className:n,"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":g,"data-panel-group-units":m,style:{...Q,...p}}),value:z})}const o0=DO((e,t)=>Jc(VO,{...e,forwardedRef:t}));VO.displayName="PanelGroup";o0.displayName="forwardRef(PanelGroup)";function eb({children:e=null,className:t="",disabled:n=!1,id:r=null,onDragging:o,style:s={},tagName:i="div"}){const l=Yr(null),c=Yr({onDragging:o});xa(()=>{c.current.onDragging=o});const p=RO(n0);if(p===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{activeHandleId:h,direction:m,groupId:g,registerResizeHandle:x,startDragging:y,stopDragging:b}=p,w=I2(r),S=h===w,[j,I]=vd(!1),[M,_]=vd(null),E=ra(()=>{l.current.blur(),b();const{onDragging:A}=c.current;A&&A(!1)},[b]);xa(()=>{if(n)_(null);else{const R=x(w);_(()=>R)}},[n,w,x]),xa(()=>{if(n||M==null||!S)return;const R=K=>{M(K)},A=K=>{M(K)},T=l.current.ownerDocument;return T.body.addEventListener("contextmenu",E),T.body.addEventListener("mousemove",R),T.body.addEventListener("touchmove",R),T.body.addEventListener("mouseleave",A),window.addEventListener("mouseup",E),window.addEventListener("touchend",E),()=>{T.body.removeEventListener("contextmenu",E),T.body.removeEventListener("mousemove",R),T.body.removeEventListener("touchmove",R),T.body.removeEventListener("mouseleave",A),window.removeEventListener("mouseup",E),window.removeEventListener("touchend",E)}},[m,n,S,M,E]),hae({disabled:n,handleId:w,resizeHandler:M});const D={cursor:FO(m),touchAction:"none",userSelect:"none"};return Jc(i,{children:e,className:t,"data-resize-handle-active":S?"pointer":j?"keyboard":void 0,"data-panel-group-direction":m,"data-panel-group-id":g,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":w,onBlur:()=>I(!1),onFocus:()=>I(!0),onMouseDown:R=>{y(w,R.nativeEvent);const{onDragging:A}=c.current;A&&A(!0)},onMouseUp:E,onTouchCancel:E,onTouchEnd:E,onTouchStart:R=>{y(w,R.nativeEvent);const{onDragging:A}=c.current;A&&A(!0)},ref:l,role:"separator",style:{...D,...s},tabIndex:0})}eb.displayName="PanelResizeHandle";const Cae=e=>{const{direction:t="horizontal",collapsedDirection:n,isCollapsed:r=!1,...o}=e,s=il("base.100","base.850"),i=il("base.300","base.700");return t==="horizontal"?a.jsx(eb,{style:{visibility:r?"hidden":"visible",width:r?0:"auto"},children:a.jsx(N,{className:"resize-handle-horizontal",sx:{w:n?2.5:4,h:"full",justifyContent:n?n==="left"?"flex-start":"flex-end":"center",alignItems:"center",div:{bg:s},_hover:{div:{bg:i}}},...o,children:a.jsx(_e,{sx:{w:1,h:"calc(100% - 1rem)",borderRadius:"base",transitionProperty:"common",transitionDuration:"normal"}})})}):a.jsx(eb,{style:{visibility:r?"hidden":"visible",width:r?0:"auto"},children:a.jsx(N,{className:"resize-handle-vertical",sx:{w:"full",h:n?2.5:4,alignItems:n?n==="top"?"flex-start":"flex-end":"center",justifyContent:"center",div:{bg:s},_hover:{div:{bg:i}}},...o,children:a.jsx(_e,{sx:{h:1,w:"calc(100% - 1rem)",borderRadius:"base",transitionProperty:"common",transitionDuration:"normal"}})})})},Fm=d.memo(Cae),E2=()=>{const e=ee(),t=V(o=>o.ui.panels),n=d.useCallback(o=>t[o]??"",[t]),r=d.useCallback((o,s)=>{e(IA({name:o,value:s}))},[e]);return{getItem:n,setItem:r}};const wae=e=>{const{label:t,data:n,fileName:r,withDownload:o=!0,withCopy:s=!0}=e,i=d.useMemo(()=>_A(n)?n:JSON.stringify(n,null,2),[n]),l=d.useCallback(()=>{navigator.clipboard.writeText(i)},[i]),c=d.useCallback(()=>{const h=new Blob([i]),m=document.createElement("a");m.href=URL.createObjectURL(h),m.download=`${r||t}.json`,document.body.appendChild(m),m.click(),m.remove()},[i,t,r]),{t:p}=Z();return a.jsxs(N,{layerStyle:"second",sx:{borderRadius:"base",flexGrow:1,w:"full",h:"full",position:"relative"},children:[a.jsx(_e,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"auto",p:4,fontSize:"sm"},children:a.jsx(Ug,{defer:!0,style:{height:"100%",width:"100%"},options:{scrollbars:{visibility:"auto",autoHide:"scroll",autoHideDelay:1300,theme:"os-theme-dark"}},children:a.jsx("pre",{children:i})})}),a.jsxs(N,{sx:{position:"absolute",top:0,insetInlineEnd:0,p:2},children:[o&&a.jsx(Ht,{label:`${p("gallery.download")} ${t} JSON`,children:a.jsx(Os,{"aria-label":`${p("gallery.download")} ${t} JSON`,icon:a.jsx($g,{}),variant:"ghost",opacity:.7,onClick:c})}),s&&a.jsx(Ht,{label:`${p("gallery.copy")} ${t} JSON`,children:a.jsx(Os,{"aria-label":`${p("gallery.copy")} ${t} JSON`,icon:a.jsx(pu,{}),variant:"ghost",opacity:.7,onClick:l})})]})]})},di=d.memo(wae),Sae=le(xe,({nodes:e})=>{const t=e.selectedNodes[e.selectedNodes.length-1],n=e.nodes.find(r=>r.id===t);return{data:n==null?void 0:n.data}},Ie),kae=()=>{const{data:e}=V(Sae);return e?a.jsx(di,{data:e,label:"Node Data"}):a.jsx(er,{label:"No node selected",icon:null})},jae=d.memo(kae),Iae=({children:e,maxHeight:t})=>a.jsx(N,{sx:{w:"full",h:"full",maxHeight:t,position:"relative"},children:a.jsx(_e,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0},children:a.jsx(Ug,{defer:!0,style:{height:"100%",width:"100%"},options:{scrollbars:{visibility:"auto",autoHide:"scroll",autoHideDelay:1300,theme:"os-theme-dark"},overflow:{x:"hidden"}},children:e})})}),Mf=d.memo(Iae),_ae=({output:e})=>{const{image:t}=e,{data:n}=oo(t.image_name);return a.jsx(Sa,{imageDTO:n})},Pae=d.memo(_ae),Eae=le(xe,({nodes:e})=>{const t=e.selectedNodes[e.selectedNodes.length-1],n=e.nodes.find(s=>s.id===t),r=n?e.nodeTemplates[n.data.type]:void 0,o=e.nodeExecutionStates[t??"__UNKNOWN_NODE__"];return{node:n,template:r,nes:o}},Ie),Mae=()=>{const{node:e,template:t,nes:n}=V(Eae),{t:r}=Z();return!e||!n||!Dn(e)?a.jsx(er,{label:r("nodes.noNodeSelected"),icon:null}):n.outputs.length===0?a.jsx(er,{label:r("nodes.noOutputRecorded"),icon:null}):a.jsx(_e,{sx:{position:"relative",w:"full",h:"full"},children:a.jsx(Mf,{children:a.jsx(N,{sx:{position:"relative",flexDir:"column",alignItems:"flex-start",p:1,gap:2,h:"full",w:"full"},children:(t==null?void 0:t.outputType)==="image_output"?n.outputs.map((o,s)=>a.jsx(Pae,{output:o},Dae(o,s))):a.jsx(di,{data:n.outputs,label:r("nodes.nodeOutputs")})})})})},Oae=d.memo(Mae),Dae=(e,t)=>`${e.type}-${t}`,Rae=le(xe,({nodes:e})=>{const t=e.selectedNodes[e.selectedNodes.length-1],n=e.nodes.find(o=>o.id===t);return{template:n?e.nodeTemplates[n.data.type]:void 0}},Ie),Aae=()=>{const{template:e}=V(Rae),{t}=Z();return e?a.jsx(di,{data:e,label:t("nodes.nodeTemplate")}):a.jsx(er,{label:t("nodes.noNodeSelected"),icon:null})},Tae=d.memo(Aae),Nae=()=>a.jsx(N,{layerStyle:"first",sx:{flexDir:"column",w:"full",h:"full",borderRadius:"base",p:2,gap:2},children:a.jsxs(wl,{variant:"line",sx:{display:"flex",flexDir:"column",w:"full",h:"full"},children:[a.jsxs(Sl,{children:[a.jsx(Lr,{children:"Outputs"}),a.jsx(Lr,{children:"Data"}),a.jsx(Lr,{children:"Template"})]}),a.jsxs(uu,{children:[a.jsx(Mo,{children:a.jsx(Oae,{})}),a.jsx(Mo,{children:a.jsx(jae,{})}),a.jsx(Mo,{children:a.jsx(Tae,{})})]})]})}),$ae=d.memo(Nae),M2=e=>{e.stopPropagation()},Lae={display:"flex",flexDirection:"row",alignItems:"center",gap:10},zae=e=>{const{label:t="",labelPos:n="top",isDisabled:r=!1,isInvalid:o,formControlProps:s,...i}=e,l=ee(),c=d.useCallback(h=>{h.shiftKey&&l(zr(!0))},[l]),p=d.useCallback(h=>{h.shiftKey||l(zr(!1))},[l]);return a.jsxs(qt,{isInvalid:o,isDisabled:r,...s,style:n==="side"?Lae:void 0,children:[t!==""&&a.jsx(kn,{children:t}),a.jsx(ig,{...i,onPaste:M2,onKeyDown:c,onKeyUp:p})]})},ko=d.memo(zae),Fae=je((e,t)=>{const n=ee(),r=d.useCallback(s=>{s.shiftKey&&n(zr(!0))},[n]),o=d.useCallback(s=>{s.shiftKey||n(zr(!1))},[n]);return a.jsx(G3,{ref:t,onPaste:M2,onKeyDown:r,onKeyUp:o,...e})}),ka=d.memo(Fae),Bae=le(xe,({nodes:e})=>{const{author:t,name:n,description:r,tags:o,version:s,contact:i,notes:l}=e.workflow;return{name:n,author:t,description:r,tags:o,version:s,contact:i,notes:l}},Ie),Hae=()=>{const{author:e,name:t,description:n,tags:r,version:o,contact:s,notes:i}=V(Bae),l=ee(),c=d.useCallback(w=>{l(PA(w.target.value))},[l]),p=d.useCallback(w=>{l(EA(w.target.value))},[l]),h=d.useCallback(w=>{l(MA(w.target.value))},[l]),m=d.useCallback(w=>{l(OA(w.target.value))},[l]),g=d.useCallback(w=>{l(DA(w.target.value))},[l]),x=d.useCallback(w=>{l(RA(w.target.value))},[l]),y=d.useCallback(w=>{l(AA(w.target.value))},[l]),{t:b}=Z();return a.jsx(Mf,{children:a.jsxs(N,{sx:{flexDir:"column",alignItems:"flex-start",gap:2,h:"full"},children:[a.jsxs(N,{sx:{gap:2,w:"full"},children:[a.jsx(ko,{label:b("nodes.workflowName"),value:t,onChange:c}),a.jsx(ko,{label:b("nodes.workflowVersion"),value:o,onChange:m})]}),a.jsxs(N,{sx:{gap:2,w:"full"},children:[a.jsx(ko,{label:b("nodes.workflowAuthor"),value:e,onChange:p}),a.jsx(ko,{label:b("nodes.workflowContact"),value:s,onChange:h})]}),a.jsx(ko,{label:b("nodes.workflowTags"),value:r,onChange:x}),a.jsxs(qt,{as:N,sx:{flexDir:"column"},children:[a.jsx(kn,{children:b("nodes.workflowDescription")}),a.jsx(ka,{onChange:g,value:n,fontSize:"sm",sx:{resize:"none"}})]}),a.jsxs(qt,{as:N,sx:{flexDir:"column",h:"full"},children:[a.jsx(kn,{children:b("nodes.workflowNotes")}),a.jsx(ka,{onChange:y,value:i,fontSize:"sm",sx:{h:"full",resize:"none"}})]})]})})},Vae=d.memo(Hae);function Wae(e,t,n){var r=this,o=d.useRef(null),s=d.useRef(0),i=d.useRef(null),l=d.useRef([]),c=d.useRef(),p=d.useRef(),h=d.useRef(e),m=d.useRef(!0);d.useEffect(function(){h.current=e},[e]);var g=!t&&t!==0&&typeof window<"u";if(typeof e!="function")throw new TypeError("Expected a function");t=+t||0;var x=!!(n=n||{}).leading,y=!("trailing"in n)||!!n.trailing,b="maxWait"in n,w=b?Math.max(+n.maxWait||0,t):null;d.useEffect(function(){return m.current=!0,function(){m.current=!1}},[]);var S=d.useMemo(function(){var j=function(R){var A=l.current,O=c.current;return l.current=c.current=null,s.current=R,p.current=h.current.apply(O,A)},I=function(R,A){g&&cancelAnimationFrame(i.current),i.current=g?requestAnimationFrame(R):setTimeout(R,A)},M=function(R){if(!m.current)return!1;var A=R-o.current;return!o.current||A>=t||A<0||b&&R-s.current>=w},_=function(R){return i.current=null,y&&l.current?j(R):(l.current=c.current=null,p.current)},E=function R(){var A=Date.now();if(M(A))return _(A);if(m.current){var O=t-(A-o.current),T=b?Math.min(O,w-(A-s.current)):O;I(R,T)}},D=function(){var R=Date.now(),A=M(R);if(l.current=[].slice.call(arguments),c.current=r,o.current=R,A){if(!i.current&&m.current)return s.current=o.current,I(E,t),x?j(o.current):p.current;if(b)return I(E,t),j(o.current)}return i.current||I(E,t),p.current};return D.cancel=function(){i.current&&(g?cancelAnimationFrame(i.current):clearTimeout(i.current)),s.current=0,l.current=o.current=c.current=i.current=null},D.isPending=function(){return!!i.current},D.flush=function(){return i.current?_(Date.now()):p.current},D},[x,b,t,w,y,g]);return S}function Uae(e,t){return e===t}function wI(e){return typeof e=="function"?function(){return e}:e}function Gae(e,t,n){var r,o,s=n&&n.equalityFn||Uae,i=(r=d.useState(wI(e)),o=r[1],[r[0],d.useCallback(function(m){return o(wI(m))},[])]),l=i[0],c=i[1],p=Wae(d.useCallback(function(m){return c(m)},[c]),t,n),h=d.useRef(e);return s(h.current,e)||(p(e),h.current=e),[l,p]}const WO=()=>{const e=V(r=>r.nodes),[t]=Gae(e,300);return d.useMemo(()=>TA(t),[t])},Kae=()=>{const e=WO(),{t}=Z();return a.jsx(N,{sx:{flexDir:"column",alignItems:"flex-start",gap:2,h:"full"},children:a.jsx(di,{data:e,label:t("nodes.workflow")})})},qae=d.memo(Kae),Xae=({isSelected:e,isHovered:t})=>{const n=d.useMemo(()=>{if(e&&t)return"nodeHoveredSelected.light";if(e)return"nodeSelected.light";if(t)return"nodeHovered.light"},[t,e]),r=d.useMemo(()=>{if(e&&t)return"nodeHoveredSelected.dark";if(e)return"nodeSelected.dark";if(t)return"nodeHovered.dark"},[t,e]);return a.jsx(_e,{className:"selection-box",sx:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,borderRadius:"base",opacity:e||t?1:.5,transitionProperty:"common",transitionDuration:"0.1s",pointerEvents:"none",shadow:n,_dark:{shadow:r}}})},UO=d.memo(Xae),GO=e=>{const t=ee(),n=d.useMemo(()=>le(xe,({nodes:i})=>i.mouseOverNode===e,Ie),[e]),r=V(n),o=d.useCallback(()=>{!r&&t(Ww(e))},[t,e,r]),s=d.useCallback(()=>{r&&t(Ww(null))},[t,r]);return{isMouseOverNode:r,handleMouseOver:o,handleMouseOut:s}},KO=(e,t)=>{const n=d.useMemo(()=>le(xe,({nodes:o})=>{var i;const s=o.nodes.find(l=>l.id===e);if(Dn(s))return(i=s==null?void 0:s.data.inputs[t])==null?void 0:i.label},Ie),[t,e]);return V(n)},qO=(e,t,n)=>{const r=d.useMemo(()=>le(xe,({nodes:s})=>{var c;const i=s.nodes.find(p=>p.id===e);if(!Dn(i))return;const l=s.nodeTemplates[(i==null?void 0:i.data.type)??""];return(c=l==null?void 0:l[Db[n]][t])==null?void 0:c.title},Ie),[t,n,e]);return V(r)},XO=(e,t)=>{const n=d.useMemo(()=>le(xe,({nodes:o})=>{const s=o.nodes.find(i=>i.id===e);if(Dn(s))return s==null?void 0:s.data.inputs[t]},Ie),[t,e]);return V(n)},s0=(e,t,n)=>{const r=d.useMemo(()=>le(xe,({nodes:s})=>{const i=s.nodes.find(c=>c.id===e);if(!Dn(i))return;const l=s.nodeTemplates[(i==null?void 0:i.data.type)??""];return l==null?void 0:l[Db[n]][t]},Ie),[t,n,e]);return V(r)},Qae=({nodeId:e,fieldName:t,kind:n})=>{const r=XO(e,t),o=s0(e,t,n),s=NA(o),{t:i}=Z(),l=d.useMemo(()=>$A(r)?r.label&&(o!=null&&o.title)?`${r.label} (${o.title})`:r.label&&!o?r.label:!r.label&&o?o.title:i("nodes.unknownField"):(o==null?void 0:o.title)||i("nodes.unknownField"),[r,o,i]);return a.jsxs(N,{sx:{flexDir:"column"},children:[a.jsx(ge,{sx:{fontWeight:600},children:l}),o&&a.jsx(ge,{sx:{opacity:.7,fontStyle:"oblique 5deg"},children:o.description}),o&&a.jsxs(ge,{children:["Type: ",Jd[o.type].title]}),s&&a.jsxs(ge,{children:["Input: ",LA(o.input)]})]})},O2=d.memo(Qae),Yae=je((e,t)=>{const{nodeId:n,fieldName:r,kind:o,isMissingInput:s=!1,withTooltip:i=!1}=e,l=KO(n,r),c=qO(n,r,o),{t:p}=Z(),h=ee(),[m,g]=d.useState(l||c||p("nodes.unknownField")),x=d.useCallback(async b=>{b&&(b===l||b===c)||(g(b||c||p("nodes.unknownField")),h(zA({nodeId:n,fieldName:r,label:b})))},[l,c,h,n,r,p]),y=d.useCallback(b=>{g(b)},[]);return d.useEffect(()=>{g(l||c||p("nodes.unknownField"))},[l,c,p]),a.jsx(Ht,{label:i?a.jsx(O2,{nodeId:n,fieldName:r,kind:"input"}):void 0,openDelay:Ym,placement:"top",hasArrow:!0,children:a.jsx(N,{ref:t,sx:{position:"relative",overflow:"hidden",alignItems:"center",justifyContent:"flex-start",gap:1,h:"full"},children:a.jsxs(og,{value:m,onChange:y,onSubmit:x,as:N,sx:{position:"relative",alignItems:"center",h:"full"},children:[a.jsx(rg,{sx:{p:0,fontWeight:s?600:400,textAlign:"left",_hover:{fontWeight:"600 !important"}},noOfLines:1}),a.jsx(ng,{className:"nodrag",sx:{p:0,w:"full",fontWeight:600,color:"base.900",_dark:{color:"base.100"},_focusVisible:{p:0,textAlign:"left",boxShadow:"none"}}}),a.jsx(YO,{})]})})})}),QO=d.memo(Yae),YO=d.memo(()=>{const{isEditing:e,getEditButtonProps:t}=tP(),n=d.useCallback(r=>{const{onClick:o}=t();o&&(o(r),r.preventDefault())},[t]);return e?null:a.jsx(N,{onClick:n,position:"absolute",w:"full",h:"full",top:0,insetInlineStart:0,cursor:"text"})});YO.displayName="EditableControls";const Zae=e=>{const{nodeId:t,field:n}=e,r=ee(),o=d.useCallback(s=>{r(FA({nodeId:t,fieldName:n.name,value:s.target.checked}))},[r,n.name,t]);return a.jsx(ky,{className:"nodrag",onChange:o,isChecked:n.value})},Jae=d.memo(Zae);function a0(){return(a0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ZO(e,t){if(e==null)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(o[n]=e[n]);return o}function tb(e){var t=d.useRef(e),n=d.useRef(function(r){t.current&&t.current(r)});return t.current=e,n.current}var eu=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},bd=function(e){return"touches"in e},nb=function(e){return e&&e.ownerDocument.defaultView||self},SI=function(e,t,n){var r=e.getBoundingClientRect(),o=bd(t)?function(s,i){for(var l=0;l<s.length;l++)if(s[l].identifier===i)return s[l];return s[0]}(t.touches,n):t;return{left:eu((o.pageX-(r.left+nb(e).pageXOffset))/r.width),top:eu((o.pageY-(r.top+nb(e).pageYOffset))/r.height)}},kI=function(e){!bd(e)&&e.preventDefault()},D2=B.memo(function(e){var t=e.onMove,n=e.onKey,r=ZO(e,["onMove","onKey"]),o=d.useRef(null),s=tb(t),i=tb(n),l=d.useRef(null),c=d.useRef(!1),p=d.useMemo(function(){var x=function(w){kI(w),(bd(w)?w.touches.length>0:w.buttons>0)&&o.current?s(SI(o.current,w,l.current)):b(!1)},y=function(){return b(!1)};function b(w){var S=c.current,j=nb(o.current),I=w?j.addEventListener:j.removeEventListener;I(S?"touchmove":"mousemove",x),I(S?"touchend":"mouseup",y)}return[function(w){var S=w.nativeEvent,j=o.current;if(j&&(kI(S),!function(M,_){return _&&!bd(M)}(S,c.current)&&j)){if(bd(S)){c.current=!0;var I=S.changedTouches||[];I.length&&(l.current=I[0].identifier)}j.focus(),s(SI(j,S,l.current)),b(!0)}},function(w){var S=w.which||w.keyCode;S<37||S>40||(w.preventDefault(),i({left:S===39?.05:S===37?-.05:0,top:S===40?.05:S===38?-.05:0}))},b]},[i,s]),h=p[0],m=p[1],g=p[2];return d.useEffect(function(){return g},[g]),B.createElement("div",a0({},r,{onTouchStart:h,onMouseDown:h,className:"react-colorful__interactive",ref:o,onKeyDown:m,tabIndex:0,role:"slider"}))}),i0=function(e){return e.filter(Boolean).join(" ")},R2=function(e){var t=e.color,n=e.left,r=e.top,o=r===void 0?.5:r,s=i0(["react-colorful__pointer",e.className]);return B.createElement("div",{className:s,style:{top:100*o+"%",left:100*n+"%"}},B.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Sr=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},JO=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:Sr(e.h),s:Sr(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:Sr(o/2),a:Sr(r,2)}},rb=function(e){var t=JO(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},I1=function(e){var t=JO(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},eie=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var s=Math.floor(t),i=r*(1-n),l=r*(1-(t-s)*n),c=r*(1-(1-t+s)*n),p=s%6;return{r:Sr(255*[r,l,i,i,c,r][p]),g:Sr(255*[c,r,r,l,i,i][p]),b:Sr(255*[i,i,c,r,r,l][p]),a:Sr(o,2)}},tie=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,s=Math.max(t,n,r),i=s-Math.min(t,n,r),l=i?s===t?(n-r)/i:s===n?2+(r-t)/i:4+(t-n)/i:0;return{h:Sr(60*(l<0?l+6:l)),s:Sr(s?i/s*100:0),v:Sr(s/255*100),a:o}},nie=B.memo(function(e){var t=e.hue,n=e.onChange,r=i0(["react-colorful__hue",e.className]);return B.createElement("div",{className:r},B.createElement(D2,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:eu(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":Sr(t),"aria-valuemax":"360","aria-valuemin":"0"},B.createElement(R2,{className:"react-colorful__hue-pointer",left:t/360,color:rb({h:t,s:100,v:100,a:1})})))}),rie=B.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:rb({h:t.h,s:100,v:100,a:1})};return B.createElement("div",{className:"react-colorful__saturation",style:r},B.createElement(D2,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:eu(t.s+100*o.left,0,100),v:eu(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Sr(t.s)+"%, Brightness "+Sr(t.v)+"%"},B.createElement(R2,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:rb(t)})))}),e7=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0};function oie(e,t,n){var r=tb(n),o=d.useState(function(){return e.toHsva(t)}),s=o[0],i=o[1],l=d.useRef({color:t,hsva:s});d.useEffect(function(){if(!e.equal(t,l.current.color)){var p=e.toHsva(t);l.current={hsva:p,color:t},i(p)}},[t,e]),d.useEffect(function(){var p;e7(s,l.current.hsva)||e.equal(p=e.fromHsva(s),l.current.color)||(l.current={hsva:s,color:p},r(p))},[s,e,r]);var c=d.useCallback(function(p){i(function(h){return Object.assign({},h,p)})},[]);return[s,c]}var sie=typeof window<"u"?d.useLayoutEffect:d.useEffect,aie=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},jI=new Map,iie=function(e){sie(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!jI.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,jI.set(t,n);var r=aie();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},lie=function(e){var t=e.className,n=e.hsva,r=e.onChange,o={backgroundImage:"linear-gradient(90deg, "+I1(Object.assign({},n,{a:0}))+", "+I1(Object.assign({},n,{a:1}))+")"},s=i0(["react-colorful__alpha",t]),i=Sr(100*n.a);return B.createElement("div",{className:s},B.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),B.createElement(D2,{onMove:function(l){r({a:l.left})},onKey:function(l){r({a:eu(n.a+l.left)})},"aria-label":"Alpha","aria-valuetext":i+"%","aria-valuenow":i,"aria-valuemin":"0","aria-valuemax":"100"},B.createElement(R2,{className:"react-colorful__alpha-pointer",left:n.a,color:I1(n)})))},cie=function(e){var t=e.className,n=e.colorModel,r=e.color,o=r===void 0?n.defaultColor:r,s=e.onChange,i=ZO(e,["className","colorModel","color","onChange"]),l=d.useRef(null);iie(l);var c=oie(n,o,s),p=c[0],h=c[1],m=i0(["react-colorful",t]);return B.createElement("div",a0({},i,{ref:l,className:m}),B.createElement(rie,{hsva:p,onChange:h}),B.createElement(nie,{hue:p.h,onChange:h}),B.createElement(lie,{hsva:p,onChange:h,className:"react-colorful__last-control"}))},uie={defaultColor:{r:0,g:0,b:0,a:1},toHsva:tie,fromHsva:eie,equal:e7},t7=function(e){return B.createElement(cie,a0({},e,{colorModel:uie}))};const die=e=>{const{nodeId:t,field:n}=e,r=ee(),o=d.useCallback(s=>{r(BA({nodeId:t,fieldName:n.name,value:s}))},[r,n.name,t]);return a.jsx(t7,{className:"nodrag",color:n.value,onChange:o})},fie=d.memo(die),n7=e=>{const t=bl("models"),[n,r,o]=e.split("/"),s=HA.safeParse({base_model:n,model_name:o});if(!s.success){t.error({controlNetModelId:e,errors:s.error.format()},"Failed to parse ControlNet model id");return}return s.data},pie=e=>{const{nodeId:t,field:n}=e,r=n.value,o=ee(),{data:s}=Rb(),i=d.useMemo(()=>(s==null?void 0:s.entities[`${r==null?void 0:r.base_model}/controlnet/${r==null?void 0:r.model_name}`])??null,[r==null?void 0:r.base_model,r==null?void 0:r.model_name,s==null?void 0:s.entities]),l=d.useMemo(()=>{if(!s)return[];const p=[];return zn(s.entities,(h,m)=>{h&&p.push({value:m,label:h.model_name,group:gn[h.base_model]})}),p},[s]),c=d.useCallback(p=>{if(!p)return;const h=n7(p);h&&o(VA({nodeId:t,fieldName:n.name,value:h}))},[o,n.name,t]);return a.jsx(Rn,{className:"nowheel nodrag",tooltip:i==null?void 0:i.description,value:(i==null?void 0:i.id)??null,placeholder:"Pick one",error:!i,data:l,onChange:c,sx:{width:"100%"}})},hie=d.memo(pie),mie=e=>{const{nodeId:t,field:n,fieldTemplate:r}=e,o=ee(),s=d.useCallback(i=>{o(WA({nodeId:t,fieldName:n.name,value:i.target.value}))},[o,n.name,t]);return a.jsx(M3,{className:"nowheel nodrag",onChange:s,value:n.value,children:r.options.map(i=>a.jsx("option",{value:i,children:r.ui_choice_labels?r.ui_choice_labels[i]:i},i))})},gie=d.memo(mie),vie=e=>{var p;const{nodeId:t,field:n}=e,r=ee(),{currentData:o}=oo(((p=n.value)==null?void 0:p.image_name)??Fr.skipToken),s=d.useCallback(()=>{r(UA({nodeId:t,fieldName:n.name,value:void 0}))},[r,n.name,t]),i=d.useMemo(()=>{if(o)return{id:`node-${t}-${n.name}`,payloadType:"IMAGE_DTO",payload:{imageDTO:o}}},[n.name,o,t]),l=d.useMemo(()=>({id:`node-${t}-${n.name}`,actionType:"SET_NODES_IMAGE",context:{nodeId:t,fieldName:n.name}}),[n.name,t]),c=d.useMemo(()=>({type:"SET_NODES_IMAGE",nodeId:t,fieldName:n.name}),[t,n.name]);return a.jsx(N,{className:"nodrag",sx:{w:"full",h:"full",alignItems:"center",justifyContent:"center"},children:a.jsx(Sa,{imageDTO:o,droppableData:l,draggableData:i,postUploadAction:c,useThumbailFallback:!0,uploadElement:a.jsx(r7,{}),dropLabel:a.jsx(o7,{}),minSize:8,children:a.jsx(nl,{onClick:s,icon:o?a.jsx(Sf,{}):void 0,tooltip:"Reset Image"})})})},xie=d.memo(vie),r7=d.memo(()=>a.jsx(ge,{fontSize:16,fontWeight:600,children:"Drop or Upload"}));r7.displayName="UploadElement";const o7=d.memo(()=>a.jsx(ge,{fontSize:16,fontWeight:600,children:"Drop"}));o7.displayName="DropLabel";const bie=e=>{const t=bl("models"),[n,r,o]=e.split("/"),s=GA.safeParse({base_model:n,model_name:o});if(!s.success){t.error({loraModelId:e,errors:s.error.format()},"Failed to parse LoRA model id");return}return s.data},yie=e=>{const{nodeId:t,field:n}=e,r=n.value,o=ee(),{data:s}=Zd(),{t:i}=Z(),l=d.useMemo(()=>{if(!s)return[];const h=[];return zn(s.entities,(m,g)=>{m&&h.push({value:g,label:m.model_name,group:gn[m.base_model]})}),h.sort((m,g)=>m.disabled&&!g.disabled?1:-1)},[s]),c=d.useMemo(()=>(s==null?void 0:s.entities[`${r==null?void 0:r.base_model}/lora/${r==null?void 0:r.model_name}`])??null,[s==null?void 0:s.entities,r==null?void 0:r.base_model,r==null?void 0:r.model_name]),p=d.useCallback(h=>{if(!h)return;const m=bie(h);m&&o(KA({nodeId:t,fieldName:n.name,value:m}))},[o,n.name,t]);return(s==null?void 0:s.ids.length)===0?a.jsx(N,{sx:{justifyContent:"center",p:2},children:a.jsx(ge,{sx:{fontSize:"sm",color:"base.500",_dark:"base.700"},children:"No LoRAs Loaded"})}):a.jsx(rn,{className:"nowheel nodrag",value:(c==null?void 0:c.id)??null,placeholder:l.length>0?i("models.selectLoRA"):i("models.noLoRAsAvailable"),data:l,nothingFound:i("models.noMatchingLoRAs"),itemComponent:ki,disabled:l.length===0,filter:(h,m)=>{var g;return((g=m.label)==null?void 0:g.toLowerCase().includes(h.toLowerCase().trim()))||m.value.toLowerCase().includes(h.toLowerCase().trim())},error:!c,onChange:p,sx:{width:"100%",".mantine-Select-dropdown":{width:"16rem !important"}}})},Cie=d.memo(yie),l0=e=>{const t=bl("models"),[n,r,o]=e.split("/"),s=qA.safeParse({base_model:n,model_name:o,model_type:r});if(!s.success){t.error({mainModelId:e,errors:s.error.format()},"Failed to parse main model id");return}return s.data};function gu(e){const{iconMode:t=!1,...n}=e,r=ee(),{t:o}=Z(),[s,{isLoading:i}]=XA(),l=()=>{s().unwrap().then(c=>{r(ut(Yt({title:`${o("modelManager.modelsSynced")}`,status:"success"})))}).catch(c=>{c&&r(ut(Yt({title:`${o("modelManager.modelSyncFailed")}`,status:"error"})))})};return t?a.jsx(ze,{icon:a.jsx(JM,{}),tooltip:o("modelManager.syncModels"),"aria-label":o("modelManager.syncModels"),isLoading:i,onClick:l,size:"sm",...n}):a.jsx(it,{isLoading:i,onClick:l,minW:"max-content",...n,children:"Sync Models"})}const wie=e=>{var y,b;const{nodeId:t,field:n}=e,r=ee(),o=Kt("syncModels").isFeatureEnabled,{t:s}=Z(),{data:i,isLoading:l}=yd(Uw),{data:c,isLoading:p}=ns(Uw),h=d.useMemo(()=>l||p,[l,p]),m=d.useMemo(()=>{if(!c)return[];const w=[];return zn(c.entities,(S,j)=>{S&&w.push({value:j,label:S.model_name,group:gn[S.base_model]})}),i&&zn(i.entities,(S,j)=>{S&&w.push({value:j,label:S.model_name,group:gn[S.base_model]})}),w},[c,i]),g=d.useMemo(()=>{var w,S,j,I;return((c==null?void 0:c.entities[`${(w=n.value)==null?void 0:w.base_model}/main/${(S=n.value)==null?void 0:S.model_name}`])||(i==null?void 0:i.entities[`${(j=n.value)==null?void 0:j.base_model}/onnx/${(I=n.value)==null?void 0:I.model_name}`]))??null},[(y=n.value)==null?void 0:y.base_model,(b=n.value)==null?void 0:b.model_name,c==null?void 0:c.entities,i==null?void 0:i.entities]),x=d.useCallback(w=>{if(!w)return;const S=l0(w);S&&r(r5({nodeId:t,fieldName:n.name,value:S}))},[r,n.name,t]);return a.jsxs(N,{sx:{w:"full",alignItems:"center",gap:2},children:[h?a.jsx(ge,{variant:"subtext",children:"Loading..."}):a.jsx(rn,{className:"nowheel nodrag",tooltip:g==null?void 0:g.description,value:g==null?void 0:g.id,placeholder:m.length>0?s("models.selectModel"):s("models.noModelsAvailable"),data:m,error:!g,disabled:m.length===0,onChange:x,sx:{width:"100%",".mantine-Select-dropdown":{width:"16rem !important"}}}),o&&a.jsx(gu,{className:"nodrag",iconMode:!0})]})},Sie=d.memo(wie),Bm=/^-?(0\.)?\.?$/,s7=je((e,t)=>{const{label:n,isDisabled:r=!1,showStepper:o=!0,isInvalid:s,value:i,onChange:l,min:c,max:p,isInteger:h=!0,formControlProps:m,formLabelProps:g,numberInputFieldProps:x,numberInputStepperProps:y,tooltipProps:b,...w}=e,S=ee(),[j,I]=d.useState(String(i));d.useEffect(()=>{!j.match(Bm)&&i!==Number(j)&&I(String(i))},[i,j]);const M=R=>{I(R),R.match(Bm)||l(h?Math.floor(Number(R)):Number(R))},_=R=>{const A=ol(h?Math.floor(Number(R.target.value)):Number(R.target.value),c,p);I(String(A)),l(A)},E=d.useCallback(R=>{R.shiftKey&&S(zr(!0))},[S]),D=d.useCallback(R=>{R.shiftKey||S(zr(!1))},[S]);return a.jsx(Ht,{...b,children:a.jsxs(qt,{ref:t,isDisabled:r,isInvalid:s,...m,children:[n&&a.jsx(kn,{...g,children:n}),a.jsxs(mg,{value:j,min:c,max:p,keepWithinRange:!0,clampValueOnBlur:!1,onChange:M,onBlur:_,...w,onPaste:M2,children:[a.jsx(vg,{...x,onKeyDown:E,onKeyUp:D}),o&&a.jsxs(gg,{children:[a.jsx(bg,{...y}),a.jsx(xg,{...y})]})]})]})})});s7.displayName="IAINumberInput";const vu=d.memo(s7),kie=e=>{const{nodeId:t,field:n,fieldTemplate:r}=e,o=ee(),[s,i]=d.useState(String(n.value)),l=d.useMemo(()=>r.type==="integer",[r.type]),c=p=>{i(p),p.match(Bm)||o(QA({nodeId:t,fieldName:n.name,value:l?Math.floor(Number(p)):Number(p)}))};return d.useEffect(()=>{!s.match(Bm)&&n.value!==Number(s)&&i(String(n.value))},[n.value,s]),a.jsxs(mg,{onChange:c,value:s,step:l?1:.1,precision:l?0:3,children:[a.jsx(vg,{className:"nodrag"}),a.jsxs(gg,{children:[a.jsx(bg,{}),a.jsx(xg,{})]})]})},jie=d.memo(kie),Iie=e=>{var m,g;const{nodeId:t,field:n}=e,r=ee(),{t:o}=Z(),s=Kt("syncModels").isFeatureEnabled,{data:i,isLoading:l}=ns(Ab),c=d.useMemo(()=>{if(!i)return[];const x=[];return zn(i.entities,(y,b)=>{y&&x.push({value:b,label:y.model_name,group:gn[y.base_model]})}),x},[i]),p=d.useMemo(()=>{var x,y;return(i==null?void 0:i.entities[`${(x=n.value)==null?void 0:x.base_model}/main/${(y=n.value)==null?void 0:y.model_name}`])??null},[(m=n.value)==null?void 0:m.base_model,(g=n.value)==null?void 0:g.model_name,i==null?void 0:i.entities]),h=d.useCallback(x=>{if(!x)return;const y=l0(x);y&&r(YA({nodeId:t,fieldName:n.name,value:y}))},[r,n.name,t]);return l?a.jsx(rn,{label:o("modelManager.model"),placeholder:o("models.loading"),disabled:!0,data:[]}):a.jsxs(N,{w:"100%",alignItems:"center",gap:2,children:[a.jsx(rn,{className:"nowheel nodrag",tooltip:p==null?void 0:p.description,value:p==null?void 0:p.id,placeholder:c.length>0?o("models.selectModel"):o("models.noModelsAvailable"),data:c,error:!p,disabled:c.length===0,onChange:h,sx:{width:"100%",".mantine-Select-dropdown":{width:"16rem !important"}}}),s&&a.jsx(gu,{className:"nodrag",iconMode:!0})]})},_ie=d.memo(Iie),Pie=e=>{var g,x;const{nodeId:t,field:n}=e,r=ee(),{t:o}=Z(),s=Kt("syncModels").isFeatureEnabled,{data:i}=yd(Gw),{data:l,isLoading:c}=ns(Gw),p=d.useMemo(()=>{if(!l)return[];const y=[];return zn(l.entities,(b,w)=>{!b||b.base_model!=="sdxl"||y.push({value:w,label:b.model_name,group:gn[b.base_model]})}),i&&zn(i.entities,(b,w)=>{!b||b.base_model!=="sdxl"||y.push({value:w,label:b.model_name,group:gn[b.base_model]})}),y},[l,i]),h=d.useMemo(()=>{var y,b,w,S;return((l==null?void 0:l.entities[`${(y=n.value)==null?void 0:y.base_model}/main/${(b=n.value)==null?void 0:b.model_name}`])||(i==null?void 0:i.entities[`${(w=n.value)==null?void 0:w.base_model}/onnx/${(S=n.value)==null?void 0:S.model_name}`]))??null},[(g=n.value)==null?void 0:g.base_model,(x=n.value)==null?void 0:x.model_name,l==null?void 0:l.entities,i==null?void 0:i.entities]),m=d.useCallback(y=>{if(!y)return;const b=l0(y);b&&r(r5({nodeId:t,fieldName:n.name,value:b}))},[r,n.name,t]);return c?a.jsx(rn,{label:o("modelManager.model"),placeholder:o("models.loading"),disabled:!0,data:[]}):a.jsxs(N,{w:"100%",alignItems:"center",gap:2,children:[a.jsx(rn,{className:"nowheel nodrag",tooltip:h==null?void 0:h.description,value:h==null?void 0:h.id,placeholder:p.length>0?o("models.selectModel"):o("models.noModelsAvailable"),data:p,error:!h,disabled:p.length===0,onChange:m,sx:{width:"100%",".mantine-Select-dropdown":{width:"16rem !important"}}}),s&&a.jsx(gu,{className:"nodrag",iconMode:!0})]})},Eie=d.memo(Pie),Mie=le([xe],({ui:e})=>{const{favoriteSchedulers:t}=e;return{data:hr(Gm,(r,o)=>({value:o,label:r,group:t.includes(o)?"Favorites":void 0})).sort((r,o)=>r.label.localeCompare(o.label))}},Ie),Oie=e=>{const{nodeId:t,field:n}=e,r=ee(),{data:o}=V(Mie),s=d.useCallback(i=>{i&&r(ZA({nodeId:t,fieldName:n.name,value:i}))},[r,n.name,t]);return a.jsx(rn,{className:"nowheel nodrag",value:n.value,data:o,onChange:s})},Die=d.memo(Oie),Rie=e=>{const{nodeId:t,field:n,fieldTemplate:r}=e,o=ee(),s=d.useCallback(i=>{o(JA({nodeId:t,fieldName:n.name,value:i.target.value}))},[o,n.name,t]);return r.ui_component==="textarea"?a.jsx(ka,{className:"nodrag",onChange:s,value:n.value,rows:5,resize:"none"}):a.jsx(ko,{onChange:s,value:n.value})},Aie=d.memo(Rie),a7=e=>{const t=bl("models"),[n,r,o]=e.split("/"),s=eT.safeParse({base_model:n,model_name:o});if(!s.success){t.error({vaeModelId:e,errors:s.error.format()},"Failed to parse VAE model id");return}return s.data},Tie=e=>{const{nodeId:t,field:n}=e,r=n.value,o=ee(),{data:s}=o5(),i=d.useMemo(()=>{if(!s)return[];const p=[{value:"default",label:"Default",group:"Default"}];return zn(s.entities,(h,m)=>{h&&p.push({value:m,label:h.model_name,group:gn[h.base_model]})}),p.sort((h,m)=>h.disabled&&!m.disabled?1:-1)},[s]),l=d.useMemo(()=>(s==null?void 0:s.entities[`${r==null?void 0:r.base_model}/vae/${r==null?void 0:r.model_name}`])??null,[s==null?void 0:s.entities,r]),c=d.useCallback(p=>{if(!p)return;const h=a7(p);h&&o(tT({nodeId:t,fieldName:n.name,value:h}))},[o,n.name,t]);return a.jsx(rn,{className:"nowheel nodrag",itemComponent:ki,tooltip:l==null?void 0:l.description,value:(l==null?void 0:l.id)??"default",placeholder:"Default",data:i,onChange:c,disabled:i.length===0,error:!l,clearable:!0,sx:{width:"100%",".mantine-Select-dropdown":{width:"16rem !important"}}})},Nie=d.memo(Tie),i7=e=>{const t=bl("models"),[n,r,o]=e.split("/"),s=nT.safeParse({base_model:n,model_name:o});if(!s.success){t.error({ipAdapterModelId:e,errors:s.error.format()},"Failed to parse IP-Adapter model id");return}return s.data},$ie=e=>{const{nodeId:t,field:n}=e,r=n.value,o=ee(),{data:s}=s5(),i=d.useMemo(()=>(s==null?void 0:s.entities[`${r==null?void 0:r.base_model}/ip_adapter/${r==null?void 0:r.model_name}`])??null,[r==null?void 0:r.base_model,r==null?void 0:r.model_name,s==null?void 0:s.entities]),l=d.useMemo(()=>{if(!s)return[];const p=[];return zn(s.entities,(h,m)=>{h&&p.push({value:m,label:h.model_name,group:gn[h.base_model]})}),p},[s]),c=d.useCallback(p=>{if(!p)return;const h=i7(p);h&&o(rT({nodeId:t,fieldName:n.name,value:h}))},[o,n.name,t]);return a.jsx(Rn,{className:"nowheel nodrag",tooltip:i==null?void 0:i.description,value:(i==null?void 0:i.id)??null,placeholder:"Pick one",error:!i,data:l,onChange:c,sx:{width:"100%"}})},Lie=d.memo($ie),zie=e=>{var l;const{nodeId:t,field:n}=e,r=ee(),{data:o,hasBoards:s}=Yd(void 0,{selectFromResult:({data:c})=>{const p=[{label:"None",value:"none"}];return c==null||c.forEach(({board_id:h,board_name:m})=>{p.push({label:m,value:h})}),{data:p,hasBoards:p.length>1}}}),i=d.useCallback(c=>{r(oT({nodeId:t,fieldName:n.name,value:c&&c!=="none"?{board_id:c}:void 0}))},[r,n.name,t]);return a.jsx(rn,{className:"nowheel nodrag",value:((l=n.value)==null?void 0:l.board_id)??"none",data:o,onChange:i,disabled:!s})},Fie=d.memo(zie),Bie=({nodeId:e,fieldName:t})=>{const n=XO(e,t),r=s0(e,t,"input");return(r==null?void 0:r.fieldKind)==="output"?a.jsxs(_e,{p:2,children:["Output field in input: ",n==null?void 0:n.type]}):(n==null?void 0:n.type)==="string"&&(r==null?void 0:r.type)==="string"||(n==null?void 0:n.type)==="StringPolymorphic"&&(r==null?void 0:r.type)==="StringPolymorphic"?a.jsx(Aie,{nodeId:e,field:n,fieldTemplate:r}):(n==null?void 0:n.type)==="boolean"&&(r==null?void 0:r.type)==="boolean"||(n==null?void 0:n.type)==="BooleanPolymorphic"&&(r==null?void 0:r.type)==="BooleanPolymorphic"?a.jsx(Jae,{nodeId:e,field:n,fieldTemplate:r}):(n==null?void 0:n.type)==="integer"&&(r==null?void 0:r.type)==="integer"||(n==null?void 0:n.type)==="float"&&(r==null?void 0:r.type)==="float"||(n==null?void 0:n.type)==="FloatPolymorphic"&&(r==null?void 0:r.type)==="FloatPolymorphic"||(n==null?void 0:n.type)==="IntegerPolymorphic"&&(r==null?void 0:r.type)==="IntegerPolymorphic"?a.jsx(jie,{nodeId:e,field:n,fieldTemplate:r}):(n==null?void 0:n.type)==="enum"&&(r==null?void 0:r.type)==="enum"?a.jsx(gie,{nodeId:e,field:n,fieldTemplate:r}):(n==null?void 0:n.type)==="ImageField"&&(r==null?void 0:r.type)==="ImageField"||(n==null?void 0:n.type)==="ImagePolymorphic"&&(r==null?void 0:r.type)==="ImagePolymorphic"?a.jsx(xie,{nodeId:e,field:n,fieldTemplate:r}):(n==null?void 0:n.type)==="BoardField"&&(r==null?void 0:r.type)==="BoardField"?a.jsx(Fie,{nodeId:e,field:n,fieldTemplate:r}):(n==null?void 0:n.type)==="MainModelField"&&(r==null?void 0:r.type)==="MainModelField"?a.jsx(Sie,{nodeId:e,field:n,fieldTemplate:r}):(n==null?void 0:n.type)==="SDXLRefinerModelField"&&(r==null?void 0:r.type)==="SDXLRefinerModelField"?a.jsx(_ie,{nodeId:e,field:n,fieldTemplate:r}):(n==null?void 0:n.type)==="VaeModelField"&&(r==null?void 0:r.type)==="VaeModelField"?a.jsx(Nie,{nodeId:e,field:n,fieldTemplate:r}):(n==null?void 0:n.type)==="LoRAModelField"&&(r==null?void 0:r.type)==="LoRAModelField"?a.jsx(Cie,{nodeId:e,field:n,fieldTemplate:r}):(n==null?void 0:n.type)==="ControlNetModelField"&&(r==null?void 0:r.type)==="ControlNetModelField"?a.jsx(hie,{nodeId:e,field:n,fieldTemplate:r}):(n==null?void 0:n.type)==="IPAdapterModelField"&&(r==null?void 0:r.type)==="IPAdapterModelField"?a.jsx(Lie,{nodeId:e,field:n,fieldTemplate:r}):(n==null?void 0:n.type)==="ColorField"&&(r==null?void 0:r.type)==="ColorField"?a.jsx(fie,{nodeId:e,field:n,fieldTemplate:r}):(n==null?void 0:n.type)==="SDXLMainModelField"&&(r==null?void 0:r.type)==="SDXLMainModelField"?a.jsx(Eie,{nodeId:e,field:n,fieldTemplate:r}):(n==null?void 0:n.type)==="Scheduler"&&(r==null?void 0:r.type)==="Scheduler"?a.jsx(Die,{nodeId:e,field:n,fieldTemplate:r}):n&&r?null:a.jsx(_e,{p:1,children:a.jsxs(ge,{sx:{fontSize:"sm",fontWeight:600,color:"error.400",_dark:{color:"error.300"}},children:["Unknown field type: ",n==null?void 0:n.type]})})},l7=d.memo(Bie),Hie=({nodeId:e,fieldName:t})=>{const n=ee(),{isMouseOverNode:r,handleMouseOut:o,handleMouseOver:s}=GO(e),{t:i}=Z(),l=d.useCallback(()=>{n(a5({nodeId:e,fieldName:t}))},[n,t,e]);return a.jsxs(N,{onMouseEnter:s,onMouseLeave:o,layerStyle:"second",sx:{position:"relative",borderRadius:"base",w:"full",p:2},children:[a.jsxs(qt,{as:N,sx:{flexDir:"column",gap:1,flexShrink:1},children:[a.jsxs(kn,{sx:{display:"flex",alignItems:"center",mb:0},children:[a.jsx(QO,{nodeId:e,fieldName:t,kind:"input"}),a.jsx(Oa,{}),a.jsx(Ht,{label:a.jsx(O2,{nodeId:e,fieldName:t,kind:"input"}),openDelay:Ym,placement:"top",hasArrow:!0,children:a.jsx(N,{h:"full",alignItems:"center",children:a.jsx($n,{as:GM})})}),a.jsx(ze,{"aria-label":i("nodes.removeLinearView"),tooltip:i("nodes.removeLinearView"),variant:"ghost",size:"sm",onClick:l,icon:a.jsx(Vr,{})})]}),a.jsx(l7,{nodeId:e,fieldName:t})]}),a.jsx(UO,{isSelected:!1,isHovered:r})]})},Vie=d.memo(Hie),Wie=le(xe,({nodes:e})=>({fields:e.workflow.exposedFields}),Ie),Uie=()=>{const{fields:e}=V(Wie),{t}=Z();return a.jsx(_e,{sx:{position:"relative",w:"full",h:"full"},children:a.jsx(Mf,{children:a.jsx(N,{sx:{position:"relative",flexDir:"column",alignItems:"flex-start",p:1,gap:2,h:"full",w:"full"},children:e.length?e.map(({nodeId:n,fieldName:r})=>a.jsx(Vie,{nodeId:n,fieldName:r},`${n}.${r}`)):a.jsx(er,{label:t("nodes.noFieldsLinearview"),icon:null})})})})},Gie=d.memo(Uie),Kie=()=>a.jsx(N,{layerStyle:"first",sx:{flexDir:"column",w:"full",h:"full",borderRadius:"base",p:2,gap:2},children:a.jsxs(wl,{variant:"line",sx:{display:"flex",flexDir:"column",w:"full",h:"full"},children:[a.jsxs(Sl,{children:[a.jsx(Lr,{children:"Linear"}),a.jsx(Lr,{children:"Details"}),a.jsx(Lr,{children:"JSON"})]}),a.jsxs(uu,{children:[a.jsx(Mo,{children:a.jsx(Gie,{})}),a.jsx(Mo,{children:a.jsx(Vae,{})}),a.jsx(Mo,{children:a.jsx(qae,{})})]})]})}),qie=d.memo(Kie),Xie={paramNegativeConditioning:{placement:"right"},controlNet:{href:"https://support.invoke.ai/support/solutions/articles/151000105880"},lora:{href:"https://support.invoke.ai/support/solutions/articles/151000159072"},compositingCoherenceMode:{href:"https://support.invoke.ai/support/solutions/articles/151000158838"},infillMethod:{href:"https://support.invoke.ai/support/solutions/articles/151000158841"},scaleBeforeProcessing:{href:"https://support.invoke.ai/support/solutions/articles/151000158841"},paramIterations:{href:"https://support.invoke.ai/support/solutions/articles/151000159073"},paramPositiveConditioning:{href:"https://support.invoke.ai/support/solutions/articles/151000096606-tips-on-crafting-prompts",placement:"right"},paramScheduler:{placement:"right",href:"https://support.invoke.ai/support/solutions/articles/151000159073"},paramModel:{placement:"right",href:"https://support.invoke.ai/support/solutions/articles/151000096601-what-is-a-model-which-should-i-use-"},paramRatio:{gutter:16},controlNetControlMode:{placement:"right"},controlNetResizeMode:{placement:"right"},paramVAE:{placement:"right"},paramVAEPrecision:{placement:"right"}},Qie=1e3,Yie=[{name:"preventOverflow",options:{padding:10}}],c7=je(({feature:e,children:t,wrapperProps:n,...r},o)=>{const{t:s}=Z(),i=V(g=>g.system.shouldEnableInformationalPopovers),l=d.useMemo(()=>Xie[e],[e]),c=d.useMemo(()=>sT(aT(l,["image","href","buttonLabel"]),r),[l,r]),p=d.useMemo(()=>s(`popovers.${e}.heading`),[e,s]),h=d.useMemo(()=>s(`popovers.${e}.paragraphs`,{returnObjects:!0})??[],[e,s]),m=d.useCallback(()=>{l!=null&&l.href&&window.open(l.href)},[l==null?void 0:l.href]);return i?a.jsxs(gf,{isLazy:!0,closeOnBlur:!1,trigger:"hover",variant:"informational",openDelay:Qie,modifiers:Yie,placement:"top",...c,children:[a.jsx(Cg,{children:a.jsx(_e,{ref:o,w:"full",...n,children:t})}),a.jsx(su,{children:a.jsxs(vf,{w:96,children:[a.jsx(S3,{}),a.jsx(wg,{children:a.jsxs(N,{sx:{gap:2,flexDirection:"column",alignItems:"flex-start"},children:[p&&a.jsxs(a.Fragment,{children:[a.jsx(dr,{size:"sm",children:p}),a.jsx(Jn,{})]}),(l==null?void 0:l.image)&&a.jsxs(a.Fragment,{children:[a.jsx(Pa,{sx:{objectFit:"contain",maxW:"60%",maxH:"60%",backgroundColor:"white"},src:l.image,alt:"Optional Image"}),a.jsx(Jn,{})]}),h.map(g=>a.jsx(ge,{children:g},g)),(l==null?void 0:l.href)&&a.jsxs(a.Fragment,{children:[a.jsx(Jn,{}),a.jsx(fi,{pt:1,onClick:m,leftIcon:a.jsx(Vy,{}),alignSelf:"flex-end",variant:"link",children:s("common.learnMore")??p})]})]})})]})})]}):a.jsx(_e,{ref:o,w:"full",...n,children:t})});c7.displayName="IAIInformationalPopover";const Mt=d.memo(c7),Zie=le([xe],e=>{const{initial:t,min:n,sliderMax:r,inputMax:o,fineStep:s,coarseStep:i}=e.config.sd.iterations,{iterations:l}=e.generation,{shouldUseSliders:c}=e.ui,p=e.hotkeys.shift?s:i;return{iterations:l,initial:t,min:n,sliderMax:r,inputMax:o,step:p,shouldUseSliders:c}},Ie),Jie=({asSlider:e})=>{const{iterations:t,initial:n,min:r,sliderMax:o,inputMax:s,step:i,shouldUseSliders:l}=V(Zie),c=ee(),{t:p}=Z(),h=d.useCallback(g=>{c(Kw(g))},[c]),m=d.useCallback(()=>{c(Kw(n))},[c,n]);return e||l?a.jsx(Mt,{feature:"paramIterations",children:a.jsx(nt,{label:p("parameters.iterations"),step:i,min:r,max:o,onChange:h,handleReset:m,value:t,withInput:!0,withReset:!0,withSliderMarks:!0,sliderNumberInputProps:{max:s}})}):a.jsx(Mt,{feature:"paramIterations",children:a.jsx(vu,{label:p("parameters.iterations"),step:i,min:r,max:s,onChange:h,value:t,numberInputFieldProps:{textAlign:"center"}})})},us=d.memo(Jie),ele=()=>{const[e,t]=d.useState(!1),[n,r]=d.useState(!1),o=d.useRef(null),s=E2(),i=d.useCallback(()=>{o.current&&o.current.setLayout([50,50])},[]);return a.jsxs(N,{sx:{flexDir:"column",gap:2,height:"100%",width:"100%"},children:[a.jsx(MO,{}),a.jsx(N,{layerStyle:"first",sx:{w:"full",position:"relative",borderRadius:"base",p:2,pb:3,gap:2,flexDir:"column"},children:a.jsx(us,{asSlider:!0})}),a.jsxs(o0,{ref:o,id:"workflow-panel-group",autoSaveId:"workflow-panel-group",direction:"vertical",style:{height:"100%",width:"100%"},storage:s,children:[a.jsx(ui,{id:"workflow",collapsible:!0,onCollapse:t,minSize:25,children:a.jsx(qie,{})}),a.jsx(Fm,{direction:"vertical",onDoubleClick:i,collapsedDirection:e?"top":n?"bottom":void 0}),a.jsx(ui,{id:"inspector",collapsible:!0,onCollapse:r,minSize:25,children:a.jsx($ae,{})})]})]})},tle=d.memo(ele),II=(e,t)=>{const n=d.useRef(null),[r,o]=d.useState(()=>{var p;return!!((p=n.current)!=null&&p.getCollapsed())}),s=d.useCallback(()=>{var p;(p=n.current)!=null&&p.getCollapsed()?Zr.flushSync(()=>{var h;(h=n.current)==null||h.expand()}):Zr.flushSync(()=>{var h;(h=n.current)==null||h.collapse()})},[]),i=d.useCallback(()=>{Zr.flushSync(()=>{var p;(p=n.current)==null||p.expand()})},[]),l=d.useCallback(()=>{Zr.flushSync(()=>{var p;(p=n.current)==null||p.collapse()})},[]),c=d.useCallback(()=>{Zr.flushSync(()=>{var p;(p=n.current)==null||p.resize(e,t)})},[e,t]);return{ref:n,minSize:e,isCollapsed:r,setIsCollapsed:o,reset:c,toggle:s,expand:i,collapse:l}},nle=({isGalleryCollapsed:e,galleryPanelRef:t})=>{const{t:n}=Z(),r=()=>{var o;(o=t.current)==null||o.expand()};return e?a.jsx(su,{children:a.jsx(N,{pos:"absolute",transform:"translate(0, -50%)",minW:8,top:"50%",insetInlineEnd:"1.63rem",children:a.jsx(ze,{tooltip:"Show Gallery (G)",tooltipProps:{placement:"top"},"aria-label":n("accessibility.showGalleryPanel"),onClick:r,icon:a.jsx(ase,{}),sx:{p:0,px:3,h:48,borderEndRadius:0}})})}):null},rle=d.memo(nle),lh={borderStartRadius:0,flexGrow:1},ole=({isSidePanelCollapsed:e,sidePanelRef:t})=>{const{t:n}=Z(),r=()=>{var o;(o=t.current)==null||o.expand()};return e?a.jsx(su,{children:a.jsxs(N,{pos:"absolute",transform:"translate(0, -50%)",minW:8,top:"50%",insetInlineStart:"5.13rem",direction:"column",gap:2,h:48,children:[a.jsxs(Gt,{isAttached:!0,orientation:"vertical",flexGrow:3,children:[a.jsx(ze,{tooltip:n("parameters.showOptionsPanel"),"aria-label":n("parameters.showOptionsPanel"),onClick:r,sx:lh,icon:a.jsx(ZM,{})}),a.jsx(_O,{asIconButton:!0,sx:lh}),a.jsx(wO,{asIconButton:!0,sx:lh})]}),a.jsx(k2,{asIconButton:!0,sx:lh})]})}):null},sle=d.memo(ole),ale=e=>{const{label:t,activeLabel:n,children:r,defaultIsOpen:o=!1}=e,{isOpen:s,onToggle:i}=Br({defaultIsOpen:o}),{colorMode:l}=_a();return a.jsxs(_e,{children:[a.jsxs(N,{onClick:i,sx:{alignItems:"center",p:2,px:4,gap:2,borderTopRadius:"base",borderBottomRadius:s?0:"base",bg:Te("base.250","base.750")(l),color:Te("base.900","base.100")(l),_hover:{bg:Te("base.300","base.700")(l)},fontSize:"sm",fontWeight:600,cursor:"pointer",transitionProperty:"common",transitionDuration:"normal",userSelect:"none"},children:[t,a.jsx(pr,{children:n&&a.jsx(En.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.1}},exit:{opacity:0,transition:{duration:.1}},children:a.jsx(ge,{sx:{color:"accent.500",_dark:{color:"accent.300"}},children:n})},"statusText")}),a.jsx(Oa,{}),a.jsx(Gg,{sx:{w:"1rem",h:"1rem",transform:s?"rotate(0deg)":"rotate(180deg)",transitionProperty:"common",transitionDuration:"normal"}})]}),a.jsx(of,{in:s,animateOpacity:!0,style:{overflow:"unset"},children:a.jsx(_e,{sx:{p:4,pb:4,borderBottomRadius:"base",bg:"base.150",_dark:{bg:"base.800"}},children:r})})]})},lo=d.memo(ale),ile=le(xe,e=>{const{maxPrompts:t,combinatorial:n}=e.dynamicPrompts,{min:r,sliderMax:o,inputMax:s}=e.config.sd.dynamicPrompts.maxPrompts;return{maxPrompts:t,min:r,sliderMax:o,inputMax:s,isDisabled:!n}},Ie),lle=()=>{const{maxPrompts:e,min:t,sliderMax:n,inputMax:r,isDisabled:o}=V(ile),s=ee(),{t:i}=Z(),l=d.useCallback(p=>{s(iT(p))},[s]),c=d.useCallback(()=>{s(lT())},[s]);return a.jsx(Mt,{feature:"dynamicPromptsMaxPrompts",children:a.jsx(nt,{label:i("dynamicPrompts.maxPrompts"),isDisabled:o,min:t,max:n,value:e,onChange:l,sliderNumberInputProps:{max:r},withSliderMarks:!0,withInput:!0,withReset:!0,handleReset:c})})},cle=d.memo(lle),ule=le(xe,e=>{const{isLoading:t,isError:n,prompts:r,parsingError:o}=e.dynamicPrompts;return{prompts:r,parsingError:o,isError:n,isLoading:t}},Ie),dle={"&::marker":{color:"base.500",_dark:{color:"base.500"}}},fle=()=>{const{prompts:e,parsingError:t,isLoading:n,isError:r}=V(ule);return r?a.jsx(Mt,{feature:"dynamicPrompts",children:a.jsx(N,{w:"full",h:"full",layerStyle:"second",alignItems:"center",justifyContent:"center",p:8,children:a.jsx(er,{icon:ese,label:"Problem generating prompts"})})}):a.jsx(Mt,{feature:"dynamicPrompts",children:a.jsxs(qt,{isInvalid:!!t,children:[a.jsxs(kn,{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:["Prompts Preview (",e.length,")",t&&` - ${t}`]}),a.jsxs(N,{h:64,pos:"relative",layerStyle:"third",borderRadius:"base",p:2,children:[a.jsx(Mf,{children:a.jsx(UP,{stylePosition:"inside",ms:0,children:e.map((o,s)=>a.jsx(Jr,{fontSize:"sm",sx:dle,children:a.jsx(ge,{as:"span",children:o})},`${o}.${s}`))})}),n&&a.jsx(N,{pos:"absolute",w:"full",h:"full",top:0,insetInlineStart:0,layerStyle:"second",opacity:.7,alignItems:"center",justifyContent:"center",children:a.jsx(xi,{})})]})]})})},ple=d.memo(fle),u7=d.forwardRef(({label:e,description:t,...n},r)=>a.jsx(_e,{ref:r,...n,children:a.jsxs(_e,{children:[a.jsx(ge,{fontWeight:600,children:e}),t&&a.jsx(ge,{size:"xs",variant:"subtext",children:t})]})}));u7.displayName="IAIMantineSelectItemWithDescription";const hle=d.memo(u7),mle=()=>{const e=ee(),{t}=Z(),n=V(s=>s.dynamicPrompts.seedBehaviour),r=d.useMemo(()=>[{value:"PER_ITERATION",label:t("dynamicPrompts.seedBehaviour.perIterationLabel"),description:t("dynamicPrompts.seedBehaviour.perIterationDesc")},{value:"PER_PROMPT",label:t("dynamicPrompts.seedBehaviour.perPromptLabel"),description:t("dynamicPrompts.seedBehaviour.perPromptDesc")}],[t]),o=d.useCallback(s=>{s&&e(cT(s))},[e]);return a.jsx(Mt,{feature:"dynamicPromptsSeedBehaviour",children:a.jsx(Rn,{label:t("dynamicPrompts.seedBehaviour.label"),value:n,data:r,itemComponent:hle,onChange:o})})},gle=d.memo(mle),vle=()=>{const{t:e}=Z(),t=d.useMemo(()=>le(xe,({dynamicPrompts:o})=>{const s=o.prompts.length;return s===1?e("dynamicPrompts.promptsWithCount_one",{count:s}):e("dynamicPrompts.promptsWithCount_other",{count:s})}),[e]),n=V(t);return Kt("dynamicPrompting").isFeatureEnabled?a.jsx(lo,{label:e("dynamicPrompts.dynamicPrompts"),activeLabel:n,children:a.jsxs(N,{sx:{gap:2,flexDir:"column"},children:[a.jsx(ple,{}),a.jsx(gle,{}),a.jsx(cle,{})]})}):null},xu=d.memo(vle),xle=e=>{const t=ee(),{lora:n}=e,r=d.useCallback(i=>{t(uT({id:n.id,weight:i}))},[t,n.id]),o=d.useCallback(()=>{t(dT(n.id))},[t,n.id]),s=d.useCallback(()=>{t(fT(n.id))},[t,n.id]);return a.jsx(Mt,{feature:"lora",children:a.jsxs(N,{sx:{gap:2.5,alignItems:"flex-end"},children:[a.jsx(nt,{label:n.model_name,value:n.weight,onChange:r,min:-1,max:2,step:.01,withInput:!0,withReset:!0,handleReset:o,withSliderMarks:!0,sliderMarks:[-1,0,1,2],sliderNumberInputProps:{min:-50,max:50}}),a.jsx(ze,{size:"sm",onClick:s,tooltip:"Remove LoRA","aria-label":"Remove LoRA",icon:a.jsx(Vr,{}),colorScheme:"error"})]})})},ble=d.memo(xle),yle=le(xe,({lora:e})=>({lorasArray:hr(e.loras)}),Ie),Cle=()=>{const{lorasArray:e}=V(yle);return a.jsx(a.Fragment,{children:e.map((t,n)=>a.jsxs(N,{sx:{flexDirection:"column",gap:2},children:[n>0&&a.jsx(Jn,{pt:1}),a.jsx(ble,{lora:t})]},t.model_name))})},wle=d.memo(Cle),Sle=le(xe,({lora:e})=>({loras:e.loras}),Ie),kle=()=>{const e=ee(),{loras:t}=V(Sle),{data:n}=Zd(),r=V(i=>i.generation.model),o=d.useMemo(()=>{if(!n)return[];const i=[];return zn(n.entities,(l,c)=>{if(!l||c in t)return;const p=(r==null?void 0:r.base_model)!==l.base_model;i.push({value:c,label:l.model_name,disabled:p,group:gn[l.base_model],tooltip:p?`Incompatible base model: ${l.base_model}`:void 0})}),i.sort((l,c)=>l.label&&!c.label?1:-1),i.sort((l,c)=>l.disabled&&!c.disabled?1:-1)},[t,n,r==null?void 0:r.base_model]),s=d.useCallback(i=>{if(!i)return;const l=n==null?void 0:n.entities[i];l&&e(pT(l))},[e,n==null?void 0:n.entities]);return(n==null?void 0:n.ids.length)===0?a.jsx(N,{sx:{justifyContent:"center",p:2},children:a.jsx(ge,{sx:{fontSize:"sm",color:"base.500",_dark:"base.700"},children:"No LoRAs Loaded"})}):a.jsx(rn,{placeholder:o.length===0?"All LoRAs added":"Add LoRA",value:null,data:o,nothingFound:"No matching LoRAs",itemComponent:ki,disabled:o.length===0,filter:(i,l)=>{var c;return((c=l.label)==null?void 0:c.toLowerCase().includes(i.toLowerCase().trim()))||l.value.toLowerCase().includes(i.toLowerCase().trim())},onChange:s})},jle=d.memo(kle),Ile=le(xe,e=>{const t=i5(e.lora.loras);return{activeLabel:t>0?`${t} Active`:void 0}},Ie),_le=()=>{const{activeLabel:e}=V(Ile);return Kt("lora").isFeatureEnabled?a.jsx(lo,{label:"LoRA",activeLabel:e,children:a.jsxs(N,{sx:{flexDir:"column",gap:2},children:[a.jsx(jle,{}),a.jsx(wle,{})]})}):null},bu=d.memo(_le),Ple=()=>{const e=ee(),t=V(o=>o.generation.shouldUseCpuNoise),{t:n}=Z(),r=d.useCallback(o=>{e(hT(o.target.checked))},[e]);return a.jsx(Mt,{feature:"noiseUseCPU",children:a.jsx(pn,{label:n("parameters.useCpuNoise"),isChecked:t,onChange:r})})},ds=e=>e.generation,Ele=le(ds,e=>{const{seamlessXAxis:t}=e;return{seamlessXAxis:t}},Ie),Mle=()=>{const{t:e}=Z(),{seamlessXAxis:t}=V(Ele),n=ee(),r=d.useCallback(o=>{n(mT(o.target.checked))},[n]);return a.jsx(pn,{label:e("parameters.seamlessXAxis"),"aria-label":e("parameters.seamlessXAxis"),isChecked:t,onChange:r})},Ole=d.memo(Mle),Dle=le(ds,e=>{const{seamlessYAxis:t}=e;return{seamlessYAxis:t}},Ie),Rle=()=>{const{t:e}=Z(),{seamlessYAxis:t}=V(Dle),n=ee(),r=d.useCallback(o=>{n(gT(o.target.checked))},[n]);return a.jsx(pn,{label:e("parameters.seamlessYAxis"),"aria-label":e("parameters.seamlessYAxis"),isChecked:t,onChange:r})},Ale=d.memo(Rle),Tle=()=>{const{t:e}=Z();return Kt("seamless").isFeatureEnabled?a.jsxs(qt,{children:[a.jsx(kn,{children:e("parameters.seamlessTiling")})," ",a.jsxs(N,{sx:{gap:5},children:[a.jsx(_e,{flexGrow:1,children:a.jsx(Ole,{})}),a.jsx(_e,{flexGrow:1,children:a.jsx(Ale,{})})]})]}):null},Nle=d.memo(Tle);function $le(){const e=V(c=>c.generation.clipSkip),{model:t}=V(c=>c.generation),n=ee(),{t:r}=Z(),o=d.useCallback(c=>{n(qw(c))},[n]),s=d.useCallback(()=>{n(qw(0))},[n]),i=d.useMemo(()=>t?_p[t.base_model].maxClip:_p["sd-1"].maxClip,[t]),l=d.useMemo(()=>t?_p[t.base_model].markers:_p["sd-1"].markers,[t]);return(t==null?void 0:t.base_model)==="sdxl"?null:a.jsx(Mt,{feature:"clipSkip",placement:"top",children:a.jsx(nt,{label:r("parameters.clipSkip"),"aria-label":r("parameters.clipSkip"),min:0,max:i,step:1,value:e,onChange:o,withSliderMarks:!0,sliderMarks:l,withInput:!0,withReset:!0,handleReset:s})})}const Lle=le(xe,e=>{const{clipSkip:t,model:n,seamlessXAxis:r,seamlessYAxis:o,shouldUseCpuNoise:s}=e.generation;return{clipSkip:t,model:n,seamlessXAxis:r,seamlessYAxis:o,shouldUseCpuNoise:s}},Ie);function yu(){const{clipSkip:e,model:t,seamlessXAxis:n,seamlessYAxis:r,shouldUseCpuNoise:o}=V(Lle),{t:s}=Z(),i=d.useMemo(()=>{const l=[];return o?l.push(s("parameters.cpuNoise")):l.push(s("parameters.gpuNoise")),e>0&&t&&t.base_model!=="sdxl"&&l.push(s("parameters.clipSkipWithLayerCount",{layerCount:e})),n&&r?l.push(s("parameters.seamlessX&Y")):n?l.push(s("parameters.seamlessX")):r&&l.push(s("parameters.seamlessY")),l.join(", ")},[e,t,n,r,o,s]);return a.jsx(lo,{label:s("common.advanced"),activeLabel:i,children:a.jsxs(N,{sx:{flexDir:"column",gap:2},children:[a.jsx(Nle,{}),a.jsx(Jn,{}),t&&(t==null?void 0:t.base_model)!=="sdxl"&&a.jsxs(a.Fragment,{children:[a.jsx($le,{}),a.jsx(Jn,{pt:2})]}),a.jsx(Ple,{})]})})}const zle=le(xe,({generation:e})=>{const{model:t}=e;return{mainModel:t}},Ie),Fle=e=>{const{controlNetId:t,model:n,isEnabled:r}=e.controlNet,o=ee(),{mainModel:s}=V(zle),{t:i}=Z(),{data:l}=Rb(),c=d.useMemo(()=>{if(!l)return[];const m=[];return zn(l.entities,(g,x)=>{if(!g)return;const y=(g==null?void 0:g.base_model)!==(s==null?void 0:s.base_model);m.push({value:x,label:g.model_name,group:gn[g.base_model],disabled:y,tooltip:y?`${i("controlnet.incompatibleBaseModel")} ${g.base_model}`:void 0})}),m},[l,s==null?void 0:s.base_model,i]),p=d.useMemo(()=>(l==null?void 0:l.entities[`${n==null?void 0:n.base_model}/controlnet/${n==null?void 0:n.model_name}`])??null,[n==null?void 0:n.base_model,n==null?void 0:n.model_name,l==null?void 0:l.entities]),h=d.useCallback(m=>{if(!m)return;const g=n7(m);g&&o(l5({controlNetId:t,model:g}))},[t,o]);return a.jsx(rn,{itemComponent:ki,data:c,error:!p||(s==null?void 0:s.base_model)!==p.base_model,placeholder:i("controlnet.selectModel"),value:(p==null?void 0:p.id)??null,onChange:h,disabled:!r,tooltip:p==null?void 0:p.description})},Ble=d.memo(Fle),Hle=e=>{const{weight:t,isEnabled:n,controlNetId:r}=e.controlNet,o=ee(),{t:s}=Z(),i=d.useCallback(l=>{o(vT({controlNetId:r,weight:l}))},[r,o]);return a.jsx(Mt,{feature:"controlNetWeight",children:a.jsx(nt,{isDisabled:!n,label:s("controlnet.weight"),value:t,onChange:i,min:0,max:2,step:.01,withSliderMarks:!0,sliderMarks:[0,1,2]})})},Vle=d.memo(Hle),Wle=le(xe,({controlNet:e,gallery:t})=>{const{pendingControlImages:n}=e,{autoAddBoardId:r}=t;return{pendingControlImages:n,autoAddBoardId:r}},Ie),Ule=({isSmall:e,controlNet:t})=>{const{controlImage:n,processedControlImage:r,processorType:o,controlNetId:s}=t,i=ee(),{t:l}=Z(),{pendingControlImages:c,autoAddBoardId:p}=V(Wle),h=V(tr),[m,g]=d.useState(!1),{currentData:x}=oo(n??Fr.skipToken),{currentData:y}=oo(r??Fr.skipToken),[b]=xT(),[w]=bT(),[S]=yT(),j=d.useCallback(()=>{i(CT({controlNetId:s,controlImage:null}))},[s,i]),I=d.useCallback(async()=>{y&&(await b({imageDTO:y,is_intermediate:!1}).unwrap(),p!=="none"?w({imageDTO:y,board_id:p}):S({imageDTO:y}))},[y,b,p,w,S]),M=d.useCallback(()=>{x&&(h==="unifiedCanvas"?i(Qo({width:x.width,height:x.height})):(i(sl(x.width)),i(al(x.height))))},[x,h,i]),_=d.useCallback(()=>{g(!0)},[]),E=d.useCallback(()=>{g(!1)},[]),D=d.useMemo(()=>{if(x)return{id:s,payloadType:"IMAGE_DTO",payload:{imageDTO:x}}},[x,s]),R=d.useMemo(()=>({id:s,actionType:"SET_CONTROLNET_IMAGE",context:{controlNetId:s}}),[s]),A=d.useMemo(()=>({type:"SET_CONTROLNET_IMAGE",controlNetId:s}),[s]),O=x&&y&&!m&&!c.includes(s)&&o!=="none";return a.jsxs(N,{onMouseEnter:_,onMouseLeave:E,sx:{position:"relative",w:"full",h:e?28:366,alignItems:"center",justifyContent:"center"},children:[a.jsx(Sa,{draggableData:D,droppableData:R,imageDTO:x,isDropDisabled:O,postUploadAction:A}),a.jsx(_e,{sx:{position:"absolute",top:0,insetInlineStart:0,w:"full",h:"full",opacity:O?1:0,transitionProperty:"common",transitionDuration:"normal",pointerEvents:"none"},children:a.jsx(Sa,{draggableData:D,droppableData:R,imageDTO:y,isUploadDisabled:!0})}),a.jsxs(a.Fragment,{children:[a.jsx(nl,{onClick:j,icon:x?a.jsx(Sf,{}):void 0,tooltip:l("controlnet.resetControlImage")}),a.jsx(nl,{onClick:I,icon:x?a.jsx(Lg,{size:16}):void 0,tooltip:l("controlnet.saveControlImage"),styleOverrides:{marginTop:6}}),a.jsx(nl,{onClick:M,icon:x?a.jsx(Lee,{size:16}):void 0,tooltip:l("controlnet.setControlImageDimensions"),styleOverrides:{marginTop:12}})]}),c.includes(s)&&a.jsx(N,{sx:{position:"absolute",top:0,insetInlineStart:0,w:"full",h:"full",alignItems:"center",justifyContent:"center",opacity:.8,borderRadius:"base",bg:"base.400",_dark:{bg:"base.900"}},children:a.jsx(xi,{size:"xl",sx:{color:"base.100",_dark:{color:"base.400"}}})})]})},_I=d.memo(Ule),Ao=()=>{const e=ee();return d.useCallback((n,r)=>{e(wT({controlNetId:n,changes:r}))},[e])};function To(e){return a.jsx(N,{sx:{flexDirection:"column",gap:2,pb:2},children:e.children})}const PI=io.canny_image_processor.default,Gle=e=>{const{controlNetId:t,processorNode:n,isEnabled:r}=e,{low_threshold:o,high_threshold:s}=n,i=Ao(),{t:l}=Z(),c=d.useCallback(g=>{i(t,{low_threshold:g})},[t,i]),p=d.useCallback(()=>{i(t,{low_threshold:PI.low_threshold})},[t,i]),h=d.useCallback(g=>{i(t,{high_threshold:g})},[t,i]),m=d.useCallback(()=>{i(t,{high_threshold:PI.high_threshold})},[t,i]);return a.jsxs(To,{children:[a.jsx(nt,{isDisabled:!r,label:l("controlnet.lowThreshold"),value:o,onChange:c,handleReset:p,withReset:!0,min:0,max:255,withInput:!0,withSliderMarks:!0}),a.jsx(nt,{isDisabled:!r,label:l("controlnet.highThreshold"),value:s,onChange:h,handleReset:m,withReset:!0,min:0,max:255,withInput:!0,withSliderMarks:!0})]})},Kle=d.memo(Gle),qle=io.color_map_image_processor.default,Xle=e=>{const{controlNetId:t,processorNode:n,isEnabled:r}=e,{color_map_tile_size:o}=n,s=Ao(),{t:i}=Z(),l=d.useCallback(p=>{s(t,{color_map_tile_size:p})},[t,s]),c=d.useCallback(()=>{s(t,{color_map_tile_size:qle.color_map_tile_size})},[t,s]);return a.jsx(To,{children:a.jsx(nt,{isDisabled:!r,label:i("controlnet.colorMapTileSize"),value:o,onChange:l,handleReset:c,withReset:!0,min:1,max:256,step:1,withInput:!0,withSliderMarks:!0,sliderNumberInputProps:{max:4096}})})},Qle=d.memo(Xle),Yu=io.content_shuffle_image_processor.default,Yle=e=>{const{controlNetId:t,processorNode:n,isEnabled:r}=e,{image_resolution:o,detect_resolution:s,w:i,h:l,f:c}=n,p=Ao(),{t:h}=Z(),m=d.useCallback(_=>{p(t,{detect_resolution:_})},[t,p]),g=d.useCallback(()=>{p(t,{detect_resolution:Yu.detect_resolution})},[t,p]),x=d.useCallback(_=>{p(t,{image_resolution:_})},[t,p]),y=d.useCallback(()=>{p(t,{image_resolution:Yu.image_resolution})},[t,p]),b=d.useCallback(_=>{p(t,{w:_})},[t,p]),w=d.useCallback(()=>{p(t,{w:Yu.w})},[t,p]),S=d.useCallback(_=>{p(t,{h:_})},[t,p]),j=d.useCallback(()=>{p(t,{h:Yu.h})},[t,p]),I=d.useCallback(_=>{p(t,{f:_})},[t,p]),M=d.useCallback(()=>{p(t,{f:Yu.f})},[t,p]);return a.jsxs(To,{children:[a.jsx(nt,{label:h("controlnet.detectResolution"),value:s,onChange:m,handleReset:g,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!r}),a.jsx(nt,{label:h("controlnet.imageResolution"),value:o,onChange:x,handleReset:y,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!r}),a.jsx(nt,{label:h("controlnet.w"),value:i,onChange:b,handleReset:w,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!r}),a.jsx(nt,{label:h("controlnet.h"),value:l,onChange:S,handleReset:j,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!r}),a.jsx(nt,{label:h("controlnet.f"),value:c,onChange:I,handleReset:M,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!r})]})},Zle=d.memo(Yle),EI=io.hed_image_processor.default,Jle=e=>{const{controlNetId:t,processorNode:{detect_resolution:n,image_resolution:r,scribble:o},isEnabled:s}=e,i=Ao(),{t:l}=Z(),c=d.useCallback(x=>{i(t,{detect_resolution:x})},[t,i]),p=d.useCallback(x=>{i(t,{image_resolution:x})},[t,i]),h=d.useCallback(x=>{i(t,{scribble:x.target.checked})},[t,i]),m=d.useCallback(()=>{i(t,{detect_resolution:EI.detect_resolution})},[t,i]),g=d.useCallback(()=>{i(t,{image_resolution:EI.image_resolution})},[t,i]);return a.jsxs(To,{children:[a.jsx(nt,{label:l("controlnet.detectResolution"),value:n,onChange:c,handleReset:m,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!s}),a.jsx(nt,{label:l("controlnet.imageResolution"),value:r,onChange:p,handleReset:g,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!s}),a.jsx(pn,{label:l("controlnet.scribble"),isChecked:o,onChange:h,isDisabled:!s})]})},ece=d.memo(Jle),MI=io.lineart_anime_image_processor.default,tce=e=>{const{controlNetId:t,processorNode:n,isEnabled:r}=e,{image_resolution:o,detect_resolution:s}=n,i=Ao(),{t:l}=Z(),c=d.useCallback(g=>{i(t,{detect_resolution:g})},[t,i]),p=d.useCallback(g=>{i(t,{image_resolution:g})},[t,i]),h=d.useCallback(()=>{i(t,{detect_resolution:MI.detect_resolution})},[t,i]),m=d.useCallback(()=>{i(t,{image_resolution:MI.image_resolution})},[t,i]);return a.jsxs(To,{children:[a.jsx(nt,{label:l("controlnet.detectResolution"),value:s,onChange:c,handleReset:h,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!r}),a.jsx(nt,{label:l("controlnet.imageResolution"),value:o,onChange:p,handleReset:m,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!r})]})},nce=d.memo(tce),OI=io.lineart_image_processor.default,rce=e=>{const{controlNetId:t,processorNode:n,isEnabled:r}=e,{image_resolution:o,detect_resolution:s,coarse:i}=n,l=Ao(),{t:c}=Z(),p=d.useCallback(y=>{l(t,{detect_resolution:y})},[t,l]),h=d.useCallback(y=>{l(t,{image_resolution:y})},[t,l]),m=d.useCallback(()=>{l(t,{detect_resolution:OI.detect_resolution})},[t,l]),g=d.useCallback(()=>{l(t,{image_resolution:OI.image_resolution})},[t,l]),x=d.useCallback(y=>{l(t,{coarse:y.target.checked})},[t,l]);return a.jsxs(To,{children:[a.jsx(nt,{label:c("controlnet.detectResolution"),value:s,onChange:p,handleReset:m,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!r}),a.jsx(nt,{label:c("controlnet.imageResolution"),value:o,onChange:h,handleReset:g,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!r}),a.jsx(pn,{label:c("controlnet.coarse"),isChecked:i,onChange:x,isDisabled:!r})]})},oce=d.memo(rce),DI=io.mediapipe_face_processor.default,sce=e=>{const{controlNetId:t,processorNode:n,isEnabled:r}=e,{max_faces:o,min_confidence:s}=n,i=Ao(),{t:l}=Z(),c=d.useCallback(g=>{i(t,{max_faces:g})},[t,i]),p=d.useCallback(g=>{i(t,{min_confidence:g})},[t,i]),h=d.useCallback(()=>{i(t,{max_faces:DI.max_faces})},[t,i]),m=d.useCallback(()=>{i(t,{min_confidence:DI.min_confidence})},[t,i]);return a.jsxs(To,{children:[a.jsx(nt,{label:l("controlnet.maxFaces"),value:o,onChange:c,handleReset:h,withReset:!0,min:1,max:20,withInput:!0,withSliderMarks:!0,isDisabled:!r}),a.jsx(nt,{label:l("controlnet.minConfidence"),value:s,onChange:p,handleReset:m,withReset:!0,min:0,max:1,step:.01,withInput:!0,withSliderMarks:!0,isDisabled:!r})]})},ace=d.memo(sce),RI=io.midas_depth_image_processor.default,ice=e=>{const{controlNetId:t,processorNode:n,isEnabled:r}=e,{a_mult:o,bg_th:s}=n,i=Ao(),{t:l}=Z(),c=d.useCallback(g=>{i(t,{a_mult:g})},[t,i]),p=d.useCallback(g=>{i(t,{bg_th:g})},[t,i]),h=d.useCallback(()=>{i(t,{a_mult:RI.a_mult})},[t,i]),m=d.useCallback(()=>{i(t,{bg_th:RI.bg_th})},[t,i]);return a.jsxs(To,{children:[a.jsx(nt,{label:l("controlnet.amult"),value:o,onChange:c,handleReset:h,withReset:!0,min:0,max:20,step:.01,withInput:!0,withSliderMarks:!0,isDisabled:!r}),a.jsx(nt,{label:l("controlnet.bgth"),value:s,onChange:p,handleReset:m,withReset:!0,min:0,max:20,step:.01,withInput:!0,withSliderMarks:!0,isDisabled:!r})]})},lce=d.memo(ice),ch=io.mlsd_image_processor.default,cce=e=>{const{controlNetId:t,processorNode:n,isEnabled:r}=e,{image_resolution:o,detect_resolution:s,thr_d:i,thr_v:l}=n,c=Ao(),{t:p}=Z(),h=d.useCallback(j=>{c(t,{detect_resolution:j})},[t,c]),m=d.useCallback(j=>{c(t,{image_resolution:j})},[t,c]),g=d.useCallback(j=>{c(t,{thr_d:j})},[t,c]),x=d.useCallback(j=>{c(t,{thr_v:j})},[t,c]),y=d.useCallback(()=>{c(t,{detect_resolution:ch.detect_resolution})},[t,c]),b=d.useCallback(()=>{c(t,{image_resolution:ch.image_resolution})},[t,c]),w=d.useCallback(()=>{c(t,{thr_d:ch.thr_d})},[t,c]),S=d.useCallback(()=>{c(t,{thr_v:ch.thr_v})},[t,c]);return a.jsxs(To,{children:[a.jsx(nt,{label:p("controlnet.detectResolution"),value:s,onChange:h,handleReset:y,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!r}),a.jsx(nt,{label:p("controlnet.imageResolution"),value:o,onChange:m,handleReset:b,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!r}),a.jsx(nt,{label:p("controlnet.w"),value:i,onChange:g,handleReset:w,withReset:!0,min:0,max:1,step:.01,withInput:!0,withSliderMarks:!0,isDisabled:!r}),a.jsx(nt,{label:p("controlnet.h"),value:l,onChange:x,handleReset:S,withReset:!0,min:0,max:1,step:.01,withInput:!0,withSliderMarks:!0,isDisabled:!r})]})},uce=d.memo(cce),AI=io.normalbae_image_processor.default,dce=e=>{const{controlNetId:t,processorNode:n,isEnabled:r}=e,{image_resolution:o,detect_resolution:s}=n,i=Ao(),{t:l}=Z(),c=d.useCallback(g=>{i(t,{detect_resolution:g})},[t,i]),p=d.useCallback(g=>{i(t,{image_resolution:g})},[t,i]),h=d.useCallback(()=>{i(t,{detect_resolution:AI.detect_resolution})},[t,i]),m=d.useCallback(()=>{i(t,{image_resolution:AI.image_resolution})},[t,i]);return a.jsxs(To,{children:[a.jsx(nt,{label:l("controlnet.detectResolution"),value:s,onChange:c,handleReset:h,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!r}),a.jsx(nt,{label:l("controlnet.imageResolution"),value:o,onChange:p,handleReset:m,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!r})]})},fce=d.memo(dce),TI=io.openpose_image_processor.default,pce=e=>{const{controlNetId:t,processorNode:n,isEnabled:r}=e,{image_resolution:o,detect_resolution:s,hand_and_face:i}=n,l=Ao(),{t:c}=Z(),p=d.useCallback(y=>{l(t,{detect_resolution:y})},[t,l]),h=d.useCallback(y=>{l(t,{image_resolution:y})},[t,l]),m=d.useCallback(()=>{l(t,{detect_resolution:TI.detect_resolution})},[t,l]),g=d.useCallback(()=>{l(t,{image_resolution:TI.image_resolution})},[t,l]),x=d.useCallback(y=>{l(t,{hand_and_face:y.target.checked})},[t,l]);return a.jsxs(To,{children:[a.jsx(nt,{label:c("controlnet.detectResolution"),value:s,onChange:p,handleReset:m,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!r}),a.jsx(nt,{label:c("controlnet.imageResolution"),value:o,onChange:h,handleReset:g,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!r}),a.jsx(pn,{label:c("controlnet.handAndFace"),isChecked:i,onChange:x,isDisabled:!r})]})},hce=d.memo(pce),NI=io.pidi_image_processor.default,mce=e=>{const{controlNetId:t,processorNode:n,isEnabled:r}=e,{image_resolution:o,detect_resolution:s,scribble:i,safe:l}=n,c=Ao(),{t:p}=Z(),h=d.useCallback(w=>{c(t,{detect_resolution:w})},[t,c]),m=d.useCallback(w=>{c(t,{image_resolution:w})},[t,c]),g=d.useCallback(()=>{c(t,{detect_resolution:NI.detect_resolution})},[t,c]),x=d.useCallback(()=>{c(t,{image_resolution:NI.image_resolution})},[t,c]),y=d.useCallback(w=>{c(t,{scribble:w.target.checked})},[t,c]),b=d.useCallback(w=>{c(t,{safe:w.target.checked})},[t,c]);return a.jsxs(To,{children:[a.jsx(nt,{label:p("controlnet.detectResolution"),value:s,onChange:h,handleReset:g,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!r}),a.jsx(nt,{label:p("controlnet.imageResolution"),value:o,onChange:m,handleReset:x,withReset:!0,min:0,max:4096,withInput:!0,withSliderMarks:!0,isDisabled:!r}),a.jsx(pn,{label:p("controlnet.scribble"),isChecked:i,onChange:y}),a.jsx(pn,{label:p("controlnet.safe"),isChecked:l,onChange:b,isDisabled:!r})]})},gce=d.memo(mce),vce=e=>null,xce=d.memo(vce),bce=e=>{const{controlNetId:t,isEnabled:n,processorNode:r}=e.controlNet;return r.type==="canny_image_processor"?a.jsx(Kle,{controlNetId:t,processorNode:r,isEnabled:n}):r.type==="color_map_image_processor"?a.jsx(Qle,{controlNetId:t,processorNode:r,isEnabled:n}):r.type==="hed_image_processor"?a.jsx(ece,{controlNetId:t,processorNode:r,isEnabled:n}):r.type==="lineart_image_processor"?a.jsx(oce,{controlNetId:t,processorNode:r,isEnabled:n}):r.type==="content_shuffle_image_processor"?a.jsx(Zle,{controlNetId:t,processorNode:r,isEnabled:n}):r.type==="lineart_anime_image_processor"?a.jsx(nce,{controlNetId:t,processorNode:r,isEnabled:n}):r.type==="mediapipe_face_processor"?a.jsx(ace,{controlNetId:t,processorNode:r,isEnabled:n}):r.type==="midas_depth_image_processor"?a.jsx(lce,{controlNetId:t,processorNode:r,isEnabled:n}):r.type==="mlsd_image_processor"?a.jsx(uce,{controlNetId:t,processorNode:r,isEnabled:n}):r.type==="normalbae_image_processor"?a.jsx(fce,{controlNetId:t,processorNode:r,isEnabled:n}):r.type==="openpose_image_processor"?a.jsx(hce,{controlNetId:t,processorNode:r,isEnabled:n}):r.type==="pidi_image_processor"?a.jsx(gce,{controlNetId:t,processorNode:r,isEnabled:n}):r.type==="zoe_depth_image_processor"?a.jsx(xce,{controlNetId:t,processorNode:r,isEnabled:n}):null},yce=d.memo(bce),Cce=e=>{const{controlNetId:t,isEnabled:n,shouldAutoConfig:r}=e.controlNet,o=ee(),{t:s}=Z(),i=d.useCallback(()=>{o(ST({controlNetId:t}))},[t,o]);return a.jsx(pn,{label:s("controlnet.autoConfigure"),"aria-label":s("controlnet.autoConfigure"),isChecked:r,onChange:i,isDisabled:!n})},wce=d.memo(Cce),Sce=e=>{const{controlNet:t}=e,n=ee(),{t:r}=Z(),o=d.useCallback(()=>{n(kT({controlNet:t}))},[t,n]),s=d.useCallback(()=>{n(jT({controlNet:t}))},[t,n]);return a.jsxs(N,{sx:{gap:2},children:[a.jsx(ze,{size:"sm",icon:a.jsx(ml,{}),tooltip:r("controlnet.importImageFromCanvas"),"aria-label":r("controlnet.importImageFromCanvas"),onClick:o}),a.jsx(ze,{size:"sm",icon:a.jsx(XM,{}),tooltip:r("controlnet.importMaskFromCanvas"),"aria-label":r("controlnet.importMaskFromCanvas"),onClick:s})]})},kce=d.memo(Sce),$I=e=>`${Math.round(e*100)}%`,jce=e=>{const{beginStepPct:t,endStepPct:n,isEnabled:r,controlNetId:o}=e.controlNet,s=ee(),{t:i}=Z(),l=d.useCallback(c=>{s(IT({controlNetId:o,beginStepPct:c[0]})),s(_T({controlNetId:o,endStepPct:c[1]}))},[o,s]);return a.jsx(Mt,{feature:"controlNetBeginEnd",children:a.jsxs(qt,{isDisabled:!r,children:[a.jsx(kn,{children:i("controlnet.beginEndStepPercent")}),a.jsx(cg,{w:"100%",gap:2,alignItems:"center",children:a.jsxs(vy,{"aria-label":["Begin Step %","End Step %!"],value:[t,n],onChange:l,min:0,max:1,step:.01,minStepsBetweenThumbs:5,isDisabled:!r,children:[a.jsx(xy,{children:a.jsx(by,{})}),a.jsx(Ht,{label:$I(t),placement:"top",hasArrow:!0,children:a.jsx(Ed,{index:0})}),a.jsx(Ht,{label:$I(n),placement:"top",hasArrow:!0,children:a.jsx(Ed,{index:1})}),a.jsx(Zi,{value:0,sx:{insetInlineStart:"0 !important",insetInlineEnd:"unset !important"},children:"0%"}),a.jsx(Zi,{value:.5,sx:{insetInlineStart:"50% !important",transform:"translateX(-50%)"},children:"50%"}),a.jsx(Zi,{value:1,sx:{insetInlineStart:"unset !important",insetInlineEnd:"0 !important"},children:"100%"})]})})]})})},Ice=d.memo(jce);function _ce(e){const{controlMode:t,isEnabled:n,controlNetId:r}=e.controlNet,o=ee(),{t:s}=Z(),i=[{label:s("controlnet.balanced"),value:"balanced"},{label:s("controlnet.prompt"),value:"more_prompt"},{label:s("controlnet.control"),value:"more_control"},{label:s("controlnet.megaControl"),value:"unbalanced"}],l=d.useCallback(c=>{o(PT({controlNetId:r,controlMode:c}))},[r,o]);return a.jsx(Mt,{feature:"controlNetControlMode",children:a.jsx(Rn,{disabled:!n,label:s("controlnet.controlMode"),data:i,value:String(t),onChange:l})})}const Pce=le(S2,e=>hr(io,n=>({value:n.type,label:n.label})).sort((n,r)=>n.value==="none"?-1:r.value==="none"?1:n.label.localeCompare(r.label)).filter(n=>!e.sd.disabledControlNetProcessors.includes(n.value)),Ie),Ece=e=>{const t=ee(),{controlNetId:n,isEnabled:r,processorNode:o}=e.controlNet,s=V(Pce),{t:i}=Z(),l=d.useCallback(c=>{t(ET({controlNetId:n,processorType:c}))},[n,t]);return a.jsx(rn,{label:i("controlnet.processor"),value:o.type??"canny_image_processor",data:s,onChange:l,disabled:!r})},Mce=d.memo(Ece);function Oce(e){const{resizeMode:t,isEnabled:n,controlNetId:r}=e.controlNet,o=ee(),{t:s}=Z(),i=[{label:s("controlnet.resize"),value:"just_resize"},{label:s("controlnet.crop"),value:"crop_resize"},{label:s("controlnet.fill"),value:"fill_resize"}],l=d.useCallback(c=>{o(MT({controlNetId:r,resizeMode:c}))},[r,o]);return a.jsx(Mt,{feature:"controlNetResizeMode",children:a.jsx(Rn,{disabled:!n,label:s("controlnet.resizeMode"),data:i,value:String(t),onChange:l})})}const Dce=e=>{const{controlNet:t}=e,{controlNetId:n}=t,r=ee(),{t:o}=Z(),s=V(tr),i=le(xe,({controlNet:y})=>{const b=y.controlNets[n];if(!b)return{isEnabled:!1,shouldAutoConfig:!1};const{isEnabled:w,shouldAutoConfig:S}=b;return{isEnabled:w,shouldAutoConfig:S}},Ie),{isEnabled:l,shouldAutoConfig:c}=V(i),[p,h]=qee(!1),m=d.useCallback(()=>{r(OT({controlNetId:n}))},[n,r]),g=d.useCallback(()=>{r(DT({sourceControlNetId:n,newControlNetId:ai()}))},[n,r]),x=d.useCallback(y=>{r(RT({controlNetId:n,isEnabled:y.target.checked}))},[n,r]);return a.jsxs(N,{sx:{flexDir:"column",gap:3,p:2,borderRadius:"base",position:"relative",bg:"base.250",_dark:{bg:"base.750"}},children:[a.jsxs(N,{sx:{gap:2,alignItems:"center"},children:[a.jsx(pn,{tooltip:o("controlnet.toggleControlNet"),"aria-label":o("controlnet.toggleControlNet"),isChecked:l,onChange:x}),a.jsx(_e,{sx:{w:"full",minW:0,transitionProperty:"common",transitionDuration:"0.1s"},children:a.jsx(Ble,{controlNet:t})}),s==="unifiedCanvas"&&a.jsx(kce,{controlNet:t}),a.jsx(ze,{size:"sm",tooltip:o("controlnet.duplicate"),"aria-label":o("controlnet.duplicate"),onClick:g,icon:a.jsx(pu,{})}),a.jsx(ze,{size:"sm",tooltip:o("controlnet.delete"),"aria-label":o("controlnet.delete"),colorScheme:"error",onClick:m,icon:a.jsx(Vr,{})}),a.jsx(ze,{size:"sm",tooltip:o(p?"controlnet.hideAdvanced":"controlnet.showAdvanced"),"aria-label":o(p?"controlnet.hideAdvanced":"controlnet.showAdvanced"),onClick:h,variant:"ghost",sx:{_hover:{bg:"none"}},icon:a.jsx(Gg,{sx:{boxSize:4,color:"base.700",transform:p?"rotate(0deg)":"rotate(180deg)",transitionProperty:"common",transitionDuration:"normal",_dark:{color:"base.300"}}})}),!c&&a.jsx(_e,{sx:{position:"absolute",w:1.5,h:1.5,borderRadius:"full",top:4,insetInlineEnd:4,bg:"accent.700",_dark:{bg:"accent.400"}}})]}),a.jsxs(N,{sx:{w:"full",flexDirection:"column",gap:3},children:[a.jsxs(N,{sx:{gap:4,w:"full",alignItems:"center"},children:[a.jsxs(N,{sx:{flexDir:"column",gap:3,h:28,w:"full",paddingInlineStart:1,paddingInlineEnd:p?1:0,pb:2,justifyContent:"space-between"},children:[a.jsx(Vle,{controlNet:t}),a.jsx(Ice,{controlNet:t})]}),!p&&a.jsx(N,{sx:{alignItems:"center",justifyContent:"center",h:28,w:28,aspectRatio:"1/1"},children:a.jsx(_I,{controlNet:t,isSmall:!0})})]}),a.jsxs(N,{sx:{gap:2},children:[a.jsx(_ce,{controlNet:t}),a.jsx(Oce,{controlNet:t})]}),a.jsx(Mce,{controlNet:t})]}),p&&a.jsxs(a.Fragment,{children:[a.jsx(_I,{controlNet:t}),a.jsx(wce,{controlNet:t}),a.jsx(yce,{controlNet:t})]})]})},Rce=d.memo(Dce),LI=e=>`${Math.round(e*100)}%`,Ace=()=>{const e=V(i=>i.controlNet.isIPAdapterEnabled),t=V(i=>i.controlNet.ipAdapterInfo.beginStepPct),n=V(i=>i.controlNet.ipAdapterInfo.endStepPct),r=ee(),{t:o}=Z(),s=d.useCallback(i=>{r(AT(i[0])),r(TT(i[1]))},[r]);return a.jsxs(qt,{isDisabled:!e,children:[a.jsx(kn,{children:o("controlnet.beginEndStepPercent")}),a.jsx(cg,{w:"100%",gap:2,alignItems:"center",children:a.jsxs(vy,{"aria-label":["Begin Step %","End Step %!"],value:[t,n],onChange:s,min:0,max:1,step:.01,minStepsBetweenThumbs:5,isDisabled:!e,children:[a.jsx(xy,{children:a.jsx(by,{})}),a.jsx(Ht,{label:LI(t),placement:"top",hasArrow:!0,children:a.jsx(Ed,{index:0})}),a.jsx(Ht,{label:LI(n),placement:"top",hasArrow:!0,children:a.jsx(Ed,{index:1})}),a.jsx(Zi,{value:0,sx:{insetInlineStart:"0 !important",insetInlineEnd:"unset !important"},children:"0%"}),a.jsx(Zi,{value:.5,sx:{insetInlineStart:"50% !important",transform:"translateX(-50%)"},children:"50%"}),a.jsx(Zi,{value:1,sx:{insetInlineStart:"unset !important",insetInlineEnd:"0 !important"},children:"100%"})]})})]})},Tce=d.memo(Ace),Nce=le(xe,e=>{const{isIPAdapterEnabled:t}=e.controlNet;return{isIPAdapterEnabled:t}},Ie),$ce=()=>{const{isIPAdapterEnabled:e}=V(Nce),t=ee(),{t:n}=Z(),r=d.useCallback(o=>{t(NT(o.target.checked))},[t]);return a.jsx(pn,{label:n("controlnet.enableIPAdapter"),isChecked:e,onChange:r,formControlProps:{width:"100%"}})},Lce=d.memo($ce),zce=le(xe,({controlNet:e})=>{const{ipAdapterInfo:t}=e;return{ipAdapterInfo:t}},Ie),Fce=()=>{var l;const{ipAdapterInfo:e}=V(zce),t=ee(),{t:n}=Z(),{currentData:r}=oo(((l=e.adapterImage)==null?void 0:l.image_name)??Fr.skipToken),o=d.useMemo(()=>{if(r)return{id:"ip-adapter-image",payloadType:"IMAGE_DTO",payload:{imageDTO:r}}},[r]),s=d.useMemo(()=>({id:"ip-adapter-image",actionType:"SET_IP_ADAPTER_IMAGE"}),[]),i=d.useMemo(()=>({type:"SET_IP_ADAPTER_IMAGE"}),[]);return a.jsxs(N,{sx:{position:"relative",w:"full",alignItems:"center",justifyContent:"center"},children:[a.jsx(Sa,{imageDTO:r,droppableData:s,draggableData:o,postUploadAction:i,dropLabel:n("toast.setIPAdapterImage"),noContentFallback:a.jsx(er,{label:n("controlnet.ipAdapterImageFallback")})}),a.jsx(nl,{onClick:()=>t($T(null)),icon:e.adapterImage?a.jsx(Sf,{}):void 0,tooltip:n("controlnet.resetIPAdapterImage")})]})},Bce=d.memo(Fce),Hce=()=>{const e=V(p=>p.controlNet.isIPAdapterEnabled),t=V(p=>p.controlNet.ipAdapterInfo.model),n=V(p=>p.generation.model),r=ee(),{t:o}=Z(),{data:s}=s5(),i=d.useMemo(()=>(s==null?void 0:s.entities[`${t==null?void 0:t.base_model}/ip_adapter/${t==null?void 0:t.model_name}`])??null,[t==null?void 0:t.base_model,t==null?void 0:t.model_name,s==null?void 0:s.entities]),l=d.useMemo(()=>{if(!s)return[];const p=[];return zn(s.entities,(h,m)=>{if(!h)return;const g=(n==null?void 0:n.base_model)!==h.base_model;p.push({value:m,label:h.model_name,group:gn[h.base_model],disabled:g,tooltip:g?`Incompatible base model: ${h.base_model}`:void 0})}),p.sort((h,m)=>h.disabled&&!m.disabled?1:-1)},[s,n==null?void 0:n.base_model]),c=d.useCallback(p=>{if(!p)return;const h=i7(p);h&&r(LT(h))},[r]);return a.jsx(Rn,{label:o("controlnet.ipAdapterModel"),className:"nowheel nodrag",tooltip:i==null?void 0:i.description,value:(i==null?void 0:i.id)??null,placeholder:"Pick one",error:!i,data:l,onChange:c,sx:{width:"100%"},disabled:!e})},Vce=d.memo(Hce),Wce=()=>{const e=V(i=>i.controlNet.isIPAdapterEnabled),t=V(i=>i.controlNet.ipAdapterInfo.weight),n=ee(),{t:r}=Z(),o=d.useCallback(i=>{n(Xw(i))},[n]),s=d.useCallback(()=>{n(Xw(1))},[n]);return a.jsx(nt,{isDisabled:!e,label:r("controlnet.weight"),value:t,onChange:o,min:0,max:2,step:.01,withSliderMarks:!0,sliderMarks:[0,1,2],withReset:!0,handleReset:s})},Uce=d.memo(Wce),Gce=()=>a.jsxs(N,{sx:{flexDir:"column",gap:3,paddingInline:3,paddingBlock:2,paddingBottom:5,borderRadius:"base",position:"relative",bg:"base.250",_dark:{bg:"base.750"}},children:[a.jsx(Lce,{}),a.jsx(Bce,{}),a.jsx(Vce,{}),a.jsx(Uce,{}),a.jsx(Tce,{})]}),Kce=d.memo(Gce),qce=le(xe,e=>{const{isEnabled:t}=e.controlNet;return{isEnabled:t}},Ie),Xce=()=>{const{isEnabled:e}=V(qce),t=ee(),n=d.useCallback(()=>{t(zT())},[t]);return a.jsx(_e,{width:"100%",children:a.jsx(Mt,{feature:"controlNet",children:a.jsx(pn,{label:"Enable ControlNet",isChecked:e,onChange:n})})})},Qce=d.memo(Xce),Yce=le([xe],({controlNet:e})=>{const{controlNets:t,isEnabled:n,isIPAdapterEnabled:r,ipAdapterInfo:o}=e,s=FT(t),i=o.model&&o.adapterImage;let l;return n&&s.length>0&&(l=`${s.length} ControlNet`),r&&i&&(l?l=`${l}, IP Adapter`:l="IP Adapter"),{controlNetsArray:hr(t),activeLabel:l}},Ie),Zce=()=>{const{controlNetsArray:e,activeLabel:t}=V(Yce),n=Kt("controlNet").isFeatureDisabled,r=ee(),{data:o}=Rb(),s=d.useMemo(()=>{if(!o||!Object.keys(o.entities).length)return;const l=Object.keys(o.entities)[0];if(!l)return;const c=o.entities[l];return c||void 0},[o]),i=d.useCallback(()=>{if(!s)return;const l=ai();r(BT({controlNetId:l})),r(l5({controlNetId:l,model:s}))},[r,s]);return n?null:a.jsx(lo,{label:"Control Adapters",activeLabel:t,children:a.jsxs(N,{sx:{flexDir:"column",gap:2},children:[a.jsxs(N,{sx:{w:"100%",gap:2,p:2,ps:3,borderRadius:"base",alignItems:"center",bg:"base.250",_dark:{bg:"base.750"}},children:[a.jsx(Qce,{}),a.jsx(ze,{tooltip:"Add ControlNet","aria-label":"Add ControlNet",icon:a.jsx(_l,{}),isDisabled:!s,flexGrow:1,size:"sm",onClick:i})]}),e.map((l,c)=>a.jsxs(d.Fragment,{children:[c>0&&a.jsx(Jn,{}),a.jsx(Rce,{controlNet:l})]},l.controlNetId)),a.jsx(Kce,{})]})})},Cu=d.memo(Zce),Jce=e=>{const{onClick:t}=e,{t:n}=Z();return a.jsx(ze,{size:"sm","aria-label":n("embedding.addEmbedding"),tooltip:n("embedding.addEmbedding"),icon:a.jsx(HM,{}),sx:{p:2,color:"base.500",_hover:{color:"base.600"},_active:{color:"base.700"},_dark:{color:"base.500",_hover:{color:"base.400"},_active:{color:"base.300"}}},variant:"link",onClick:t})},c0=d.memo(Jce),eue="28rem",tue=e=>{const{onSelect:t,isOpen:n,onClose:r,children:o}=e,{data:s}=HT(),i=d.useRef(null),{t:l}=Z(),c=V(m=>m.generation.model),p=d.useMemo(()=>{if(!s)return[];const m=[];return zn(s.entities,(g,x)=>{if(!g)return;const y=(c==null?void 0:c.base_model)!==g.base_model;m.push({value:g.model_name,label:g.model_name,group:gn[g.base_model],disabled:y,tooltip:y?`${l("embedding.incompatibleModel")} ${g.base_model}`:void 0})}),m.sort((g,x)=>{var y;return g.label&&x.label?(y=g.label)!=null&&y.localeCompare(x.label)?-1:1:-1}),m.sort((g,x)=>g.disabled&&!x.disabled?1:-1)},[s,c==null?void 0:c.base_model,l]),h=d.useCallback(m=>{m&&t(m)},[t]);return a.jsxs(gf,{initialFocusRef:i,isOpen:n,onClose:r,placement:"bottom",openDelay:0,closeDelay:0,closeOnBlur:!0,returnFocusOnClose:!0,children:[a.jsx(Cg,{children:o}),a.jsx(vf,{sx:{p:0,top:-1,shadow:"dark-lg",borderColor:"accent.300",borderWidth:"2px",borderStyle:"solid",_dark:{borderColor:"accent.400"}},children:a.jsx(wg,{sx:{p:0,w:`calc(${eue} - 2rem )`},children:p.length===0?a.jsx(N,{sx:{justifyContent:"center",p:2,fontSize:"sm",color:"base.500",_dark:{color:"base.700"}},children:a.jsx(ge,{children:"No Embeddings Loaded"})}):a.jsx(rn,{inputRef:i,autoFocus:!0,placeholder:l("embedding.addEmbedding"),value:null,data:p,nothingFound:l("embedding.noMatchingEmbedding"),itemComponent:ki,disabled:p.length===0,onDropdownClose:r,filter:(m,g)=>{var x;return((x=g.label)==null?void 0:x.toLowerCase().includes(m.toLowerCase().trim()))||g.value.toLowerCase().includes(m.toLowerCase().trim())},onChange:h})})})]})},u0=d.memo(tue),nue=()=>{const e=V(m=>m.generation.negativePrompt),t=d.useRef(null),{isOpen:n,onClose:r,onOpen:o}=Br(),s=ee(),{t:i}=Z(),l=d.useCallback(m=>{s(ud(m.target.value))},[s]),c=d.useCallback(m=>{m.key==="<"&&o()},[o]),p=d.useCallback(m=>{if(!t.current)return;const g=t.current.selectionStart;if(g===void 0)return;let x=e.slice(0,g);x[x.length-1]!=="<"&&(x+="<"),x+=`${m}>`;const y=x.length;x+=e.slice(g),Zr.flushSync(()=>{s(ud(x))}),t.current.selectionEnd=y,r()},[s,r,e]),h=Kt("embedding").isFeatureEnabled;return a.jsxs(qt,{children:[a.jsx(u0,{isOpen:n,onClose:r,onSelect:p,children:a.jsx(Mt,{feature:"paramNegativeConditioning",placement:"right",children:a.jsx(ka,{id:"negativePrompt",name:"negativePrompt",ref:t,value:e,placeholder:i("parameters.negativePromptPlaceholder"),onChange:l,resize:"vertical",fontSize:"sm",minH:16,...h&&{onKeyDown:c}})})}),!n&&h&&a.jsx(_e,{sx:{position:"absolute",top:0,insetInlineEnd:0},children:a.jsx(c0,{onClick:o})})]})},d7=d.memo(nue),rue=le([xe],({generation:e})=>({prompt:e.positivePrompt}),{memoizeOptions:{resultEqualityCheck:Bt}}),oue=()=>{const e=ee(),{prompt:t}=V(rue),n=d.useRef(null),{isOpen:r,onClose:o,onOpen:s}=Br(),{t:i}=Z(),l=d.useCallback(m=>{e(cd(m.target.value))},[e]);Je("alt+a",()=>{var m;(m=n.current)==null||m.focus()},[]);const c=d.useCallback(m=>{if(!n.current)return;const g=n.current.selectionStart;if(g===void 0)return;let x=t.slice(0,g);x[x.length-1]!=="<"&&(x+="<"),x+=`${m}>`;const y=x.length;x+=t.slice(g),Zr.flushSync(()=>{e(cd(x))}),n.current.selectionStart=y,n.current.selectionEnd=y,o()},[e,o,t]),p=Kt("embedding").isFeatureEnabled,h=d.useCallback(m=>{p&&m.key==="<"&&s()},[s,p]);return a.jsxs(_e,{position:"relative",children:[a.jsx(qt,{children:a.jsx(u0,{isOpen:r,onClose:o,onSelect:c,children:a.jsx(Mt,{feature:"paramPositiveConditioning",placement:"right",children:a.jsx(ka,{id:"prompt",name:"prompt",ref:n,value:t,placeholder:i("parameters.positivePromptPlaceholder"),onChange:l,onKeyDown:h,resize:"vertical",minH:32})})})}),!r&&p&&a.jsx(_e,{sx:{position:"absolute",top:0,insetInlineEnd:0},children:a.jsx(c0,{onClick:s})})]})},f7=d.memo(oue);function sue(){const e=V(o=>o.sdxl.shouldConcatSDXLStylePrompt),t=ee(),{t:n}=Z(),r=()=>{t(VT(!e))};return a.jsx(ze,{"aria-label":n("sdxl.concatPromptStyle"),tooltip:n("sdxl.concatPromptStyle"),variant:"outline",isChecked:e,onClick:r,icon:a.jsx(KM,{}),size:"xs",sx:{position:"absolute",insetInlineEnd:1,top:6,border:"none",color:e?"accent.500":"base.500",_hover:{bg:"none"}}})}const zI={position:"absolute",bg:"none",w:"full",minH:2,borderRadius:0,borderLeft:"none",borderRight:"none",zIndex:2,maskImage:"radial-gradient(circle at center, black, black 65%, black 30%, black 15%, transparent)"};function p7(){return a.jsxs(N,{children:[a.jsx(_e,{as:En.div,initial:{scaleX:0,borderWidth:0,display:"none"},animate:{display:["block","block","block","none"],scaleX:[0,.25,.5,1],borderWidth:[0,3,3,0],transition:{duration:.37,times:[0,.25,.5,1]}},sx:{top:"1px",borderTop:"none",borderColor:"base.400",...zI,_dark:{borderColor:"accent.500"}}}),a.jsx(_e,{as:En.div,initial:{opacity:0,scale:0},animate:{opacity:[0,1,1,1],scale:[0,.75,1.5,1],transition:{duration:.42,times:[0,.25,.5,1]}},exit:{opacity:0,scale:0},sx:{zIndex:3,position:"absolute",left:"48%",top:"3px",p:1,borderRadius:4,bg:"accent.400",color:"base.50",_dark:{bg:"accent.500"}},children:a.jsx(KM,{size:12})}),a.jsx(_e,{as:En.div,initial:{scaleX:0,borderWidth:0,display:"none"},animate:{display:["block","block","block","none"],scaleX:[0,.25,.5,1],borderWidth:[0,3,3,0],transition:{duration:.37,times:[0,.25,.5,1]}},sx:{top:"17px",borderBottom:"none",borderColor:"base.400",...zI,_dark:{borderColor:"accent.500"}}})]})}const aue=le([xe],({sdxl:e})=>{const{negativeStylePrompt:t,shouldConcatSDXLStylePrompt:n}=e;return{prompt:t,shouldConcatSDXLStylePrompt:n}},{memoizeOptions:{resultEqualityCheck:Bt}}),iue=()=>{const e=ee(),t=d.useRef(null),{isOpen:n,onClose:r,onOpen:o}=Br(),{t:s}=Z(),{prompt:i,shouldConcatSDXLStylePrompt:l}=V(aue),c=d.useCallback(g=>{e(fd(g.target.value))},[e]),p=d.useCallback(g=>{if(!t.current)return;const x=t.current.selectionStart;if(x===void 0)return;let y=i.slice(0,x);y[y.length-1]!=="<"&&(y+="<"),y+=`${g}>`;const b=y.length;y+=i.slice(x),Zr.flushSync(()=>{e(fd(y))}),t.current.selectionStart=b,t.current.selectionEnd=b,r()},[e,r,i]),h=Kt("embedding").isFeatureEnabled,m=d.useCallback(g=>{h&&g.key==="<"&&o()},[o,h]);return a.jsxs(_e,{position:"relative",children:[a.jsx(pr,{children:l&&a.jsx(_e,{sx:{position:"absolute",left:"3",w:"94%",top:"-17px"},children:a.jsx(p7,{})})}),a.jsx(qt,{children:a.jsx(u0,{isOpen:n,onClose:r,onSelect:p,children:a.jsx(ka,{id:"prompt",name:"prompt",ref:t,value:i,placeholder:s("sdxl.negStylePrompt"),onChange:c,onKeyDown:m,resize:"vertical",fontSize:"sm",minH:16})})}),!n&&h&&a.jsx(_e,{sx:{position:"absolute",top:0,insetInlineEnd:0},children:a.jsx(c0,{onClick:o})})]})},lue=d.memo(iue),cue=le([xe],({sdxl:e})=>{const{positiveStylePrompt:t,shouldConcatSDXLStylePrompt:n}=e;return{prompt:t,shouldConcatSDXLStylePrompt:n}},{memoizeOptions:{resultEqualityCheck:Bt}}),uue=()=>{const e=ee(),t=d.useRef(null),{isOpen:n,onClose:r,onOpen:o}=Br(),{t:s}=Z(),{prompt:i,shouldConcatSDXLStylePrompt:l}=V(cue),c=d.useCallback(g=>{e(dd(g.target.value))},[e]),p=d.useCallback(g=>{if(!t.current)return;const x=t.current.selectionStart;if(x===void 0)return;let y=i.slice(0,x);y[y.length-1]!=="<"&&(y+="<"),y+=`${g}>`;const b=y.length;y+=i.slice(x),Zr.flushSync(()=>{e(dd(y))}),t.current.selectionStart=b,t.current.selectionEnd=b,r()},[e,r,i]),h=Kt("embedding").isFeatureEnabled,m=d.useCallback(g=>{h&&g.key==="<"&&o()},[o,h]);return a.jsxs(_e,{position:"relative",children:[a.jsx(pr,{children:l&&a.jsx(_e,{sx:{position:"absolute",left:"3",w:"94%",top:"-17px"},children:a.jsx(p7,{})})}),a.jsx(qt,{children:a.jsx(u0,{isOpen:n,onClose:r,onSelect:p,children:a.jsx(ka,{id:"prompt",name:"prompt",ref:t,value:i,placeholder:s("sdxl.posStylePrompt"),onChange:c,onKeyDown:m,resize:"vertical",minH:16})})}),!n&&h&&a.jsx(_e,{sx:{position:"absolute",top:0,insetInlineEnd:0},children:a.jsx(c0,{onClick:o})})]})},due=d.memo(uue);function A2(){return a.jsxs(N,{sx:{flexDirection:"column",gap:2},children:[a.jsx(f7,{}),a.jsx(sue,{}),a.jsx(due,{}),a.jsx(d7,{}),a.jsx(lue,{})]})}const Ol=()=>{const{isRefinerAvailable:e}=ns(Ab,{selectFromResult:({data:t})=>({isRefinerAvailable:t?t.ids.length>0:!1})});return e},fue=le([xe],({sdxl:e,ui:t,hotkeys:n})=>{const{refinerCFGScale:r}=e,{shouldUseSliders:o}=t,{shift:s}=n;return{refinerCFGScale:r,shouldUseSliders:o,shift:s}},Ie),pue=()=>{const{refinerCFGScale:e,shouldUseSliders:t,shift:n}=V(fue),r=Ol(),o=ee(),{t:s}=Z(),i=d.useCallback(c=>o(B1(c)),[o]),l=d.useCallback(()=>o(B1(7)),[o]);return t?a.jsx(nt,{label:s("sdxl.cfgScale"),step:n?.1:.5,min:1,max:20,onChange:i,handleReset:l,value:e,sliderNumberInputProps:{max:200},withInput:!0,withReset:!0,withSliderMarks:!0,isInteger:!1,isDisabled:!r}):a.jsx(vu,{label:s("sdxl.cfgScale"),step:.5,min:1,max:200,onChange:i,value:e,isInteger:!1,numberInputFieldProps:{textAlign:"center"},isDisabled:!r})},hue=d.memo(pue),mue=e=>{const t=bl("models"),[n,r,o]=e.split("/"),s=WT.safeParse({base_model:n,model_name:o,model_type:r});if(!s.success){t.error({mainModelId:e,errors:s.error.format()},"Failed to parse main model id");return}return s.data},gue=le(xe,e=>({model:e.sdxl.refinerModel}),Ie),vue=()=>{const e=ee(),t=Kt("syncModels").isFeatureEnabled,{model:n}=V(gue),{t:r}=Z(),{data:o,isLoading:s}=ns(Ab),i=d.useMemo(()=>{if(!o)return[];const p=[];return zn(o.entities,(h,m)=>{h&&p.push({value:m,label:h.model_name,group:gn[h.base_model]})}),p},[o]),l=d.useMemo(()=>(o==null?void 0:o.entities[`${n==null?void 0:n.base_model}/main/${n==null?void 0:n.model_name}`])??null,[o==null?void 0:o.entities,n]),c=d.useCallback(p=>{if(!p)return;const h=mue(p);h&&e(G_(h))},[e]);return s?a.jsx(rn,{label:r("sdxl.refinermodel"),placeholder:r("sdxl.loading"),disabled:!0,data:[]}):a.jsxs(N,{w:"100%",alignItems:"center",gap:2,children:[a.jsx(rn,{tooltip:l==null?void 0:l.description,label:r("sdxl.refinermodel"),value:l==null?void 0:l.id,placeholder:i.length>0?r("sdxl.selectAModel"):r("sdxl.noModelsAvailable"),data:i,error:i.length===0,disabled:i.length===0,onChange:c,w:"100%"}),t&&a.jsx(_e,{mt:7,children:a.jsx(gu,{iconMode:!0})})]})},xue=d.memo(vue),bue=le([xe],({sdxl:e,hotkeys:t})=>{const{refinerNegativeAestheticScore:n}=e,{shift:r}=t;return{refinerNegativeAestheticScore:n,shift:r}},Ie),yue=()=>{const{refinerNegativeAestheticScore:e,shift:t}=V(bue),n=Ol(),r=ee(),{t:o}=Z(),s=d.useCallback(l=>r(V1(l)),[r]),i=d.useCallback(()=>r(V1(2.5)),[r]);return a.jsx(nt,{label:o("sdxl.negAestheticScore"),step:t?.1:.5,min:1,max:10,onChange:s,handleReset:i,value:e,sliderNumberInputProps:{max:10},withInput:!0,withReset:!0,withSliderMarks:!0,isInteger:!1,isDisabled:!n})},Cue=d.memo(yue),wue=le([xe],({sdxl:e,hotkeys:t})=>{const{refinerPositiveAestheticScore:n}=e,{shift:r}=t;return{refinerPositiveAestheticScore:n,shift:r}},Ie),Sue=()=>{const{refinerPositiveAestheticScore:e,shift:t}=V(wue),n=Ol(),r=ee(),{t:o}=Z(),s=d.useCallback(l=>r(H1(l)),[r]),i=d.useCallback(()=>r(H1(6)),[r]);return a.jsx(nt,{label:o("sdxl.posAestheticScore"),step:t?.1:.5,min:1,max:10,onChange:s,handleReset:i,value:e,sliderNumberInputProps:{max:10},withInput:!0,withReset:!0,withSliderMarks:!0,isInteger:!1,isDisabled:!n})},kue=d.memo(Sue),jue=le(xe,({ui:e,sdxl:t})=>{const{refinerScheduler:n}=t,{favoriteSchedulers:r}=e,o=hr(Gm,(s,i)=>({value:i,label:s,group:r.includes(i)?"Favorites":void 0})).sort((s,i)=>s.label.localeCompare(i.label));return{refinerScheduler:n,data:o}},Ie),Iue=()=>{const e=ee(),{t}=Z(),{refinerScheduler:n,data:r}=V(jue),o=Ol(),s=d.useCallback(i=>{i&&e(K_(i))},[e]);return a.jsx(rn,{w:"100%",label:t("sdxl.scheduler"),value:n,data:r,onChange:s,disabled:!o})},_ue=d.memo(Iue),Pue=le([xe],({sdxl:e})=>{const{refinerStart:t}=e;return{refinerStart:t}},Ie),Eue=()=>{const{refinerStart:e}=V(Pue),t=ee(),n=Ol(),r=d.useCallback(i=>t(W1(i)),[t]),{t:o}=Z(),s=d.useCallback(()=>t(W1(.8)),[t]);return a.jsx(nt,{label:o("sdxl.refinerStart"),step:.01,min:0,max:1,onChange:r,handleReset:s,value:e,withInput:!0,withReset:!0,withSliderMarks:!0,isInteger:!1,isDisabled:!n})},Mue=d.memo(Eue),Oue=le([xe],({sdxl:e,ui:t})=>{const{refinerSteps:n}=e,{shouldUseSliders:r}=t;return{refinerSteps:n,shouldUseSliders:r}},Ie),Due=()=>{const{refinerSteps:e,shouldUseSliders:t}=V(Oue),n=Ol(),r=ee(),{t:o}=Z(),s=d.useCallback(l=>{r(F1(l))},[r]),i=d.useCallback(()=>{r(F1(20))},[r]);return t?a.jsx(nt,{label:o("sdxl.steps"),min:1,max:100,step:1,onChange:s,handleReset:i,value:e,withInput:!0,withReset:!0,withSliderMarks:!0,sliderNumberInputProps:{max:500},isDisabled:!n}):a.jsx(vu,{label:o("sdxl.steps"),min:1,max:500,step:1,onChange:s,value:e,numberInputFieldProps:{textAlign:"center"},isDisabled:!n})},Rue=d.memo(Due);function Aue(){const e=V(s=>s.sdxl.shouldUseSDXLRefiner),t=Ol(),n=ee(),{t:r}=Z(),o=s=>{n(UT(s.target.checked))};return a.jsx(pn,{label:r("sdxl.useRefiner"),isChecked:e,onChange:o,isDisabled:!t})}const Tue=le(xe,e=>{const{shouldUseSDXLRefiner:t}=e.sdxl,{shouldUseSliders:n}=e.ui;return{activeLabel:t?"Enabled":void 0,shouldUseSliders:n}},Ie),Nue=()=>{const{activeLabel:e,shouldUseSliders:t}=V(Tue),{t:n}=Z();return a.jsx(lo,{label:n("sdxl.refiner"),activeLabel:e,children:a.jsxs(N,{sx:{gap:2,flexDir:"column"},children:[a.jsx(Aue,{}),a.jsx(xue,{}),a.jsxs(N,{gap:2,flexDirection:t?"column":"row",children:[a.jsx(Rue,{}),a.jsx(hue,{})]}),a.jsx(_ue,{}),a.jsx(kue,{}),a.jsx(Cue,{}),a.jsx(Mue,{})]})})},T2=d.memo(Nue),$ue=le([xe],({generation:e,config:t,ui:n,hotkeys:r})=>{const{initial:o,min:s,sliderMax:i,inputMax:l}=t.sd.guidance,{cfgScale:c}=e,{shouldUseSliders:p}=n,{shift:h}=r;return{cfgScale:c,initial:o,min:s,sliderMax:i,inputMax:l,shouldUseSliders:p,shift:h}},Ie),Lue=()=>{const{cfgScale:e,initial:t,min:n,sliderMax:r,inputMax:o,shouldUseSliders:s,shift:i}=V($ue),l=ee(),{t:c}=Z(),p=d.useCallback(m=>l(Ph(m)),[l]),h=d.useCallback(()=>l(Ph(t)),[l,t]);return s?a.jsx(Mt,{feature:"paramCFGScale",children:a.jsx(nt,{label:c("parameters.cfgScale"),step:i?.1:.5,min:n,max:r,onChange:p,handleReset:h,value:e,sliderNumberInputProps:{max:o},withInput:!0,withReset:!0,withSliderMarks:!0,isInteger:!1})}):a.jsx(Mt,{feature:"paramCFGScale",children:a.jsx(vu,{label:c("parameters.cfgScale"),step:.5,min:n,max:o,onChange:p,value:e,isInteger:!1,numberInputFieldProps:{textAlign:"center"}})})},$s=d.memo(Lue),zue=le(xe,e=>({model:e.generation.model}),Ie),Fue=()=>{const e=ee(),{t}=Z(),{model:n}=V(zue),r=Kt("syncModels").isFeatureEnabled,{data:o,isLoading:s}=ns(Qw),{data:i,isLoading:l}=yd(Qw),c=V(tr),p=d.useMemo(()=>{if(!o)return[];const g=[];return zn(o.entities,(x,y)=>{x&&g.push({value:y,label:x.model_name,group:gn[x.base_model]})}),zn(i==null?void 0:i.entities,(x,y)=>{!x||c==="unifiedCanvas"||c==="img2img"||g.push({value:y,label:x.model_name,group:gn[x.base_model]})}),g},[o,i,c]),h=d.useMemo(()=>((o==null?void 0:o.entities[`${n==null?void 0:n.base_model}/main/${n==null?void 0:n.model_name}`])||(i==null?void 0:i.entities[`${n==null?void 0:n.base_model}/onnx/${n==null?void 0:n.model_name}`]))??null,[o==null?void 0:o.entities,n,i==null?void 0:i.entities]),m=d.useCallback(g=>{if(!g)return;const x=l0(g);x&&e(L1(x))},[e]);return s||l?a.jsx(rn,{label:t("modelManager.model"),placeholder:"Loading...",disabled:!0,data:[]}):a.jsxs(N,{w:"100%",alignItems:"center",gap:3,children:[a.jsx(Mt,{feature:"paramModel",children:a.jsx(rn,{tooltip:h==null?void 0:h.description,label:t("modelManager.model"),value:h==null?void 0:h.id,placeholder:p.length>0?"Select a model":"No models available",data:p,error:p.length===0,disabled:p.length===0,onChange:m,w:"100%"})}),r&&a.jsx(_e,{mt:6,children:a.jsx(gu,{iconMode:!0})})]})},Bue=d.memo(Fue),Hue=le(xe,({generation:e})=>{const{model:t,vae:n}=e;return{model:t,vae:n}},Ie),Vue=()=>{const e=ee(),{t}=Z(),{model:n,vae:r}=V(Hue),{data:o}=o5(),s=d.useMemo(()=>{if(!o)return[];const c=[{value:"default",label:"Default",group:"Default"}];return zn(o.entities,(p,h)=>{if(!p)return;const m=(n==null?void 0:n.base_model)!==p.base_model;c.push({value:h,label:p.model_name,group:gn[p.base_model],disabled:m,tooltip:m?`Incompatible base model: ${p.base_model}`:void 0})}),c.sort((p,h)=>p.disabled&&!h.disabled?1:-1)},[o,n==null?void 0:n.base_model]),i=d.useMemo(()=>(o==null?void 0:o.entities[`${r==null?void 0:r.base_model}/vae/${r==null?void 0:r.model_name}`])??null,[o==null?void 0:o.entities,r]),l=d.useCallback(c=>{if(!c||c==="default"){e(Yw(null));return}const p=a7(c);p&&e(Yw(p))},[e]);return a.jsx(Mt,{feature:"paramVAE",children:a.jsx(rn,{itemComponent:ki,tooltip:i==null?void 0:i.description,label:t("modelManager.vae"),value:(i==null?void 0:i.id)??"default",placeholder:"Default",data:s,onChange:l,disabled:s.length===0,clearable:!0})})},Wue=d.memo(Vue),Uue=le([c5,ds],(e,t)=>{const{scheduler:n}=t,{favoriteSchedulers:r}=e,o=hr(Gm,(s,i)=>({value:i,label:s,group:r.includes(i)?"Favorites":void 0})).sort((s,i)=>s.label.localeCompare(i.label));return{scheduler:n,data:o}},Ie),Gue=()=>{const e=ee(),{t}=Z(),{scheduler:n,data:r}=V(Uue),o=d.useCallback(s=>{s&&e(z1(s))},[e]);return a.jsx(Mt,{feature:"paramScheduler",children:a.jsx(rn,{label:t("parameters.scheduler"),value:n,data:r,onChange:o})})},Kue=d.memo(Gue),que=le(xe,({generation:e})=>{const{vaePrecision:t}=e;return{vaePrecision:t}},Ie),Xue=["fp16","fp32"],Que=()=>{const e=ee(),{vaePrecision:t}=V(que),n=d.useCallback(r=>{r&&e(GT(r))},[e]);return a.jsx(Mt,{feature:"paramVAEPrecision",children:a.jsx(Rn,{label:"VAE Precision",value:t,data:Xue,onChange:n})})},Yue=d.memo(Que),Zue=()=>{const e=Kt("vae").isFeatureEnabled;return a.jsxs(N,{gap:3,w:"full",flexWrap:e?"wrap":"nowrap",children:[a.jsx(_e,{w:"full",children:a.jsx(Bue,{})}),a.jsx(_e,{w:"full",children:a.jsx(Kue,{})}),e&&a.jsxs(N,{w:"full",gap:3,children:[a.jsx(Wue,{}),a.jsx(Yue,{})]})]})},Ls=d.memo(Zue),h7=[{name:"Free",value:null},{name:"2:3",value:2/3},{name:"16:9",value:16/9},{name:"1:1",value:1/1}],m7=h7.map(e=>e.value);function g7(){const e=V(o=>o.generation.aspectRatio),t=ee(),n=V(o=>o.generation.shouldFitToWidthHeight),r=V(tr);return a.jsx(Gt,{isAttached:!0,children:h7.map(o=>a.jsx(it,{size:"sm",isChecked:e===o.value,isDisabled:r==="img2img"?!n:!1,onClick:()=>{t(Ko(o.value)),t(Cd(!1))},children:o.name},o.name))})}const Jue=le([xe],({generation:e,hotkeys:t,config:n})=>{const{min:r,sliderMax:o,inputMax:s,fineStep:i,coarseStep:l}=n.sd.height,{model:c,height:p}=e,{aspectRatio:h}=e,m=t.shift?i:l;return{model:c,height:p,min:r,sliderMax:o,inputMax:s,step:m,aspectRatio:h}},Ie),ede=e=>{const{model:t,height:n,min:r,sliderMax:o,inputMax:s,step:i,aspectRatio:l}=V(Jue),c=ee(),{t:p}=Z(),h=["sdxl","sdxl-refiner"].includes(t==null?void 0:t.base_model)?1024:512,m=d.useCallback(x=>{if(c(al(x)),l){const y=kr(x*l,8);c(sl(y))}},[c,l]),g=d.useCallback(()=>{if(c(al(h)),l){const x=kr(h*l,8);c(sl(x))}},[c,h,l]);return a.jsx(nt,{label:p("parameters.height"),value:n,min:r,step:i,max:o,onChange:m,handleReset:g,withInput:!0,withReset:!0,withSliderMarks:!0,sliderNumberInputProps:{max:s},...e})},tde=d.memo(ede),nde=le([xe],({generation:e,hotkeys:t,config:n})=>{const{min:r,sliderMax:o,inputMax:s,fineStep:i,coarseStep:l}=n.sd.width,{model:c,width:p,aspectRatio:h}=e,m=t.shift?i:l;return{model:c,width:p,min:r,sliderMax:o,inputMax:s,step:m,aspectRatio:h}},Ie),rde=e=>{const{model:t,width:n,min:r,sliderMax:o,inputMax:s,step:i,aspectRatio:l}=V(nde),c=ee(),{t:p}=Z(),h=["sdxl","sdxl-refiner"].includes(t==null?void 0:t.base_model)?1024:512,m=d.useCallback(x=>{if(c(sl(x)),l){const y=kr(x/l,8);c(al(y))}},[c,l]),g=d.useCallback(()=>{if(c(sl(h)),l){const x=kr(h/l,8);c(al(x))}},[c,h,l]);return a.jsx(nt,{label:p("parameters.width"),value:n,min:r,step:i,max:o,onChange:m,handleReset:g,withInput:!0,withReset:!0,withSliderMarks:!0,sliderNumberInputProps:{max:s},...e})},ode=d.memo(rde),sde=le([ds,tr],(e,t)=>{const{shouldFitToWidthHeight:n,shouldLockAspectRatio:r,width:o,height:s}=e;return{activeTabName:t,shouldFitToWidthHeight:n,shouldLockAspectRatio:r,width:o,height:s}},Ie);function tu(){const{t:e}=Z(),t=ee(),{activeTabName:n,shouldFitToWidthHeight:r,shouldLockAspectRatio:o,width:s,height:i}=V(sde),l=d.useCallback(()=>{o?(t(Cd(!1)),m7.includes(s/i)?t(Ko(s/i)):t(Ko(null))):(t(Cd(!0)),t(Ko(s/i)))},[o,s,i,t]),c=d.useCallback(()=>{t(KT()),t(Ko(null)),o&&t(Ko(i/s))},[t,o,s,i]);return a.jsxs(N,{sx:{gap:2,p:4,borderRadius:4,flexDirection:"column",w:"full",bg:"base.150",_dark:{bg:"base.750"}},children:[a.jsx(Mt,{feature:"paramRatio",children:a.jsxs(qt,{as:N,flexDir:"row",alignItems:"center",gap:2,children:[a.jsx(kn,{children:e("parameters.aspectRatio")}),a.jsx(Oa,{}),a.jsx(g7,{}),a.jsx(ze,{tooltip:e("ui.swapSizes"),"aria-label":e("ui.swapSizes"),size:"sm",icon:a.jsx(bO,{}),fontSize:20,isDisabled:n==="img2img"?!r:!1,onClick:c}),a.jsx(ze,{tooltip:e("ui.lockRatio"),"aria-label":e("ui.lockRatio"),size:"sm",icon:a.jsx(qM,{}),isChecked:o,isDisabled:n==="img2img"?!r:!1,onClick:l})]})}),a.jsx(N,{gap:2,alignItems:"center",children:a.jsxs(N,{gap:2,flexDirection:"column",width:"full",children:[a.jsx(ode,{isDisabled:n==="img2img"?!r:!1}),a.jsx(tde,{isDisabled:n==="img2img"?!r:!1})]})})]})}const ade=le([xe],({generation:e,config:t,ui:n,hotkeys:r})=>{const{initial:o,min:s,sliderMax:i,inputMax:l,fineStep:c,coarseStep:p}=t.sd.steps,{steps:h}=e,{shouldUseSliders:m}=n,g=r.shift?c:p;return{steps:h,initial:o,min:s,sliderMax:i,inputMax:l,step:g,shouldUseSliders:m}},Ie),ide=()=>{const{steps:e,initial:t,min:n,sliderMax:r,inputMax:o,step:s,shouldUseSliders:i}=V(ade),l=ee(),{t:c}=Z(),p=d.useCallback(g=>{l(Eh(g))},[l]),h=d.useCallback(()=>{l(Eh(t))},[l,t]),m=d.useCallback(()=>{l(Ob())},[l]);return i?a.jsx(Mt,{feature:"paramSteps",children:a.jsx(nt,{label:c("parameters.steps"),min:n,max:r,step:s,onChange:p,handleReset:h,value:e,withInput:!0,withReset:!0,withSliderMarks:!0,sliderNumberInputProps:{max:o}})}):a.jsx(Mt,{feature:"paramSteps",children:a.jsx(vu,{label:c("parameters.steps"),min:n,max:o,step:s,onChange:p,value:e,numberInputFieldProps:{textAlign:"center"},onBlur:m})})},zs=d.memo(ide);function v7(){const e=ee(),t=V(o=>o.generation.shouldFitToWidthHeight),n=o=>e(qT(o.target.checked)),{t:r}=Z();return a.jsx(pn,{label:r("parameters.imageFit"),isChecked:t,onChange:n})}function lde(){const e=V(i=>i.generation.seed),t=V(i=>i.generation.shouldRandomizeSeed),n=V(i=>i.generation.shouldGenerateVariations),{t:r}=Z(),o=ee(),s=i=>o(_h(i));return a.jsx(vu,{label:r("parameters.seed"),step:1,precision:0,flexGrow:1,min:u5,max:d5,isDisabled:t,isInvalid:e<0&&n,onChange:s,value:e})}const cde=(e,t)=>Math.floor(Math.random()*(t-e+1)+e);function ude(){const e=ee(),t=V(o=>o.generation.shouldRandomizeSeed),{t:n}=Z(),r=()=>e(_h(cde(u5,d5)));return a.jsx(ze,{size:"sm",isDisabled:t,"aria-label":n("parameters.shuffle"),tooltip:n("parameters.shuffle"),onClick:r,icon:a.jsx(Nee,{})})}const dde=()=>{const e=ee(),{t}=Z(),n=V(o=>o.generation.shouldRandomizeSeed),r=o=>e(XT(o.target.checked));return a.jsx(pn,{label:t("common.random"),isChecked:n,onChange:r})},fde=d.memo(dde),pde=()=>a.jsx(Mt,{feature:"paramSeed",children:a.jsxs(N,{sx:{gap:3,alignItems:"flex-end"},children:[a.jsx(lde,{}),a.jsx(ude,{}),a.jsx(fde,{})]})}),Fs=d.memo(pde),x7=je((e,t)=>a.jsxs(N,{ref:t,sx:{flexDir:"column",gap:2,bg:"base.100",px:4,pt:2,pb:4,borderRadius:"base",_dark:{bg:"base.750"}},children:[a.jsx(ge,{fontSize:"sm",fontWeight:"bold",sx:{color:"base.600",_dark:{color:"base.300"}},children:e.label}),e.children]}));x7.displayName="SubSettingsWrapper";const nu=d.memo(x7),hde=le([xe],({sdxl:e})=>{const{sdxlImg2ImgDenoisingStrength:t}=e;return{sdxlImg2ImgDenoisingStrength:t}},Ie),mde=()=>{const{sdxlImg2ImgDenoisingStrength:e}=V(hde),t=ee(),{t:n}=Z(),r=d.useCallback(s=>t(Zw(s)),[t]),o=d.useCallback(()=>{t(Zw(.7))},[t]);return a.jsx(Mt,{feature:"paramDenoisingStrength",children:a.jsx(nu,{children:a.jsx(nt,{label:n("sdxl.denoisingStrength"),step:.01,min:0,max:1,onChange:r,handleReset:o,value:e,isInteger:!1,withInput:!0,withSliderMarks:!0,withReset:!0})})})},b7=d.memo(mde),gde=le([c5,ds],(e,t)=>{const{shouldUseSliders:n}=e,{shouldRandomizeSeed:r}=t;return{shouldUseSliders:n,activeLabel:r?void 0:"Manual Seed"}},Ie),vde=()=>{const{shouldUseSliders:e,activeLabel:t}=V(gde);return a.jsx(lo,{label:"General",activeLabel:t,defaultIsOpen:!0,children:a.jsxs(N,{sx:{flexDirection:"column",gap:3},children:[e?a.jsxs(a.Fragment,{children:[a.jsx(us,{}),a.jsx(zs,{}),a.jsx($s,{}),a.jsx(Ls,{}),a.jsx(_e,{pt:2,children:a.jsx(Fs,{})}),a.jsx(tu,{})]}):a.jsxs(a.Fragment,{children:[a.jsxs(N,{gap:3,children:[a.jsx(us,{}),a.jsx(zs,{}),a.jsx($s,{})]}),a.jsx(Ls,{}),a.jsx(_e,{pt:2,children:a.jsx(Fs,{})}),a.jsx(tu,{})]}),a.jsx(b7,{}),a.jsx(v7,{})]})})},xde=d.memo(vde),bde=()=>a.jsxs(a.Fragment,{children:[a.jsx(A2,{}),a.jsx(xde,{}),a.jsx(T2,{}),a.jsx(Cu,{}),a.jsx(bu,{}),a.jsx(xu,{}),a.jsx(yu,{})]}),yde=d.memo(bde),N2=()=>{const{t:e}=Z(),t=V(i=>i.generation.shouldRandomizeSeed),n=V(i=>i.generation.iterations),r=d.useMemo(()=>n===1?e("parameters.iterationsWithCount_one",{count:1}):e("parameters.iterationsWithCount_other",{count:n}),[n,e]),o=d.useMemo(()=>e(t?"parameters.randomSeed":"parameters.manualSeed"),[t,e]);return{iterationsAndSeedLabel:d.useMemo(()=>[r,o].join(", "),[r,o]),iterationsLabel:r,seedLabel:o}},Cde=()=>{const e=V(n=>n.ui.shouldUseSliders),{iterationsAndSeedLabel:t}=N2();return a.jsx(lo,{label:"General",activeLabel:t,defaultIsOpen:!0,children:a.jsx(N,{sx:{flexDirection:"column",gap:3},children:e?a.jsxs(a.Fragment,{children:[a.jsx(us,{}),a.jsx(zs,{}),a.jsx($s,{}),a.jsx(Ls,{}),a.jsx(_e,{pt:2,children:a.jsx(Fs,{})}),a.jsx(tu,{})]}):a.jsxs(a.Fragment,{children:[a.jsxs(N,{gap:3,children:[a.jsx(us,{}),a.jsx(zs,{}),a.jsx($s,{})]}),a.jsx(Ls,{}),a.jsx(_e,{pt:2,children:a.jsx(Fs,{})}),a.jsx(tu,{})]})})})},y7=d.memo(Cde),wde=()=>a.jsxs(a.Fragment,{children:[a.jsx(A2,{}),a.jsx(y7,{}),a.jsx(T2,{}),a.jsx(Cu,{}),a.jsx(bu,{}),a.jsx(xu,{}),a.jsx(yu,{})]}),Sde=d.memo(wde),kde=[{label:"Unmasked",value:"unmasked"},{label:"Mask",value:"mask"},{label:"Mask Edge",value:"edge"}],jde=()=>{const e=ee(),t=V(o=>o.generation.canvasCoherenceMode),{t:n}=Z(),r=o=>{o&&e(QT(o))};return a.jsx(Mt,{feature:"compositingCoherenceMode",children:a.jsx(Rn,{label:n("parameters.coherenceMode"),data:kde,value:t,onChange:r})})},Ide=d.memo(jde),_de=()=>{const e=ee(),t=V(r=>r.generation.canvasCoherenceSteps),{t:n}=Z();return a.jsx(Mt,{feature:"compositingCoherenceSteps",children:a.jsx(nt,{label:n("parameters.coherenceSteps"),min:1,max:100,step:1,sliderNumberInputProps:{max:999},value:t,onChange:r=>{e(Jw(r))},withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:()=>{e(Jw(20))}})})},Pde=d.memo(_de),Ede=()=>{const e=ee(),t=V(r=>r.generation.canvasCoherenceStrength),{t:n}=Z();return a.jsx(Mt,{feature:"compositingStrength",children:a.jsx(nt,{label:n("parameters.coherenceStrength"),min:0,max:1,step:.01,sliderNumberInputProps:{max:999},value:t,onChange:r=>{e(eS(r))},withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:()=>{e(eS(.3))}})})},Mde=d.memo(Ede);function Ode(){const e=ee(),t=V(r=>r.generation.maskBlur),{t:n}=Z();return a.jsx(Mt,{feature:"compositingBlur",children:a.jsx(nt,{label:n("parameters.maskBlur"),min:0,max:64,sliderNumberInputProps:{max:512},value:t,onChange:r=>{e(tS(r))},withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:()=>{e(tS(16))}})})}const Dde=[{label:"Box Blur",value:"box"},{label:"Gaussian Blur",value:"gaussian"}];function Rde(){const e=V(o=>o.generation.maskBlurMethod),t=ee(),{t:n}=Z(),r=o=>{o&&t(YT(o))};return a.jsx(Mt,{feature:"compositingBlurMethod",children:a.jsx(Rn,{value:e,onChange:r,label:n("parameters.maskBlurMethod"),data:Dde})})}const Ade=()=>{const{t:e}=Z();return a.jsx(lo,{label:e("parameters.compositingSettingsHeader"),children:a.jsxs(N,{sx:{flexDirection:"column",gap:2},children:[a.jsxs(nu,{label:e("parameters.coherencePassHeader"),children:[a.jsx(Ide,{}),a.jsx(Pde,{}),a.jsx(Mde,{})]}),a.jsx(Jn,{}),a.jsxs(nu,{label:e("parameters.maskAdjustmentsHeader"),children:[a.jsx(Ode,{}),a.jsx(Rde,{})]})]})})},C7=d.memo(Ade),Tde=le([xe],({generation:e})=>{const{infillMethod:t}=e;return{infillMethod:t}},Ie),Nde=()=>{const e=ee(),{infillMethod:t}=V(Tde),{data:n,isLoading:r}=F_(),o=n==null?void 0:n.infill_methods,{t:s}=Z(),i=d.useCallback(l=>{e(ZT(l))},[e]);return a.jsx(Mt,{feature:"infillMethod",children:a.jsx(Rn,{disabled:(o==null?void 0:o.length)===0,placeholder:r?"Loading...":void 0,label:s("parameters.infillMethod"),value:t,data:o??[],onChange:i})})},$de=d.memo(Nde),Lde=le([ds],e=>{const{infillPatchmatchDownscaleSize:t,infillMethod:n}=e;return{infillPatchmatchDownscaleSize:t,infillMethod:n}},Ie),zde=()=>{const e=ee(),{infillPatchmatchDownscaleSize:t,infillMethod:n}=V(Lde),{t:r}=Z(),o=d.useCallback(i=>{e(nS(i))},[e]),s=d.useCallback(()=>{e(nS(2))},[e]);return a.jsx(nt,{isDisabled:n!=="patchmatch",label:r("parameters.patchmatchDownScaleSize"),min:1,max:10,value:t,onChange:o,withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:s})},Fde=d.memo(zde),Bde=le([ds],e=>{const{infillTileSize:t,infillMethod:n}=e;return{infillTileSize:t,infillMethod:n}},Ie),Hde=()=>{const e=ee(),{infillTileSize:t,infillMethod:n}=V(Bde),{t:r}=Z(),o=d.useCallback(i=>{e(rS(i))},[e]),s=d.useCallback(()=>{e(rS(32))},[e]);return a.jsx(nt,{isDisabled:n!=="tile",label:r("parameters.tileSize"),min:16,max:64,sliderNumberInputProps:{max:256},value:t,onChange:o,withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:s})},Vde=d.memo(Hde),Wde=le([ds],e=>{const{infillMethod:t}=e;return{infillMethod:t}},Ie);function Ude(){const{infillMethod:e}=V(Wde);return a.jsxs(N,{children:[e==="tile"&&a.jsx(Vde,{}),e==="patchmatch"&&a.jsx(Fde,{})]})}const jn=e=>e.canvas,No=le([xe],({canvas:e})=>e.layerState.stagingArea.images.length>0),Gde=le([jn],e=>{const{boundingBoxScaleMethod:t}=e;return{boundingBoxScale:t}},Ie),Kde=()=>{const e=ee(),{boundingBoxScale:t}=V(Gde),{t:n}=Z(),r=o=>{e(eN(o))};return a.jsx(Mt,{feature:"scaleBeforeProcessing",children:a.jsx(rn,{label:n("parameters.scaleBeforeProcessing"),data:JT,value:t,onChange:r})})},qde=d.memo(Kde),Xde=le([ds,jn],(e,t)=>{const{scaledBoundingBoxDimensions:n,boundingBoxScaleMethod:r}=t,{model:o,aspectRatio:s}=e;return{model:o,scaledBoundingBoxDimensions:n,isManual:r==="manual",aspectRatio:s}},Ie),Qde=()=>{const e=ee(),{model:t,isManual:n,scaledBoundingBoxDimensions:r,aspectRatio:o}=V(Xde),s=["sdxl","sdxl-refiner"].includes(t==null?void 0:t.base_model)?1024:512,{t:i}=Z(),l=p=>{let h=r.width;const m=Math.floor(p);o&&(h=kr(m*o,64)),e(Oh({width:h,height:m}))},c=()=>{let p=r.width;const h=Math.floor(s);o&&(p=kr(h*o,64)),e(Oh({width:p,height:h}))};return a.jsx(nt,{isDisabled:!n,label:i("parameters.scaledHeight"),min:64,max:1536,step:64,value:r.height,onChange:l,sliderNumberInputProps:{max:4096},withSliderMarks:!0,withInput:!0,withReset:!0,handleReset:c})},Yde=d.memo(Qde),Zde=le([jn,ds],(e,t)=>{const{boundingBoxScaleMethod:n,scaledBoundingBoxDimensions:r}=e,{model:o,aspectRatio:s}=t;return{model:o,scaledBoundingBoxDimensions:r,aspectRatio:s,isManual:n==="manual"}},Ie),Jde=()=>{const e=ee(),{model:t,isManual:n,scaledBoundingBoxDimensions:r,aspectRatio:o}=V(Zde),s=["sdxl","sdxl-refiner"].includes(t==null?void 0:t.base_model)?1024:512,{t:i}=Z(),l=p=>{const h=Math.floor(p);let m=r.height;o&&(m=kr(h/o,64)),e(Oh({width:h,height:m}))},c=()=>{const p=Math.floor(s);let h=r.height;o&&(h=kr(p/o,64)),e(Oh({width:p,height:h}))};return a.jsx(nt,{isDisabled:!n,label:i("parameters.scaledWidth"),min:64,max:1536,step:64,value:r.width,onChange:l,sliderNumberInputProps:{max:4096},withSliderMarks:!0,withInput:!0,withReset:!0,handleReset:c})},efe=d.memo(Jde),tfe=()=>{const{t:e}=Z();return a.jsx(lo,{label:e("parameters.infillScalingHeader"),children:a.jsxs(N,{sx:{gap:2,flexDirection:"column"},children:[a.jsxs(nu,{children:[a.jsx($de,{}),a.jsx(Ude,{})]}),a.jsx(Jn,{}),a.jsxs(nu,{children:[a.jsx(qde,{}),a.jsx(efe,{}),a.jsx(Yde,{})]})]})})},w7=d.memo(tfe),nfe=le([xe,No],({canvas:e,generation:t},n)=>{const{boundingBoxDimensions:r}=e,{model:o,aspectRatio:s}=t;return{model:o,boundingBoxDimensions:r,isStaging:n,aspectRatio:s}},Ie),rfe=()=>{const e=ee(),{model:t,boundingBoxDimensions:n,isStaging:r,aspectRatio:o}=V(nfe),{t:s}=Z(),i=["sdxl","sdxl-refiner"].includes(t==null?void 0:t.base_model)?1024:512,l=p=>{if(e(Qo({...n,height:Math.floor(p)})),o){const h=kr(p*o,64);e(Qo({width:h,height:Math.floor(p)}))}},c=()=>{if(e(Qo({...n,height:Math.floor(i)})),o){const p=kr(i*o,64);e(Qo({width:p,height:Math.floor(i)}))}};return a.jsx(nt,{label:s("parameters.boundingBoxHeight"),min:64,max:1536,step:64,value:n.height,onChange:l,isDisabled:r,sliderNumberInputProps:{max:4096},withSliderMarks:!0,withInput:!0,withReset:!0,handleReset:c})},ofe=d.memo(rfe),sfe=le([xe,No],({canvas:e,generation:t},n)=>{const{boundingBoxDimensions:r}=e,{model:o,aspectRatio:s}=t;return{model:o,boundingBoxDimensions:r,isStaging:n,aspectRatio:s}},Ie),afe=()=>{const e=ee(),{model:t,boundingBoxDimensions:n,isStaging:r,aspectRatio:o}=V(sfe),s=["sdxl","sdxl-refiner"].includes(t==null?void 0:t.base_model)?1024:512,{t:i}=Z(),l=p=>{if(e(Qo({...n,width:Math.floor(p)})),o){const h=kr(p/o,64);e(Qo({width:Math.floor(p),height:h}))}},c=()=>{if(e(Qo({...n,width:Math.floor(s)})),o){const p=kr(s/o,64);e(Qo({width:Math.floor(s),height:p}))}};return a.jsx(nt,{label:i("parameters.boundingBoxWidth"),min:64,max:1536,step:64,value:n.width,onChange:l,isDisabled:r,sliderNumberInputProps:{max:4096},withSliderMarks:!0,withInput:!0,withReset:!0,handleReset:c})},ife=d.memo(afe),lfe=le([ds,jn],(e,t)=>{const{shouldFitToWidthHeight:n,shouldLockAspectRatio:r}=e,{boundingBoxDimensions:o}=t;return{shouldFitToWidthHeight:n,shouldLockAspectRatio:r,boundingBoxDimensions:o}});function Hm(){const e=ee(),{t}=Z(),{shouldLockAspectRatio:n,boundingBoxDimensions:r}=V(lfe),o=d.useCallback(()=>{n?(e(Cd(!1)),m7.includes(r.width/r.height)?e(Ko(r.width/r.height)):e(Ko(null))):(e(Cd(!0)),e(Ko(r.width/r.height)))},[n,r,e]),s=d.useCallback(()=>{e(tN()),e(Ko(null)),n&&e(Ko(r.height/r.width))},[e,n,r]);return a.jsxs(N,{sx:{gap:2,p:4,borderRadius:4,flexDirection:"column",w:"full",bg:"base.100",_dark:{bg:"base.750"}},children:[a.jsx(Mt,{feature:"paramRatio",children:a.jsxs(qt,{as:N,flexDir:"row",alignItems:"center",gap:2,children:[a.jsx(kn,{children:t("parameters.aspectRatio")}),a.jsx(Oa,{}),a.jsx(g7,{}),a.jsx(ze,{tooltip:t("ui.swapSizes"),"aria-label":t("ui.swapSizes"),size:"sm",icon:a.jsx(bO,{}),fontSize:20,onClick:s}),a.jsx(ze,{tooltip:t("ui.lockRatio"),"aria-label":t("ui.lockRatio"),size:"sm",icon:a.jsx(qM,{}),isChecked:n,onClick:o})]})}),a.jsx(ife,{}),a.jsx(ofe,{})]})}const cfe=le(xe,({ui:e,generation:t})=>{const{shouldUseSliders:n}=e,{shouldRandomizeSeed:r}=t;return{shouldUseSliders:n,activeLabel:r?void 0:"Manual Seed"}},Ie),ufe=()=>{const{shouldUseSliders:e,activeLabel:t}=V(cfe);return a.jsx(lo,{label:"General",activeLabel:t,defaultIsOpen:!0,children:a.jsxs(N,{sx:{flexDirection:"column",gap:3},children:[e?a.jsxs(a.Fragment,{children:[a.jsx(us,{}),a.jsx(zs,{}),a.jsx($s,{}),a.jsx(Ls,{}),a.jsx(_e,{pt:2,children:a.jsx(Fs,{})}),a.jsx(Hm,{})]}):a.jsxs(a.Fragment,{children:[a.jsxs(N,{gap:3,children:[a.jsx(us,{}),a.jsx(zs,{}),a.jsx($s,{})]}),a.jsx(Ls,{}),a.jsx(_e,{pt:2,children:a.jsx(Fs,{})}),a.jsx(Hm,{})]}),a.jsx(b7,{})]})})},dfe=d.memo(ufe);function ffe(){return a.jsxs(a.Fragment,{children:[a.jsx(A2,{}),a.jsx(dfe,{}),a.jsx(T2,{}),a.jsx(Cu,{}),a.jsx(bu,{}),a.jsx(xu,{}),a.jsx(w7,{}),a.jsx(C7,{}),a.jsx(yu,{})]})}function $2(){return a.jsxs(N,{sx:{flexDirection:"column",gap:2},children:[a.jsx(f7,{}),a.jsx(d7,{})]})}function pfe(){const e=V(o=>o.generation.horizontalSymmetrySteps),t=V(o=>o.generation.steps),n=ee(),{t:r}=Z();return a.jsx(nt,{label:r("parameters.hSymmetryStep"),value:e,onChange:o=>n(oS(o)),min:0,max:t,step:1,withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:()=>n(oS(0))})}function hfe(){const e=V(o=>o.generation.verticalSymmetrySteps),t=V(o=>o.generation.steps),n=ee(),{t:r}=Z();return a.jsx(nt,{label:r("parameters.vSymmetryStep"),value:e,onChange:o=>n(sS(o)),min:0,max:t,step:1,withInput:!0,withSliderMarks:!0,withReset:!0,handleReset:()=>n(sS(0))})}function mfe(){const e=V(n=>n.generation.shouldUseSymmetry),t=ee();return a.jsx(pn,{label:"Enable Symmetry",isChecked:e,onChange:n=>t(nN(n.target.checked))})}const gfe=le(xe,e=>({activeLabel:e.generation.shouldUseSymmetry?"Enabled":void 0}),Ie),vfe=()=>{const{t:e}=Z(),{activeLabel:t}=V(gfe);return Kt("symmetry").isFeatureEnabled?a.jsx(lo,{label:e("parameters.symmetry"),activeLabel:t,children:a.jsxs(N,{sx:{gap:2,flexDirection:"column"},children:[a.jsx(mfe,{}),a.jsx(pfe,{}),a.jsx(hfe,{})]})}):null},L2=d.memo(vfe),xfe=le([xe],({generation:e,hotkeys:t,config:n})=>{const{initial:r,min:o,sliderMax:s,inputMax:i,fineStep:l,coarseStep:c}=n.sd.img2imgStrength,{img2imgStrength:p}=e,h=t.shift?l:c;return{img2imgStrength:p,initial:r,min:o,sliderMax:s,inputMax:i,step:h}},Ie),bfe=()=>{const{img2imgStrength:e,initial:t,min:n,sliderMax:r,inputMax:o,step:s}=V(xfe),i=ee(),{t:l}=Z(),c=d.useCallback(h=>i(Mh(h)),[i]),p=d.useCallback(()=>{i(Mh(t))},[i,t]);return a.jsx(Mt,{feature:"paramDenoisingStrength",children:a.jsx(nu,{children:a.jsx(nt,{label:`${l("parameters.denoisingStrength")}`,step:s,min:n,max:r,onChange:c,handleReset:p,value:e,isInteger:!1,withInput:!0,withSliderMarks:!0,withReset:!0,sliderNumberInputProps:{max:o}})})})},S7=d.memo(bfe),yfe=()=>{const e=V(n=>n.ui.shouldUseSliders),{iterationsAndSeedLabel:t}=N2();return a.jsx(lo,{label:"General",activeLabel:t,defaultIsOpen:!0,children:a.jsxs(N,{sx:{flexDirection:"column",gap:3},children:[e?a.jsxs(a.Fragment,{children:[a.jsx(us,{}),a.jsx(zs,{}),a.jsx($s,{}),a.jsx(Ls,{}),a.jsx(_e,{pt:2,children:a.jsx(Fs,{})}),a.jsx(tu,{})]}):a.jsxs(a.Fragment,{children:[a.jsxs(N,{gap:3,children:[a.jsx(us,{}),a.jsx(zs,{}),a.jsx($s,{})]}),a.jsx(Ls,{}),a.jsx(_e,{pt:2,children:a.jsx(Fs,{})}),a.jsx(tu,{})]}),a.jsx(S7,{}),a.jsx(v7,{})]})})},Cfe=d.memo(yfe),wfe=()=>a.jsxs(a.Fragment,{children:[a.jsx($2,{}),a.jsx(Cfe,{}),a.jsx(Cu,{}),a.jsx(bu,{}),a.jsx(xu,{}),a.jsx(L2,{}),a.jsx(yu,{})]}),Sfe=d.memo(wfe),kfe=()=>a.jsxs(a.Fragment,{children:[a.jsx($2,{}),a.jsx(y7,{}),a.jsx(Cu,{}),a.jsx(bu,{}),a.jsx(xu,{}),a.jsx(L2,{}),a.jsx(yu,{})]}),jfe=d.memo(kfe),Ife=()=>{const e=V(n=>n.ui.shouldUseSliders),{iterationsAndSeedLabel:t}=N2();return a.jsx(lo,{label:"General",activeLabel:t,defaultIsOpen:!0,children:a.jsxs(N,{sx:{flexDirection:"column",gap:3},children:[e?a.jsxs(a.Fragment,{children:[a.jsx(us,{}),a.jsx(zs,{}),a.jsx($s,{}),a.jsx(Ls,{}),a.jsx(_e,{pt:2,children:a.jsx(Fs,{})}),a.jsx(Hm,{})]}):a.jsxs(a.Fragment,{children:[a.jsxs(N,{gap:3,children:[a.jsx(us,{}),a.jsx(zs,{}),a.jsx($s,{})]}),a.jsx(Ls,{}),a.jsx(_e,{pt:2,children:a.jsx(Fs,{})}),a.jsx(Hm,{})]}),a.jsx(S7,{})]})})},_fe=d.memo(Ife),Pfe=()=>a.jsxs(a.Fragment,{children:[a.jsx($2,{}),a.jsx(_fe,{}),a.jsx(Cu,{}),a.jsx(bu,{}),a.jsx(xu,{}),a.jsx(L2,{}),a.jsx(w7,{}),a.jsx(C7,{}),a.jsx(yu,{})]}),Efe=d.memo(Pfe),Mfe=()=>{const e=V(tr),t=V(n=>n.generation.model);return e==="txt2img"?a.jsx(kh,{children:t&&t.base_model==="sdxl"?a.jsx(Sde,{}):a.jsx(jfe,{})}):e==="img2img"?a.jsx(kh,{children:t&&t.base_model==="sdxl"?a.jsx(yde,{}):a.jsx(Sfe,{})}):e==="unifiedCanvas"?a.jsx(kh,{children:t&&t.base_model==="sdxl"?a.jsx(ffe,{}):a.jsx(Efe,{})}):null},Ofe=d.memo(Mfe),kh=d.memo(e=>a.jsxs(N,{sx:{w:"full",h:"full",flexDir:"column",gap:2},children:[a.jsx(MO,{}),a.jsx(N,{layerStyle:"first",sx:{w:"full",h:"full",position:"relative",borderRadius:"base",p:2},children:a.jsx(N,{sx:{w:"full",h:"full",position:"relative"},children:a.jsx(_e,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0},children:a.jsx(Ug,{defer:!0,style:{height:"100%",width:"100%"},options:{scrollbars:{visibility:"auto",autoHide:"scroll",autoHideDelay:800,theme:"os-theme-dark"},overflow:{x:"hidden"}},children:a.jsx(N,{sx:{gap:2,flexDirection:"column",h:"full",w:"full"},children:e.children})})})})})]}));kh.displayName="ParametersPanelWrapper";const Dfe=le([xe],e=>{const{initialImage:t}=e.generation;return{initialImage:t,isResetButtonDisabled:!t}},Ie),Rfe=()=>{const{initialImage:e}=V(Dfe),{currentData:t}=oo((e==null?void 0:e.imageName)??Fr.skipToken),n=d.useMemo(()=>{if(t)return{id:"initial-image",payloadType:"IMAGE_DTO",payload:{imageDTO:t}}},[t]),r=d.useMemo(()=>({id:"initial-image",actionType:"SET_INITIAL_IMAGE"}),[]);return a.jsx(Sa,{imageDTO:t,droppableData:r,draggableData:n,isUploadDisabled:!0,fitContainer:!0,dropLabel:"Set as Initial Image",noContentFallback:a.jsx(er,{label:"No initial image selected"})})},Afe=d.memo(Rfe),Tfe=le([xe],e=>{const{initialImage:t}=e.generation;return{isResetButtonDisabled:!t}},Ie),Nfe={type:"SET_INITIAL_IMAGE"},$fe=()=>{const{isResetButtonDisabled:e}=V(Tfe),t=ee(),{getUploadButtonProps:n,getUploadInputProps:r}=b2({postUploadAction:Nfe}),o=d.useCallback(()=>{t(rN())},[t]);return a.jsxs(N,{layerStyle:"first",sx:{position:"relative",flexDirection:"column",height:"full",width:"full",alignItems:"center",justifyContent:"center",borderRadius:"base",p:2,gap:4},children:[a.jsxs(N,{sx:{w:"full",flexWrap:"wrap",justifyContent:"center",alignItems:"center",gap:2},children:[a.jsx(ge,{sx:{ps:2,fontWeight:600,userSelect:"none",color:"base.700",_dark:{color:"base.200"}},children:"Initial Image"}),a.jsx(Oa,{}),a.jsx(ze,{tooltip:"Upload Initial Image","aria-label":"Upload Initial Image",icon:a.jsx(zg,{}),...n()}),a.jsx(ze,{tooltip:"Reset Initial Image","aria-label":"Reset Initial Image",icon:a.jsx(Sf,{}),onClick:o,isDisabled:e})]}),a.jsx(Afe,{}),a.jsx("input",{...r()})]})},Lfe=d.memo($fe),zfe=e=>{const{onClick:t,isDisabled:n}=e,{t:r}=Z(),o=V(s=>s.system.isConnected);return a.jsx(ze,{onClick:t,icon:a.jsx(Vr,{}),tooltip:`${r("gallery.deleteImage")} (Del)`,"aria-label":`${r("gallery.deleteImage")} (Del)`,isDisabled:n||!o,colorScheme:"error"})},k7=()=>{const[e,{isLoading:t}]=Qm({fixedCacheKey:"enqueueBatch"}),[n,{isLoading:r}]=oN({fixedCacheKey:"enqueueGraph"}),[o,{isLoading:s}]=n5({fixedCacheKey:"resumeProcessor"}),[i,{isLoading:l}]=e5({fixedCacheKey:"pauseProcessor"}),[c,{isLoading:p}]=Pb({fixedCacheKey:"cancelQueueItem"}),[h,{isLoading:m}]=J_({fixedCacheKey:"clearQueue"}),[g,{isLoading:x}]=f5({fixedCacheKey:"pruneQueue"});return t||r||s||l||p||m||x},Ffe=[{label:"RealESRGAN x2 Plus",value:"RealESRGAN_x2plus.pth",tooltip:"Attempts to retain sharpness, low smoothing",group:"x2 Upscalers"},{label:"RealESRGAN x4 Plus",value:"RealESRGAN_x4plus.pth",tooltip:"Best for photos and highly detailed images, medium smoothing",group:"x4 Upscalers"},{label:"RealESRGAN x4 Plus (anime 6B)",value:"RealESRGAN_x4plus_anime_6B.pth",tooltip:"Best for anime/manga, high smoothing",group:"x4 Upscalers"},{label:"ESRGAN SRx4",value:"ESRGAN_SRx4_DF2KOST_official-ff704c30.pth",tooltip:"Retains sharpness, low smoothing",group:"x4 Upscalers"}];function Bfe(){const e=V(r=>r.postprocessing.esrganModelName),t=ee(),n=r=>t(sN(r));return a.jsx(Rn,{label:"ESRGAN Model",value:e,itemComponent:ki,onChange:n,data:Ffe})}const Hfe=e=>{const{imageDTO:t}=e,n=ee(),r=k7(),{t:o}=Z(),{isOpen:s,onOpen:i,onClose:l}=Br(),c=d.useCallback(()=>{l(),t&&n(p5({image_name:t.image_name}))},[n,t,l]);return a.jsx(If,{isOpen:s,onClose:l,triggerComponent:a.jsx(ze,{tooltip:o("parameters.upscale"),onClick:i,icon:a.jsx(WM,{}),"aria-label":o("parameters.upscale")}),children:a.jsxs(N,{sx:{flexDirection:"column",gap:4},children:[a.jsx(Bfe,{}),a.jsx(it,{size:"sm",isDisabled:!t||r,onClick:c,children:o("parameters.upscaleImage")})]})})},Vfe=d.memo(Hfe),Wfe=le([xe,tr],({gallery:e,system:t,ui:n,config:r},o)=>{const{isConnected:s,shouldConfirmOnDelete:i,denoiseProgress:l}=t,{shouldShowImageDetails:c,shouldHidePreview:p,shouldShowProgressInViewer:h}=n,{shouldFetchMetadataFromApi:m}=r,g=e.selection[e.selection.length-1];return{shouldConfirmOnDelete:i,isConnected:s,shouldDisableToolbarButtons:!!(l!=null&&l.progress_image)||!g,shouldShowImageDetails:c,activeTabName:o,shouldHidePreview:p,shouldShowProgressInViewer:h,lastSelectedImage:g,shouldFetchMetadataFromApi:m}},{memoizeOptions:{resultEqualityCheck:Bt}}),Ufe=e=>{const t=ee(),{isConnected:n,shouldDisableToolbarButtons:r,shouldShowImageDetails:o,lastSelectedImage:s,shouldShowProgressInViewer:i,shouldFetchMetadataFromApi:l}=V(Wfe),c=Kt("upscaling").isFeatureEnabled,p=k7(),h=kl(),{t:m}=Z(),{recallBothPrompts:g,recallSeed:x,recallAllParameters:y}=e0(),{currentData:b}=oo((s==null?void 0:s.image_name)??Fr.skipToken),w=d.useMemo(()=>s?{image:s,shouldFetchMetadataFromApi:l}:Fr.skipToken,[s,l]),{metadata:S,workflow:j,isLoading:I}=Sb(w,{selectFromResult:L=>{var H,U;return{isLoading:L.isFetching,metadata:(H=L==null?void 0:L.currentData)==null?void 0:H.metadata,workflow:(U=L==null?void 0:L.currentData)==null?void 0:U.workflow}}}),M=d.useCallback(()=>{j&&t(Ib(j))},[t,j]),_=d.useCallback(()=>{y(S)},[S,y]);Je("a",()=>{},[S,y]);const E=d.useCallback(()=>{x(S==null?void 0:S.seed)},[S==null?void 0:S.seed,x]);Je("s",E,[b]);const D=d.useCallback(()=>{g(S==null?void 0:S.positive_prompt,S==null?void 0:S.negative_prompt,S==null?void 0:S.positive_style_prompt,S==null?void 0:S.negative_style_prompt)},[S==null?void 0:S.negative_prompt,S==null?void 0:S.positive_prompt,S==null?void 0:S.positive_style_prompt,S==null?void 0:S.negative_style_prompt,g]);Je("p",D,[b]),Je("w",M,[j]);const R=d.useCallback(()=>{t(yO()),t(qm(b))},[t,b]);Je("shift+i",R,[b]);const A=d.useCallback(()=>{b&&t(p5({image_name:b.image_name}))},[t,b]),O=d.useCallback(()=>{b&&t(Xm([b]))},[t,b]);Je("Shift+U",()=>{A()},{enabled:()=>!!(c&&!r&&n)},[c,b,r,n]);const T=d.useCallback(()=>t(aN(!o)),[t,o]);Je("i",()=>{b?T():h({title:m("toast.metadataLoadFailed"),status:"error",duration:2500,isClosable:!0})},[b,o,h]),Je("delete",()=>{O()},[t,b]);const K=d.useCallback(()=>{t(B_(!i))},[t,i]);return Je("Shift+P",()=>{b&&K()},[b,i]),a.jsx(a.Fragment,{children:a.jsxs(N,{sx:{flexWrap:"wrap",justifyContent:"center",alignItems:"center",gap:2},...e,children:[a.jsx(Gt,{isAttached:!0,isDisabled:r,children:a.jsxs(dg,{children:[a.jsx(fg,{as:ze,"aria-label":m("parameters.imageActions"),tooltip:m("parameters.imageActions"),isDisabled:!b,icon:a.jsx(tse,{})}),a.jsx(ul,{motionProps:Hc,children:b&&a.jsx(CO,{imageDTO:b})})]})}),a.jsxs(Gt,{isAttached:!0,isDisabled:r,children:[a.jsx(ze,{isLoading:I,icon:a.jsx(y2,{}),tooltip:`${m("nodes.loadWorkflow")} (W)`,"aria-label":`${m("nodes.loadWorkflow")} (W)`,isDisabled:!j,onClick:M}),a.jsx(ze,{isLoading:I,icon:a.jsx(QM,{}),tooltip:`${m("parameters.usePrompt")} (P)`,"aria-label":`${m("parameters.usePrompt")} (P)`,isDisabled:!(S!=null&&S.positive_prompt),onClick:D}),a.jsx(ze,{isLoading:I,icon:a.jsx(YM,{}),tooltip:`${m("parameters.useSeed")} (S)`,"aria-label":`${m("parameters.useSeed")} (S)`,isDisabled:(S==null?void 0:S.seed)===null||(S==null?void 0:S.seed)===void 0,onClick:E}),a.jsx(ze,{isLoading:I,icon:a.jsx(FM,{}),tooltip:`${m("parameters.useAll")} (A)`,"aria-label":`${m("parameters.useAll")} (A)`,isDisabled:!S,onClick:_})]}),c&&a.jsx(Gt,{isAttached:!0,isDisabled:p,children:c&&a.jsx(Vfe,{imageDTO:b})}),a.jsx(Gt,{isAttached:!0,children:a.jsx(ze,{icon:a.jsx(HM,{}),tooltip:`${m("parameters.info")} (I)`,"aria-label":`${m("parameters.info")} (I)`,isChecked:o,onClick:T})}),a.jsx(Gt,{isAttached:!0,children:a.jsx(ze,{"aria-label":m("settings.displayInProgress"),tooltip:`${m("settings.displayInProgress")} (Shift+P)`,icon:a.jsx(_ee,{}),isChecked:i,onClick:K})}),a.jsx(Gt,{isAttached:!0,children:a.jsx(zfe,{onClick:O})})]})})},Gfe=d.memo(Ufe),Kfe=le([xe,_b],(e,t)=>{var j,I;const{data:n,status:r}=iN.endpoints.listImages.select(t)(e),{data:o}=e.gallery.galleryView==="images"?aS.endpoints.getBoardImagesTotal.select(t.board_id??"none")(e):aS.endpoints.getBoardAssetsTotal.select(t.board_id??"none")(e),s=e.gallery.selection[e.gallery.selection.length-1],i=r==="pending";if(!n||!s||o===0)return{isFetching:i,queryArgs:t,isOnFirstImage:!0,isOnLastImage:!0};const l={...t,offset:n.ids.length,limit:Z_},c=lN.getSelectors(),p=c.selectAll(n),h=p.findIndex(M=>M.image_name===s.image_name),m=ol(h+1,0,p.length-1),g=ol(h-1,0,p.length-1),x=(j=p[m])==null?void 0:j.image_name,y=(I=p[g])==null?void 0:I.image_name,b=x?c.selectById(n,x):void 0,w=y?c.selectById(n,y):void 0,S=p.length;return{loadedImagesCount:p.length,currentImageIndex:h,areMoreImagesAvailable:(o??0)>S,isFetching:r==="pending",nextImage:b,prevImage:w,queryArgs:l}},{memoizeOptions:{resultEqualityCheck:Bt}}),j7=()=>{const e=ee(),{nextImage:t,prevImage:n,areMoreImagesAvailable:r,isFetching:o,queryArgs:s,loadedImagesCount:i,currentImageIndex:l}=V(Kfe),c=d.useCallback(()=>{n&&e(iS(n))},[e,n]),p=d.useCallback(()=>{t&&e(iS(t))},[e,t]),[h]=Y_(),m=d.useCallback(()=>{h(s)},[h,s]);return{handlePrevImage:c,handleNextImage:p,isOnFirstImage:l===0,isOnLastImage:l!==void 0&&l===i-1,nextImage:t,prevImage:n,areMoreImagesAvailable:r,handleLoadMoreImages:m,isFetching:o}};function qfe(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M245.09 327.74v-37.32c57.07 0 84.51 13.47 108.58 38.68 5.4 5.65 15 1.32 14.29-6.43-5.45-61.45-34.14-117.09-122.87-117.09v-37.32a8.32 8.32 0 00-14.05-6L146.58 242a8.2 8.2 0 000 11.94L231 333.71a8.32 8.32 0 0014.09-5.97z"}},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z"}}]})(e)}const Xfe=({label:e,value:t,onClick:n,isLink:r,labelPosition:o,withCopy:s=!1})=>{const{t:i}=Z();return t?a.jsxs(N,{gap:2,children:[n&&a.jsx(Ht,{label:`Recall ${e}`,children:a.jsx(Os,{"aria-label":i("accessibility.useThisParameter"),icon:a.jsx(qfe,{}),size:"xs",variant:"ghost",fontSize:20,onClick:n})}),s&&a.jsx(Ht,{label:`Copy ${e}`,children:a.jsx(Os,{"aria-label":`Copy ${e}`,icon:a.jsx(pu,{}),size:"xs",variant:"ghost",fontSize:14,onClick:()=>navigator.clipboard.writeText(t.toString())})}),a.jsxs(N,{direction:o?"column":"row",children:[a.jsxs(ge,{fontWeight:"semibold",whiteSpace:"pre-wrap",pr:2,children:[e,":"]}),r?a.jsxs(lg,{href:t.toString(),isExternal:!0,wordBreak:"break-all",children:[t.toString()," ",a.jsx(R8,{mx:"2px"})]}):a.jsx(ge,{overflowY:"scroll",wordBreak:"break-all",children:t.toString()})]})]}):null},Xr=d.memo(Xfe),Qfe=e=>{const{metadata:t}=e,{t:n}=Z(),{recallPositivePrompt:r,recallNegativePrompt:o,recallSeed:s,recallCfgScale:i,recallModel:l,recallScheduler:c,recallSteps:p,recallWidth:h,recallHeight:m,recallStrength:g,recallLoRA:x}=e0(),y=d.useCallback(()=>{r(t==null?void 0:t.positive_prompt)},[t==null?void 0:t.positive_prompt,r]),b=d.useCallback(()=>{o(t==null?void 0:t.negative_prompt)},[t==null?void 0:t.negative_prompt,o]),w=d.useCallback(()=>{s(t==null?void 0:t.seed)},[t==null?void 0:t.seed,s]),S=d.useCallback(()=>{l(t==null?void 0:t.model)},[t==null?void 0:t.model,l]),j=d.useCallback(()=>{h(t==null?void 0:t.width)},[t==null?void 0:t.width,h]),I=d.useCallback(()=>{m(t==null?void 0:t.height)},[t==null?void 0:t.height,m]),M=d.useCallback(()=>{c(t==null?void 0:t.scheduler)},[t==null?void 0:t.scheduler,c]),_=d.useCallback(()=>{p(t==null?void 0:t.steps)},[t==null?void 0:t.steps,p]),E=d.useCallback(()=>{i(t==null?void 0:t.cfg_scale)},[t==null?void 0:t.cfg_scale,i]),D=d.useCallback(()=>{g(t==null?void 0:t.strength)},[t==null?void 0:t.strength,g]),R=d.useCallback(A=>{x(A)},[x]);return!t||Object.keys(t).length===0?null:a.jsxs(a.Fragment,{children:[t.created_by&&a.jsx(Xr,{label:n("metadata.createdBy"),value:t.created_by}),t.generation_mode&&a.jsx(Xr,{label:n("metadata.generationMode"),value:t.generation_mode}),t.positive_prompt&&a.jsx(Xr,{label:n("metadata.positivePrompt"),labelPosition:"top",value:t.positive_prompt,onClick:y}),t.negative_prompt&&a.jsx(Xr,{label:n("metadata.negativePrompt"),labelPosition:"top",value:t.negative_prompt,onClick:b}),t.seed!==void 0&&t.seed!==null&&a.jsx(Xr,{label:n("metadata.seed"),value:t.seed,onClick:w}),t.model!==void 0&&t.model!==null&&t.model.model_name&&a.jsx(Xr,{label:n("metadata.model"),value:t.model.model_name,onClick:S}),t.width&&a.jsx(Xr,{label:n("metadata.width"),value:t.width,onClick:j}),t.height&&a.jsx(Xr,{label:n("metadata.height"),value:t.height,onClick:I}),t.scheduler&&a.jsx(Xr,{label:n("metadata.scheduler"),value:t.scheduler,onClick:M}),t.steps&&a.jsx(Xr,{label:n("metadata.steps"),value:t.steps,onClick:_}),t.cfg_scale!==void 0&&t.cfg_scale!==null&&a.jsx(Xr,{label:n("metadata.cfgScale"),value:t.cfg_scale,onClick:E}),t.strength&&a.jsx(Xr,{label:n("metadata.strength"),value:t.strength,onClick:D}),t.loras&&t.loras.map((A,O)=>{if(U_(A.lora))return a.jsx(Xr,{label:"LoRA",value:`${A.lora.model_name} - ${A.weight}`,onClick:()=>R(A)},O)})]})},Yfe=d.memo(Qfe),Zfe=({image:e})=>{const{t}=Z(),{shouldFetchMetadataFromApi:n}=V(S2),{metadata:r,workflow:o}=Sb({image:e,shouldFetchMetadataFromApi:n},{selectFromResult:s=>{var i,l;return{metadata:(i=s==null?void 0:s.currentData)==null?void 0:i.metadata,workflow:(l=s==null?void 0:s.currentData)==null?void 0:l.workflow}}});return a.jsxs(N,{layerStyle:"first",sx:{padding:4,gap:1,flexDirection:"column",width:"full",height:"full",borderRadius:"base",position:"absolute",overflow:"hidden"},children:[a.jsxs(N,{gap:2,children:[a.jsx(ge,{fontWeight:"semibold",children:"File:"}),a.jsxs(lg,{href:e.image_url,isExternal:!0,maxW:"calc(100% - 3rem)",children:[e.image_name,a.jsx(R8,{mx:"2px"})]})]}),a.jsx(Yfe,{metadata:r}),a.jsxs(wl,{variant:"line",sx:{display:"flex",flexDir:"column",w:"full",h:"full"},children:[a.jsxs(Sl,{children:[a.jsx(Lr,{children:t("metadata.metadata")}),a.jsx(Lr,{children:t("metadata.imageDetails")}),a.jsx(Lr,{children:t("metadata.workflow")})]}),a.jsxs(uu,{children:[a.jsx(Mo,{children:r?a.jsx(di,{data:r,label:t("metadata.metadata")}):a.jsx(er,{label:t("metadata.noMetaData")})}),a.jsx(Mo,{children:e?a.jsx(di,{data:e,label:t("metadata.imageDetails")}):a.jsx(er,{label:t("metadata.noImageDetails")})}),a.jsx(Mo,{children:o?a.jsx(di,{data:o,label:t("metadata.workflow")}):a.jsx(er,{label:t("nodes.noWorkflow")})})]})]})]})},Jfe=d.memo(Zfe),_1={color:"base.100",pointerEvents:"auto"},epe=()=>{const{t:e}=Z(),{handlePrevImage:t,handleNextImage:n,isOnFirstImage:r,isOnLastImage:o,handleLoadMoreImages:s,areMoreImagesAvailable:i,isFetching:l}=j7();return a.jsxs(_e,{sx:{position:"relative",height:"100%",width:"100%"},children:[a.jsx(_e,{sx:{pos:"absolute",top:"50%",transform:"translate(0, -50%)",insetInlineStart:0},children:!r&&a.jsx(Os,{"aria-label":e("accessibility.previousImage"),icon:a.jsx(lee,{size:64}),variant:"unstyled",onClick:t,boxSize:16,sx:_1})}),a.jsxs(_e,{sx:{pos:"absolute",top:"50%",transform:"translate(0, -50%)",insetInlineEnd:0},children:[!o&&a.jsx(Os,{"aria-label":e("accessibility.nextImage"),icon:a.jsx(cee,{size:64}),variant:"unstyled",onClick:n,boxSize:16,sx:_1}),o&&i&&!l&&a.jsx(Os,{"aria-label":e("accessibility.loadMore"),icon:a.jsx(iee,{size:64}),variant:"unstyled",onClick:s,boxSize:16,sx:_1}),o&&i&&l&&a.jsx(N,{sx:{w:16,h:16,alignItems:"center",justifyContent:"center"},children:a.jsx(xi,{opacity:.5,size:"xl"})})]})]})},I7=d.memo(epe),tpe=le([xe,cN],({ui:e,system:t},n)=>{const{shouldShowImageDetails:r,shouldHidePreview:o,shouldShowProgressInViewer:s}=e,{denoiseProgress:i,shouldAntialiasProgressImage:l}=t;return{shouldShowImageDetails:r,shouldHidePreview:o,imageName:n==null?void 0:n.image_name,denoiseProgress:i,shouldShowProgressInViewer:s,shouldAntialiasProgressImage:l}},{memoizeOptions:{resultEqualityCheck:Bt}}),npe=()=>{const{shouldShowImageDetails:e,imageName:t,denoiseProgress:n,shouldShowProgressInViewer:r,shouldAntialiasProgressImage:o}=V(tpe),{handlePrevImage:s,handleNextImage:i,isOnLastImage:l,handleLoadMoreImages:c,areMoreImagesAvailable:p,isFetching:h}=j7();Je("left",()=>{s()},[s]),Je("right",()=>{if(l&&p&&!h){c();return}l||i()},[l,p,c,h,i]);const{currentData:m}=oo(t??Fr.skipToken),g=d.useMemo(()=>{if(m)return{id:"current-image",payloadType:"IMAGE_DTO",payload:{imageDTO:m}}},[m]),x=d.useMemo(()=>({id:"current-image",actionType:"SET_CURRENT_IMAGE"}),[]),[y,b]=d.useState(!1),w=d.useRef(0),{t:S}=Z(),j=d.useCallback(()=>{b(!0),window.clearTimeout(w.current)},[]),I=d.useCallback(()=>{w.current=window.setTimeout(()=>{b(!1)},500)},[]);return a.jsxs(N,{onMouseOver:j,onMouseOut:I,sx:{width:"full",height:"full",alignItems:"center",justifyContent:"center",position:"relative"},children:[n!=null&&n.progress_image&&r?a.jsx(Pa,{src:n.progress_image.dataURL,width:n.progress_image.width,height:n.progress_image.height,draggable:!1,sx:{objectFit:"contain",maxWidth:"full",maxHeight:"full",height:"auto",position:"absolute",borderRadius:"base",imageRendering:o?"auto":"pixelated"}}):a.jsx(Sa,{imageDTO:m,droppableData:x,draggableData:g,isUploadDisabled:!0,fitContainer:!0,useThumbailFallback:!0,dropLabel:S("gallery.setCurrentImage"),noContentFallback:a.jsx(er,{icon:ml,label:"No image selected"})}),e&&m&&a.jsx(_e,{sx:{position:"absolute",top:"0",width:"full",height:"full",borderRadius:"base"},children:a.jsx(Jfe,{image:m})}),a.jsx(pr,{children:!e&&m&&y&&a.jsx(En.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.1}},exit:{opacity:0,transition:{duration:.1}},style:{position:"absolute",top:"0",width:"100%",height:"100%",pointerEvents:"none"},children:a.jsx(I7,{})},"nextPrevButtons")})]})},rpe=d.memo(npe),ope=()=>a.jsxs(N,{sx:{position:"relative",flexDirection:"column",height:"100%",width:"100%",rowGap:4,alignItems:"center",justifyContent:"center"},children:[a.jsx(Gfe,{}),a.jsx(rpe,{})]}),spe=d.memo(ope),ape=()=>a.jsx(_e,{layerStyle:"first",sx:{position:"relative",width:"100%",height:"100%",p:2,borderRadius:"base"},children:a.jsx(N,{sx:{width:"100%",height:"100%"},children:a.jsx(spe,{})})}),_7=d.memo(ape),ipe=()=>{const e=d.useRef(null),t=d.useCallback(()=>{e.current&&e.current.setLayout([50,50])},[]),n=E2();return a.jsx(_e,{sx:{w:"full",h:"full"},children:a.jsxs(o0,{ref:e,autoSaveId:"imageTab.content",direction:"horizontal",style:{height:"100%",width:"100%"},storage:n,units:"percentages",children:[a.jsx(ui,{id:"imageTab.content.initImage",order:0,defaultSize:50,minSize:25,style:{position:"relative"},children:a.jsx(Lfe,{})}),a.jsx(Fm,{onDoubleClick:t}),a.jsx(ui,{id:"imageTab.content.selectedImage",order:1,defaultSize:50,minSize:25,children:a.jsx(_7,{})})]})})},lpe=d.memo(ipe);var cpe=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[o]))return!1;for(o=r;o--!==0;){var i=s[o];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n};const FI=ou(cpe);function ob(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}var upe=Object.defineProperty,BI=Object.getOwnPropertySymbols,dpe=Object.prototype.hasOwnProperty,fpe=Object.prototype.propertyIsEnumerable,HI=(e,t,n)=>t in e?upe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ppe=(e,t)=>{for(var n in t||(t={}))dpe.call(t,n)&&HI(e,n,t[n]);if(BI)for(var n of BI(t))fpe.call(t,n)&&HI(e,n,t[n]);return e};function P7(e,t){if(t===null||typeof t!="object")return{};const n=ppe({},t);return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}const hpe="__MANTINE_FORM_INDEX__";function VI(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${hpe}`)):!1:!1}function WI(e,t,n){typeof n.value=="object"&&(n.value=Cc(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Cc(e){if(typeof e!="object")return e;var t=0,n,r,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(i){o.add(Cc(i))})):s==="[object Map]"?(o=new Map,e.forEach(function(i,l){o.set(Cc(l),Cc(i))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(Cc(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)WI(o,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(o,n=r[t])&&o[n]===e[n]||WI(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}function E7(e){return typeof e!="string"?[]:e.split(".")}function d0(e,t,n){const r=E7(e);if(r.length===0)return n;const o=Cc(n);if(r.length===1)return o[r[0]]=t,o;let s=o[r[0]];for(let i=1;i<r.length-1;i+=1){if(s===void 0)return o;s=s[r[i]]}return s[r[r.length-1]]=t,o}function da(e,t){const n=E7(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let o=1;o<n.length&&r!==void 0;o+=1)r=r[n[o]];return r}function UI(e){const t=ob(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function sb(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((o,s)=>{const i=e[s],l=`${n===""?"":`${n}.`}${s}`,c=da(l,t);let p=!1;return typeof i=="function"&&(o[l]=i(c,t,l)),typeof i=="object"&&Array.isArray(c)&&(p=!0,c.forEach((h,m)=>sb(i,t,`${l}.${m}`,o))),typeof i=="object"&&typeof c=="object"&&c!==null&&(p||sb(i,t,l,o)),o},r)}function ab(e,t){return UI(typeof e=="function"?e(t):sb(e,t))}function uh(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=ab(t,n),o=Object.keys(r.errors).find(s=>e.split(".").every((i,l)=>i===s.split(".")[l]));return{hasError:!!o,error:o?r.errors[o]:null}}function mpe(e,{from:t,to:n},r){const o=da(e,r);if(!Array.isArray(o))return r;const s=[...o],i=o[t];return s.splice(t,1),s.splice(n,0,i),d0(e,s,r)}var gpe=Object.defineProperty,GI=Object.getOwnPropertySymbols,vpe=Object.prototype.hasOwnProperty,xpe=Object.prototype.propertyIsEnumerable,KI=(e,t,n)=>t in e?gpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bpe=(e,t)=>{for(var n in t||(t={}))vpe.call(t,n)&&KI(e,n,t[n]);if(GI)for(var n of GI(t))xpe.call(t,n)&&KI(e,n,t[n]);return e};function ype(e,{from:t,to:n},r){const o=`${e}.${t}`,s=`${e}.${n}`,i=bpe({},r);return Object.keys(r).every(l=>{let c,p;if(l.startsWith(o)&&(c=l,p=l.replace(o,s)),l.startsWith(s)&&(c=l.replace(s,o),p=l),c&&p){const h=i[c],m=i[p];return m===void 0?delete i[c]:i[c]=m,h===void 0?delete i[p]:i[p]=h,!1}return!0}),i}function Cpe(e,t,n){const r=da(e,n);return Array.isArray(r)?d0(e,r.filter((o,s)=>s!==t),n):n}var wpe=Object.defineProperty,qI=Object.getOwnPropertySymbols,Spe=Object.prototype.hasOwnProperty,kpe=Object.prototype.propertyIsEnumerable,XI=(e,t,n)=>t in e?wpe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jpe=(e,t)=>{for(var n in t||(t={}))Spe.call(t,n)&&XI(e,n,t[n]);if(qI)for(var n of qI(t))kpe.call(t,n)&&XI(e,n,t[n]);return e};function QI(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function YI(e,t,n,r){if(t===void 0)return n;const o=`${String(e)}`;let s=n;r===-1&&(s=P7(`${o}.${t}`,s));const i=jpe({},s),l=new Set;return Object.entries(s).filter(([c])=>{if(!c.startsWith(`${o}.`))return!1;const p=QI(c,o);return Number.isNaN(p)?!1:p>=t}).forEach(([c,p])=>{const h=QI(c,o),m=c.replace(`${o}.${h}`,`${o}.${h+r}`);i[m]=p,l.add(m),l.has(c)||delete i[c]}),i}function Ipe(e,t,n,r){const o=da(e,r);if(!Array.isArray(o))return r;const s=[...o];return s.splice(typeof n=="number"?n:s.length,0,t),d0(e,s,r)}function ZI(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(o=>o.startsWith(`${t}.`));return e[t]||r.some(o=>e[o])||!1}return n.some(r=>e[r])}function _pe(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}var Ppe=Object.defineProperty,Epe=Object.defineProperties,Mpe=Object.getOwnPropertyDescriptors,JI=Object.getOwnPropertySymbols,Ope=Object.prototype.hasOwnProperty,Dpe=Object.prototype.propertyIsEnumerable,e_=(e,t,n)=>t in e?Ppe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xa=(e,t)=>{for(var n in t||(t={}))Ope.call(t,n)&&e_(e,n,t[n]);if(JI)for(var n of JI(t))Dpe.call(t,n)&&e_(e,n,t[n]);return e},P1=(e,t)=>Epe(e,Mpe(t));function Dl({initialValues:e={},initialErrors:t={},initialDirty:n={},initialTouched:r={},clearInputErrorOnChange:o=!0,validateInputOnChange:s=!1,validateInputOnBlur:i=!1,transformValues:l=p=>p,validate:c}={}){const[p,h]=d.useState(r),[m,g]=d.useState(n),[x,y]=d.useState(e),[b,w]=d.useState(ob(t)),S=d.useRef(e),j=q=>{S.current=q},I=d.useCallback(()=>h({}),[]),M=q=>{const G=q?Xa(Xa({},x),q):x;j(G),g({})},_=d.useCallback(q=>w(G=>ob(typeof q=="function"?q(G):q)),[]),E=d.useCallback(()=>w({}),[]),D=d.useCallback(()=>{y(e),E(),j(e),g({}),I()},[]),R=d.useCallback((q,G)=>_(te=>P1(Xa({},te),{[q]:G})),[]),A=d.useCallback(q=>_(G=>{if(typeof q!="string")return G;const te=Xa({},G);return delete te[q],te}),[]),O=d.useCallback(q=>g(G=>{if(typeof q!="string")return G;const te=P7(q,G);return delete te[q],te}),[]),T=d.useCallback((q,G)=>{const te=VI(q,s);O(q),h(ce=>P1(Xa({},ce),{[q]:!0})),y(ce=>{const J=d0(q,G,ce);if(te){const ie=uh(q,c,J);ie.hasError?R(q,ie.error):A(q)}return J}),!te&&o&&R(q,null)},[]),K=d.useCallback(q=>{y(G=>{const te=typeof q=="function"?q(G):q;return Xa(Xa({},G),te)}),o&&E()},[]),L=d.useCallback((q,G)=>{O(q),y(te=>mpe(q,G,te)),w(te=>ype(q,G,te))},[]),H=d.useCallback((q,G)=>{O(q),y(te=>Cpe(q,G,te)),w(te=>YI(q,G,te,-1))},[]),U=d.useCallback((q,G,te)=>{O(q),y(ce=>Ipe(q,G,te,ce)),w(ce=>YI(q,te,ce,1))},[]),W=d.useCallback(()=>{const q=ab(c,x);return w(q.errors),q},[x,c]),z=d.useCallback(q=>{const G=uh(q,c,x);return G.hasError?R(q,G.error):A(q),G},[x,c]),Q=(q,{type:G="input",withError:te=!0,withFocus:ce=!0}={})=>{const ie={onChange:_pe(de=>T(q,de))};return te&&(ie.error=b[q]),G==="checkbox"?ie.checked=da(q,x):ie.value=da(q,x),ce&&(ie.onFocus=()=>h(de=>P1(Xa({},de),{[q]:!0})),ie.onBlur=()=>{if(VI(q,i)){const de=uh(q,c,x);de.hasError?R(q,de.error):A(q)}}),ie},F=(q,G)=>te=>{te==null||te.preventDefault();const ce=W();ce.hasErrors?G==null||G(ce.errors,x,te):q==null||q(l(x),te)},X=q=>l(q||x),Y=d.useCallback(q=>{q.preventDefault(),D()},[]),se=q=>{if(q){const te=da(q,m);if(typeof te=="boolean")return te;const ce=da(q,x),J=da(q,S.current);return!FI(ce,J)}return Object.keys(m).length>0?ZI(m):!FI(x,S.current)},ae=d.useCallback(q=>ZI(p,q),[p]),oe=d.useCallback(q=>q?!uh(q,c,x).hasError:!ab(c,x).hasErrors,[x,c]);return{values:x,errors:b,setValues:K,setErrors:_,setFieldValue:T,setFieldError:R,clearFieldError:A,clearErrors:E,reset:D,validate:W,validateField:z,reorderListItem:L,removeListItem:H,insertListItem:U,getInputProps:Q,onSubmit:F,onReset:Y,isDirty:se,isTouched:ae,setTouched:h,setDirty:g,resetTouched:I,resetDirty:M,isValid:oe,getTransformedValues:X}}function Pn(e){const{...t}=e,{base50:n,base100:r,base200:o,base300:s,base800:i,base700:l,base900:c,accent500:p,accent300:h}=wf(),{colorMode:m}=_a();return a.jsx(MM,{styles:()=>({input:{color:Te(c,r)(m),backgroundColor:Te(n,c)(m),borderColor:Te(o,i)(m),borderWidth:2,outline:"none",":focus":{borderColor:Te(h,p)(m)}},label:{color:Te(l,s)(m),fontWeight:"normal",marginBottom:4}}),...t})}const Rpe=[{value:"sd-1",label:gn["sd-1"]},{value:"sd-2",label:gn["sd-2"]},{value:"sdxl",label:gn.sdxl},{value:"sdxl-refiner",label:gn["sdxl-refiner"]}];function Of(e){const{...t}=e,{t:n}=Z();return a.jsx(Rn,{label:n("modelManager.baseModel"),data:Rpe,...t})}function M7(e){const{data:t}=h5(),{...n}=e;return a.jsx(Rn,{label:"Config File",placeholder:"Select A Config File",data:t||[],...n})}const Ape=[{value:"normal",label:"Normal"},{value:"inpaint",label:"Inpaint"},{value:"depth",label:"Depth"}];function f0(e){const{...t}=e,{t:n}=Z();return a.jsx(Rn,{label:n("modelManager.variant"),data:Ape,...t})}function Vm(e,t=!0){let n;t?n=new RegExp("[^\\\\/]+(?=\\.)"):n=new RegExp("[^\\\\/]+(?=[\\\\/]?$)");const r=e.match(n);return r?r[0]:""}function O7(e){const{t}=Z(),n=ee(),{model_path:r}=e,o=Dl({initialValues:{model_name:r?Vm(r):"",base_model:"sd-1",model_type:"main",path:r||"",description:"",model_format:"checkpoint",error:void 0,vae:"",variant:"normal",config:"configs\\stable-diffusion\\v1-inference.yaml"}}),[s]=m5(),[i,l]=d.useState(!1),c=p=>{s({body:p}).unwrap().then(h=>{n(ut(Yt({title:t("modelManager.modelAdded",{modelName:p.model_name}),status:"success"}))),o.reset(),r&&n(ef(null))}).catch(h=>{h&&n(ut(Yt({title:t("toast.modelAddFailed"),status:"error"})))})};return a.jsx("form",{onSubmit:o.onSubmit(p=>c(p)),style:{width:"100%"},children:a.jsxs(N,{flexDirection:"column",gap:2,children:[a.jsx(Pn,{label:t("modelManager.model"),required:!0,...o.getInputProps("model_name")}),a.jsx(Of,{label:t("modelManager.baseModel"),...o.getInputProps("base_model")}),a.jsx(Pn,{label:t("modelManager.modelLocation"),required:!0,...o.getInputProps("path"),onBlur:p=>{if(o.values.model_name===""){const h=Vm(p.currentTarget.value);h&&o.setFieldValue("model_name",h)}}}),a.jsx(Pn,{label:t("modelManager.description"),...o.getInputProps("description")}),a.jsx(Pn,{label:t("modelManager.vaeLocation"),...o.getInputProps("vae")}),a.jsx(f0,{label:t("modelManager.variant"),...o.getInputProps("variant")}),a.jsxs(N,{flexDirection:"column",width:"100%",gap:2,children:[i?a.jsx(Pn,{required:!0,label:t("modelManager.customConfigFileLocation"),...o.getInputProps("config")}):a.jsx(M7,{required:!0,width:"100%",...o.getInputProps("config")}),a.jsx(Cr,{isChecked:i,onChange:()=>l(!i),label:t("modelManager.useCustomConfig")}),a.jsx(it,{mt:2,type:"submit",children:t("modelManager.addModel")})]})]})})}function D7(e){const{t}=Z(),n=ee(),{model_path:r}=e,[o]=m5(),s=Dl({initialValues:{model_name:r?Vm(r,!1):"",base_model:"sd-1",model_type:"main",path:r||"",description:"",model_format:"diffusers",error:void 0,vae:"",variant:"normal"}}),i=l=>{o({body:l}).unwrap().then(c=>{n(ut(Yt({title:t("modelManager.modelAdded",{modelName:l.model_name}),status:"success"}))),s.reset(),r&&n(ef(null))}).catch(c=>{c&&n(ut(Yt({title:t("toast.modelAddFailed"),status:"error"})))})};return a.jsx("form",{onSubmit:s.onSubmit(l=>i(l)),style:{width:"100%"},children:a.jsxs(N,{flexDirection:"column",gap:2,children:[a.jsx(Pn,{required:!0,label:t("modelManager.model"),...s.getInputProps("model_name")}),a.jsx(Of,{label:t("modelManager.baseModel"),...s.getInputProps("base_model")}),a.jsx(Pn,{required:!0,label:t("modelManager.modelLocation"),placeholder:t("modelManager.modelLocationValidationMsg"),...s.getInputProps("path"),onBlur:l=>{if(s.values.model_name===""){const c=Vm(l.currentTarget.value,!1);c&&s.setFieldValue("model_name",c)}}}),a.jsx(Pn,{label:t("modelManager.description"),...s.getInputProps("description")}),a.jsx(Pn,{label:t("modelManager.vaeLocation"),...s.getInputProps("vae")}),a.jsx(f0,{label:t("modelManager.variant"),...s.getInputProps("variant")}),a.jsx(it,{mt:2,type:"submit",children:t("modelManager.addModel")})]})})}const R7=[{label:"Diffusers",value:"diffusers"},{label:"Checkpoint / Safetensors",value:"checkpoint"}];function Tpe(){const[e,t]=d.useState("diffusers"),{t:n}=Z();return a.jsxs(N,{flexDirection:"column",gap:4,width:"100%",children:[a.jsx(Rn,{label:n("modelManager.modelType"),value:e,data:R7,onChange:r=>{r&&t(r)}}),a.jsxs(N,{sx:{p:4,borderRadius:4,bg:"base.300",_dark:{bg:"base.850"}},children:[e==="diffusers"&&a.jsx(D7,{}),e==="checkpoint"&&a.jsx(O7,{})]})]})}const Npe=[{label:"None",value:"none"},{label:"v_prediction",value:"v_prediction"},{label:"epsilon",value:"epsilon"},{label:"sample",value:"sample"}];function $pe(){const e=ee(),{t}=Z(),[n,{isLoading:r}]=g5(),o=Dl({initialValues:{location:"",prediction_type:void 0}}),s=i=>{const l={location:i.location,prediction_type:i.prediction_type==="none"?void 0:i.prediction_type};n({body:l}).unwrap().then(c=>{e(ut(Yt({title:t("toast.modelAddedSimple"),status:"success"}))),o.reset()}).catch(c=>{c&&e(ut(Yt({title:`${c.data.detail} `,status:"error"})))})};return a.jsx("form",{onSubmit:o.onSubmit(i=>s(i)),style:{width:"100%"},children:a.jsxs(N,{flexDirection:"column",width:"100%",gap:4,children:[a.jsx(Pn,{label:t("modelManager.modelLocation"),placeholder:t("modelManager.simpleModelDesc"),w:"100%",...o.getInputProps("location")}),a.jsx(Rn,{label:t("modelManager.predictionType"),data:Npe,defaultValue:"none",...o.getInputProps("prediction_type")}),a.jsx(it,{type:"submit",isLoading:r,children:t("modelManager.addModel")})]})})}function Lpe(){const[e,t]=d.useState("simple");return a.jsxs(N,{flexDirection:"column",width:"100%",overflow:"scroll",maxHeight:window.innerHeight-250,gap:4,children:[a.jsxs(Gt,{isAttached:!0,children:[a.jsx(it,{size:"sm",isChecked:e=="simple",onClick:()=>t("simple"),children:"Simple"}),a.jsx(it,{size:"sm",isChecked:e=="advanced",onClick:()=>t("advanced"),children:"Advanced"})]}),a.jsxs(N,{sx:{p:4,borderRadius:4,background:"base.200",_dark:{background:"base.800"}},children:[e==="simple"&&a.jsx($pe,{}),e==="advanced"&&a.jsx(Tpe,{})]})]})}function zpe(e){const{...t}=e;return a.jsx(SE,{w:"100%",...t,children:e.children})}function Fpe(){const e=V(b=>b.modelmanager.searchFolder),[t,n]=d.useState(""),{data:r}=ns(Wi),{foundModels:o,alreadyInstalled:s,filteredModels:i}=v5({search_path:e||""},{selectFromResult:({data:b})=>{const w=D$(r==null?void 0:r.entities),S=hr(w,"path"),j=E$(b,S),I=$$(b,S);return{foundModels:b,alreadyInstalled:t_(I,t),filteredModels:t_(j,t)}}}),[l,{isLoading:c}]=g5(),p=ee(),{t:h}=Z(),m=d.useCallback(b=>{const w=b.currentTarget.id.split("\\").splice(-1)[0];l({body:{location:b.currentTarget.id}}).unwrap().then(S=>{p(ut(Yt({title:`Added Model: ${w}`,status:"success"})))}).catch(S=>{S&&p(ut(Yt({title:h("toast.modelAddFailed"),status:"error"})))})},[p,l,h]),g=d.useCallback(b=>{n(b.target.value)},[]),x=({models:b,showActions:w=!0})=>b.map(S=>a.jsxs(N,{sx:{p:4,gap:4,alignItems:"center",borderRadius:4,bg:"base.200",_dark:{bg:"base.800"}},children:[a.jsxs(N,{w:"100%",sx:{flexDirection:"column",minW:"25%"},children:[a.jsx(ge,{sx:{fontWeight:600},children:S.split("\\").slice(-1)[0]}),a.jsx(ge,{sx:{fontSize:"sm",color:"base.600",_dark:{color:"base.400"}},children:S})]}),w?a.jsxs(N,{gap:2,children:[a.jsx(it,{id:S,onClick:m,isLoading:c,children:h("modelManager.quickAdd")}),a.jsx(it,{onClick:()=>p(ef(S)),isLoading:c,children:h("modelManager.advanced")})]}):a.jsx(ge,{sx:{fontWeight:600,p:2,borderRadius:4,color:"accent.50",bg:"accent.400",_dark:{color:"accent.100",bg:"accent.600"}},children:"Installed"})]},S));return(()=>e?!o||o.length===0?a.jsx(N,{sx:{w:"full",h:"full",justifyContent:"center",alignItems:"center",height:96,userSelect:"none",bg:"base.200",_dark:{bg:"base.900"}},children:a.jsx(ge,{variant:"subtext",children:h("modelManager.noModels")})}):a.jsxs(N,{sx:{flexDirection:"column",gap:2,w:"100%",minW:"50%"},children:[a.jsx(ko,{onChange:g,label:h("modelManager.search"),labelPos:"side"}),a.jsxs(N,{p:2,gap:2,children:[a.jsxs(ge,{sx:{fontWeight:600},children:["Models Found: ",o.length]}),a.jsxs(ge,{sx:{fontWeight:600,color:"accent.500",_dark:{color:"accent.200"}},children:["Not Installed: ",i.length]})]}),a.jsx(zpe,{offsetScrollbars:!0,children:a.jsxs(N,{gap:2,flexDirection:"column",children:[x({models:i}),x({models:s,showActions:!1})]})})]}):null)()}const t_=(e,t)=>{const n=[];return zn(e,r=>{if(!r)return null;r.includes(t)&&n.push(r)}),n};function Bpe(){const e=V(l=>l.modelmanager.advancedAddScanModel),{t}=Z(),[n,r]=d.useState("diffusers"),[o,s]=d.useState(!0);d.useEffect(()=>{e&&[".ckpt",".safetensors",".pth",".pt"].some(l=>e.endsWith(l))?r("checkpoint"):r("diffusers")},[e,r,o]);const i=ee();return e?a.jsxs(_e,{as:En.div,initial:{x:-100,opacity:0},animate:{x:0,opacity:1,transition:{duration:.2}},sx:{display:"flex",flexDirection:"column",minWidth:"40%",maxHeight:window.innerHeight-300,overflow:"scroll",p:4,gap:4,borderRadius:4,bg:"base.200",_dark:{bg:"base.800"}},children:[a.jsxs(N,{justifyContent:"space-between",alignItems:"center",children:[a.jsx(ge,{size:"xl",fontWeight:600,children:o||n==="checkpoint"?"Add Checkpoint Model":"Add Diffusers Model"}),a.jsx(ze,{icon:a.jsx(Rd,{}),"aria-label":t("modelManager.closeAdvanced"),onClick:()=>i(ef(null)),size:"sm"})]}),a.jsx(Rn,{label:t("modelManager.modelType"),value:n,data:R7,onChange:l=>{l&&(r(l),s(l==="checkpoint"))}}),o?a.jsx(O7,{model_path:e},e):a.jsx(D7,{model_path:e},e)]}):null}function Hpe(){const e=ee(),{t}=Z(),n=V(l=>l.modelmanager.searchFolder),{refetch:r}=v5({search_path:n||""}),o=Dl({initialValues:{folder:""}}),s=d.useCallback(l=>{e(lS(l.folder))},[e]),i=()=>{r()};return a.jsx("form",{onSubmit:o.onSubmit(l=>s(l)),style:{width:"100%"},children:a.jsxs(N,{sx:{w:"100%",gap:2,borderRadius:4,alignItems:"center"},children:[a.jsxs(N,{w:"100%",alignItems:"center",gap:4,minH:12,children:[a.jsx(ge,{sx:{fontSize:"sm",fontWeight:600,color:"base.700",minW:"max-content",_dark:{color:"base.300"}},children:"Folder"}),n?a.jsx(N,{sx:{w:"100%",p:2,px:4,bg:"base.300",borderRadius:4,fontSize:"sm",fontWeight:"bold",_dark:{bg:"base.700"}},children:n}):a.jsx(ko,{w:"100%",size:"md",...o.getInputProps("folder")})]}),a.jsxs(N,{gap:2,children:[n?a.jsx(ze,{"aria-label":t("modelManager.scanAgain"),tooltip:t("modelManager.scanAgain"),icon:a.jsx(JM,{}),onClick:i,fontSize:18,size:"sm"}):a.jsx(ze,{"aria-label":t("modelManager.findModels"),tooltip:t("modelManager.findModels"),icon:a.jsx(zee,{}),fontSize:18,size:"sm",type:"submit"}),a.jsx(ze,{"aria-label":t("modelManager.clearCheckpointFolder"),tooltip:t("modelManager.clearCheckpointFolder"),icon:a.jsx(Vr,{}),size:"sm",onClick:()=>{e(lS(null)),e(ef(null))},isDisabled:!n,colorScheme:"red"})]})]})})}const Vpe=d.memo(Hpe);function Wpe(){return a.jsxs(N,{flexDirection:"column",w:"100%",gap:4,children:[a.jsx(Vpe,{}),a.jsxs(N,{gap:4,children:[a.jsx(N,{sx:{maxHeight:window.innerHeight-300,overflow:"scroll",gap:4,w:"100%"},children:a.jsx(Fpe,{})}),a.jsx(Bpe,{})]})]})}function Upe(){const[e,t]=d.useState("add"),{t:n}=Z();return a.jsxs(N,{flexDirection:"column",gap:4,children:[a.jsxs(Gt,{isAttached:!0,children:[a.jsx(it,{onClick:()=>t("add"),isChecked:e=="add",size:"sm",width:"100%",children:n("modelManager.addModel")}),a.jsx(it,{onClick:()=>t("scan"),isChecked:e=="scan",size:"sm",width:"100%",children:n("modelManager.scanForModels")})]}),e=="add"&&a.jsx(Lpe,{}),e=="scan"&&a.jsx(Wpe,{})]})}const Gpe=[{label:"Stable Diffusion 1",value:"sd-1"},{label:"Stable Diffusion 2",value:"sd-2"}];function Kpe(){var z,Q;const{t:e}=Z(),t=ee(),{data:n}=ns(Wi),[r,{isLoading:o}]=uN(),[s,i]=d.useState("sd-1"),l=yS(n==null?void 0:n.entities,(F,X)=>(F==null?void 0:F.model_format)==="diffusers"&&(F==null?void 0:F.base_model)==="sd-1"),c=yS(n==null?void 0:n.entities,(F,X)=>(F==null?void 0:F.model_format)==="diffusers"&&(F==null?void 0:F.base_model)==="sd-2"),p=d.useMemo(()=>({"sd-1":l,"sd-2":c}),[l,c]),[h,m]=d.useState(((z=Object.keys(p[s]))==null?void 0:z[0])??null),[g,x]=d.useState(((Q=Object.keys(p[s]))==null?void 0:Q[1])??null),[y,b]=d.useState(null),[w,S]=d.useState(""),[j,I]=d.useState(.5),[M,_]=d.useState("weighted_sum"),[E,D]=d.useState("root"),[R,A]=d.useState(""),[O,T]=d.useState(!1),K=Object.keys(p[s]).filter(F=>F!==g&&F!==y),L=Object.keys(p[s]).filter(F=>F!==h&&F!==y),H=Object.keys(p[s]).filter(F=>F!==h&&F!==g),U=F=>{i(F),m(null),x(null)},W=()=>{const F=[];let X=[h,g,y];X=X.filter(se=>se!==null),X.forEach(se=>{var oe;const ae=(oe=se==null?void 0:se.split("/"))==null?void 0:oe[2];ae&&F.push(ae)});const Y={model_names:F,merged_model_name:w!==""?w:F.join("-"),alpha:j,interp:M,force:O,merge_dest_directory:E==="root"?void 0:R};r({base_model:s,body:Y}).unwrap().then(se=>{t(ut(Yt({title:e("modelManager.modelsMerged"),status:"success"})))}).catch(se=>{se&&t(ut(Yt({title:e("modelManager.modelsMergeFailed"),status:"error"})))})};return a.jsxs(N,{flexDirection:"column",rowGap:4,children:[a.jsxs(N,{sx:{flexDirection:"column",rowGap:1},children:[a.jsx(ge,{children:e("modelManager.modelMergeHeaderHelp1")}),a.jsx(ge,{fontSize:"sm",variant:"subtext",children:e("modelManager.modelMergeHeaderHelp2")})]}),a.jsxs(N,{columnGap:4,children:[a.jsx(Rn,{label:"Model Type",w:"100%",data:Gpe,value:s,onChange:U}),a.jsx(rn,{label:e("modelManager.modelOne"),w:"100%",value:h,placeholder:e("modelManager.selectModel"),data:K,onChange:F=>m(F)}),a.jsx(rn,{label:e("modelManager.modelTwo"),w:"100%",placeholder:e("modelManager.selectModel"),value:g,data:L,onChange:F=>x(F)}),a.jsx(rn,{label:e("modelManager.modelThree"),data:H,w:"100%",placeholder:e("modelManager.selectModel"),clearable:!0,onChange:F=>{F?(b(F),_("weighted_sum")):(b(null),_("add_difference"))}})]}),a.jsx(ko,{label:e("modelManager.mergedModelName"),value:w,onChange:F=>S(F.target.value)}),a.jsxs(N,{sx:{flexDirection:"column",padding:4,borderRadius:"base",gap:4,bg:"base.200",_dark:{bg:"base.800"}},children:[a.jsx(nt,{label:e("modelManager.alpha"),min:.01,max:.99,step:.01,value:j,onChange:F=>I(F),withInput:!0,withReset:!0,handleReset:()=>I(.5),withSliderMarks:!0}),a.jsx(ge,{variant:"subtext",fontSize:"sm",children:e("modelManager.modelMergeAlphaHelp")})]}),a.jsxs(N,{sx:{padding:4,borderRadius:"base",gap:4,bg:"base.200",_dark:{bg:"base.800"}},children:[a.jsx(ge,{fontWeight:500,fontSize:"sm",variant:"subtext",children:e("modelManager.interpolationType")}),a.jsx(Bh,{value:M,onChange:F=>_(F),children:a.jsx(N,{columnGap:4,children:y===null?a.jsxs(a.Fragment,{children:[a.jsx(oa,{value:"weighted_sum",children:a.jsx(ge,{fontSize:"sm",children:e("modelManager.weightedSum")})}),a.jsx(oa,{value:"sigmoid",children:a.jsx(ge,{fontSize:"sm",children:e("modelManager.sigmoid")})}),a.jsx(oa,{value:"inv_sigmoid",children:a.jsx(ge,{fontSize:"sm",children:e("modelManager.inverseSigmoid")})})]}):a.jsx(oa,{value:"add_difference",children:a.jsx(Ht,{label:e("modelManager.modelMergeInterpAddDifferenceHelp"),children:a.jsx(ge,{fontSize:"sm",children:e("modelManager.addDifference")})})})})})]}),a.jsxs(N,{sx:{flexDirection:"column",padding:4,borderRadius:"base",gap:4,bg:"base.200",_dark:{bg:"base.900"}},children:[a.jsxs(N,{columnGap:4,children:[a.jsx(ge,{fontWeight:"500",fontSize:"sm",variant:"subtext",children:e("modelManager.mergedModelSaveLocation")}),a.jsx(Bh,{value:E,onChange:F=>D(F),children:a.jsxs(N,{columnGap:4,children:[a.jsx(oa,{value:"root",children:a.jsx(ge,{fontSize:"sm",children:e("modelManager.invokeAIFolder")})}),a.jsx(oa,{value:"custom",children:a.jsx(ge,{fontSize:"sm",children:e("modelManager.custom")})})]})})]}),E==="custom"&&a.jsx(ko,{label:e("modelManager.mergedModelCustomSaveLocation"),value:R,onChange:F=>A(F.target.value)})]}),a.jsx(Cr,{label:e("modelManager.ignoreMismatch"),isChecked:O,onChange:F=>T(F.target.checked),fontWeight:"500"}),a.jsx(it,{onClick:W,isLoading:o,isDisabled:h===null||g===null,children:e("modelManager.merge")})]})}function qpe(e){const{model:t}=e,n=ee(),{t:r}=Z(),[o,{isLoading:s}]=dN(),[i,l]=d.useState("InvokeAIRoot"),[c,p]=d.useState("");d.useEffect(()=>{l("InvokeAIRoot")},[t]);const h=()=>{l("InvokeAIRoot")},m=()=>{const g={base_model:t.base_model,model_name:t.model_name,convert_dest_directory:i==="Custom"?c:void 0};if(i==="Custom"&&c===""){n(ut(Yt({title:r("modelManager.noCustomLocationProvided"),status:"error"})));return}n(ut(Yt({title:`${r("modelManager.convertingModelBegin")}: ${t.model_name}`,status:"info"}))),o(g).unwrap().then(()=>{n(ut(Yt({title:`${r("modelManager.modelConverted")}: ${t.model_name}`,status:"success"})))}).catch(()=>{n(ut(Yt({title:`${r("modelManager.modelConversionFailed")}: ${t.model_name}`,status:"error"})))})};return a.jsxs(t0,{title:`${r("modelManager.convert")} ${t.model_name}`,acceptCallback:m,cancelCallback:h,acceptButtonText:`${r("modelManager.convert")}`,triggerComponent:a.jsxs(it,{size:"sm","aria-label":r("modelManager.convertToDiffusers"),className:" modal-close-btn",isLoading:s,children:["🧨 ",r("modelManager.convertToDiffusers")]}),motionPreset:"slideInBottom",children:[a.jsxs(N,{flexDirection:"column",rowGap:4,children:[a.jsx(ge,{children:r("modelManager.convertToDiffusersHelpText1")}),a.jsxs(cf,{children:[a.jsx(Jr,{children:r("modelManager.convertToDiffusersHelpText2")}),a.jsx(Jr,{children:r("modelManager.convertToDiffusersHelpText3")}),a.jsx(Jr,{children:r("modelManager.convertToDiffusersHelpText4")}),a.jsx(Jr,{children:r("modelManager.convertToDiffusersHelpText5")})]}),a.jsx(ge,{children:r("modelManager.convertToDiffusersHelpText6")})]}),a.jsxs(N,{flexDir:"column",gap:2,children:[a.jsxs(N,{marginTop:4,flexDir:"column",gap:2,children:[a.jsx(ge,{fontWeight:"600",children:r("modelManager.convertToDiffusersSaveLocation")}),a.jsx(Bh,{value:i,onChange:g=>l(g),children:a.jsxs(N,{gap:4,children:[a.jsx(oa,{value:"InvokeAIRoot",children:a.jsx(Ht,{label:"Save converted model in the InvokeAI root folder",children:r("modelManager.invokeRoot")})}),a.jsx(oa,{value:"Custom",children:a.jsx(Ht,{label:"Save converted model in a custom folder",children:r("modelManager.custom")})})]})})]}),i==="Custom"&&a.jsxs(N,{flexDirection:"column",rowGap:2,children:[a.jsx(ge,{fontWeight:"500",fontSize:"sm",variant:"subtext",children:r("modelManager.customSaveLocation")}),a.jsx(ko,{value:c,onChange:g=>{p(g.target.value)},width:"full"})]})]})]})}function Xpe(e){const{model:t}=e,[n,{isLoading:r}]=x5(),{data:o}=h5(),[s,i]=d.useState(!1);d.useEffect(()=>{o!=null&&o.includes(t.config)||i(!0)},[o,t.config]);const l=ee(),{t:c}=Z(),p=Dl({initialValues:{model_name:t.model_name?t.model_name:"",base_model:t.base_model,model_type:"main",path:t.path?t.path:"",description:t.description?t.description:"",model_format:"checkpoint",vae:t.vae?t.vae:"",config:t.config?t.config:"",variant:t.variant},validate:{path:m=>m.trim().length===0?"Must provide a path":null}}),h=d.useCallback(m=>{const g={base_model:t.base_model,model_name:t.model_name,body:m};n(g).unwrap().then(x=>{p.setValues(x),l(ut(Yt({title:c("modelManager.modelUpdated"),status:"success"})))}).catch(x=>{p.reset(),l(ut(Yt({title:c("modelManager.modelUpdateFailed"),status:"error"})))})},[p,l,t.base_model,t.model_name,c,n]);return a.jsxs(N,{flexDirection:"column",rowGap:4,width:"100%",children:[a.jsxs(N,{justifyContent:"space-between",alignItems:"center",children:[a.jsxs(N,{flexDirection:"column",children:[a.jsx(ge,{fontSize:"lg",fontWeight:"bold",children:t.model_name}),a.jsxs(ge,{fontSize:"sm",color:"base.400",children:[gn[t.base_model]," Model"]})]}),[""].includes(t.base_model)?a.jsx(Ws,{sx:{p:2,borderRadius:4,bg:"error.200",_dark:{bg:"error.400"}},children:"Conversion Not Supported"}):a.jsx(qpe,{model:t})]}),a.jsx(Jn,{}),a.jsx(N,{flexDirection:"column",maxHeight:window.innerHeight-270,overflowY:"scroll",children:a.jsx("form",{onSubmit:p.onSubmit(m=>h(m)),children:a.jsxs(N,{flexDirection:"column",overflowY:"scroll",gap:4,children:[a.jsx(Pn,{label:c("modelManager.name"),...p.getInputProps("model_name")}),a.jsx(Pn,{label:c("modelManager.description"),...p.getInputProps("description")}),a.jsx(Of,{required:!0,...p.getInputProps("base_model")}),a.jsx(f0,{required:!0,...p.getInputProps("variant")}),a.jsx(Pn,{required:!0,label:c("modelManager.modelLocation"),...p.getInputProps("path")}),a.jsx(Pn,{label:c("modelManager.vaeLocation"),...p.getInputProps("vae")}),a.jsxs(N,{flexDirection:"column",gap:2,children:[s?a.jsx(Pn,{required:!0,label:c("modelManager.config"),...p.getInputProps("config")}):a.jsx(M7,{required:!0,...p.getInputProps("config")}),a.jsx(Cr,{isChecked:s,onChange:()=>i(!s),label:"Use Custom Config"})]}),a.jsx(it,{type:"submit",isLoading:r,children:c("modelManager.updateModel")})]})})})]})}function Qpe(e){const{model:t}=e,[n,{isLoading:r}]=x5(),o=ee(),{t:s}=Z(),i=Dl({initialValues:{model_name:t.model_name?t.model_name:"",base_model:t.base_model,model_type:"main",path:t.path?t.path:"",description:t.description?t.description:"",model_format:"diffusers",vae:t.vae?t.vae:"",variant:t.variant},validate:{path:c=>c.trim().length===0?"Must provide a path":null}}),l=d.useCallback(c=>{const p={base_model:t.base_model,model_name:t.model_name,body:c};n(p).unwrap().then(h=>{i.setValues(h),o(ut(Yt({title:s("modelManager.modelUpdated"),status:"success"})))}).catch(h=>{i.reset(),o(ut(Yt({title:s("modelManager.modelUpdateFailed"),status:"error"})))})},[i,o,t.base_model,t.model_name,s,n]);return a.jsxs(N,{flexDirection:"column",rowGap:4,width:"100%",children:[a.jsxs(N,{flexDirection:"column",children:[a.jsx(ge,{fontSize:"lg",fontWeight:"bold",children:t.model_name}),a.jsxs(ge,{fontSize:"sm",color:"base.400",children:[gn[t.base_model]," Model"]})]}),a.jsx(Jn,{}),a.jsx("form",{onSubmit:i.onSubmit(c=>l(c)),children:a.jsxs(N,{flexDirection:"column",overflowY:"scroll",gap:4,children:[a.jsx(Pn,{label:s("modelManager.name"),...i.getInputProps("model_name")}),a.jsx(Pn,{label:s("modelManager.description"),...i.getInputProps("description")}),a.jsx(Of,{required:!0,...i.getInputProps("base_model")}),a.jsx(f0,{required:!0,...i.getInputProps("variant")}),a.jsx(Pn,{required:!0,label:s("modelManager.modelLocation"),...i.getInputProps("path")}),a.jsx(Pn,{label:s("modelManager.vaeLocation"),...i.getInputProps("vae")}),a.jsx(it,{type:"submit",isLoading:r,children:s("modelManager.updateModel")})]})})]})}function Ype(e){const{model:t}=e,[n,{isLoading:r}]=fN(),o=ee(),{t:s}=Z(),i=Dl({initialValues:{model_name:t.model_name?t.model_name:"",base_model:t.base_model,model_type:"lora",path:t.path?t.path:"",description:t.description?t.description:"",model_format:t.model_format},validate:{path:c=>c.trim().length===0?"Must provide a path":null}}),l=d.useCallback(c=>{const p={base_model:t.base_model,model_name:t.model_name,body:c};n(p).unwrap().then(h=>{i.setValues(h),o(ut(Yt({title:s("modelManager.modelUpdated"),status:"success"})))}).catch(h=>{i.reset(),o(ut(Yt({title:s("modelManager.modelUpdateFailed"),status:"error"})))})},[o,i,t.base_model,t.model_name,s,n]);return a.jsxs(N,{flexDirection:"column",rowGap:4,width:"100%",children:[a.jsxs(N,{flexDirection:"column",children:[a.jsx(ge,{fontSize:"lg",fontWeight:"bold",children:t.model_name}),a.jsxs(ge,{fontSize:"sm",color:"base.400",children:[gn[t.base_model]," Model ⋅"," ",pN[t.model_format]," format"]})]}),a.jsx(Jn,{}),a.jsx("form",{onSubmit:i.onSubmit(c=>l(c)),children:a.jsxs(N,{flexDirection:"column",overflowY:"scroll",gap:4,children:[a.jsx(Pn,{label:s("modelManager.name"),...i.getInputProps("model_name")}),a.jsx(Pn,{label:s("modelManager.description"),...i.getInputProps("description")}),a.jsx(Of,{...i.getInputProps("base_model")}),a.jsx(Pn,{label:s("modelManager.modelLocation"),...i.getInputProps("path")}),a.jsx(it,{type:"submit",isLoading:r,children:s("modelManager.updateModel")})]})})]})}function Zpe(e){const{t}=Z(),n=ee(),[r]=hN(),[o]=mN(),{model:s,isSelected:i,setSelectedModelId:l}=e,c=d.useCallback(()=>{l(s.id)},[s.id,l]),p=d.useCallback(()=>{const h={main:r,lora:o,onnx:r}[s.model_type];h(s).unwrap().then(m=>{n(ut(Yt({title:`${t("modelManager.modelDeleted")}: ${s.model_name}`,status:"success"})))}).catch(m=>{m&&n(ut(Yt({title:`${t("modelManager.modelDeleteFailed")}: ${s.model_name}`,status:"error"})))}),l(void 0)},[r,o,s,l,n,t]);return a.jsxs(N,{sx:{gap:2,alignItems:"center",w:"full"},children:[a.jsx(N,{as:it,isChecked:i,sx:{justifyContent:"start",p:2,borderRadius:"base",w:"full",alignItems:"center",bg:i?"accent.400":"base.100",color:i?"base.50":"base.800",_hover:{bg:i?"accent.500":"base.300",color:i?"base.50":"base.800"},_dark:{color:i?"base.50":"base.100",bg:i?"accent.600":"base.850",_hover:{color:i?"base.50":"base.100",bg:i?"accent.550":"base.700"}}},onClick:c,children:a.jsxs(N,{gap:4,alignItems:"center",children:[a.jsx(Ws,{minWidth:14,p:.5,fontSize:"sm",variant:"solid",children:gN[s.base_model]}),a.jsx(Ht,{label:s.description,hasArrow:!0,placement:"bottom",children:a.jsx(ge,{sx:{fontWeight:500},children:s.model_name})})]})}),a.jsx(t0,{title:t("modelManager.deleteModel"),acceptCallback:p,acceptButtonText:t("modelManager.delete"),triggerComponent:a.jsx(ze,{icon:a.jsx(Bne,{}),"aria-label":t("modelManager.deleteConfig"),colorScheme:"error"}),children:a.jsxs(N,{rowGap:4,flexDirection:"column",children:[a.jsx("p",{style:{fontWeight:"bold"},children:t("modelManager.deleteMsg1")}),a.jsx("p",{children:t("modelManager.deleteMsg2")})]})})]})}const Jpe=e=>{const{selectedModelId:t,setSelectedModelId:n}=e,{t:r}=Z(),[o,s]=d.useState(""),[i,l]=d.useState("all"),{filteredDiffusersModels:c,isLoadingDiffusersModels:p}=ns(Wi,{selectFromResult:({data:I,isLoading:M})=>({filteredDiffusersModels:Zu(I,"main","diffusers",o),isLoadingDiffusersModels:M})}),{filteredCheckpointModels:h,isLoadingCheckpointModels:m}=ns(Wi,{selectFromResult:({data:I,isLoading:M})=>({filteredCheckpointModels:Zu(I,"main","checkpoint",o),isLoadingCheckpointModels:M})}),{filteredLoraModels:g,isLoadingLoraModels:x}=Zd(void 0,{selectFromResult:({data:I,isLoading:M})=>({filteredLoraModels:Zu(I,"lora",void 0,o),isLoadingLoraModels:M})}),{filteredOnnxModels:y,isLoadingOnnxModels:b}=yd(Wi,{selectFromResult:({data:I,isLoading:M})=>({filteredOnnxModels:Zu(I,"onnx","onnx",o),isLoadingOnnxModels:M})}),{filteredOliveModels:w,isLoadingOliveModels:S}=yd(Wi,{selectFromResult:({data:I,isLoading:M})=>({filteredOliveModels:Zu(I,"onnx","olive",o),isLoadingOliveModels:M})}),j=d.useCallback(I=>{s(I.target.value)},[]);return a.jsx(N,{flexDirection:"column",rowGap:4,width:"50%",minWidth:"50%",children:a.jsxs(N,{flexDirection:"column",gap:4,paddingInlineEnd:4,children:[a.jsxs(Gt,{isAttached:!0,children:[a.jsx(it,{onClick:()=>l("all"),isChecked:i==="all",size:"sm",children:r("modelManager.allModels")}),a.jsx(it,{size:"sm",onClick:()=>l("diffusers"),isChecked:i==="diffusers",children:r("modelManager.diffusersModels")}),a.jsx(it,{size:"sm",onClick:()=>l("checkpoint"),isChecked:i==="checkpoint",children:r("modelManager.checkpointModels")}),a.jsx(it,{size:"sm",onClick:()=>l("onnx"),isChecked:i==="onnx",children:r("modelManager.onnxModels")}),a.jsx(it,{size:"sm",onClick:()=>l("olive"),isChecked:i==="olive",children:r("modelManager.oliveModels")}),a.jsx(it,{size:"sm",onClick:()=>l("lora"),isChecked:i==="lora",children:r("modelManager.loraModels")})]}),a.jsx(ko,{onChange:j,label:r("modelManager.search"),labelPos:"side"}),a.jsxs(N,{flexDirection:"column",gap:4,maxHeight:window.innerHeight-280,overflow:"scroll",children:[p&&a.jsx(mc,{loadingMessage:"Loading Diffusers..."}),["all","diffusers"].includes(i)&&!p&&c.length>0&&a.jsx(hc,{title:"Diffusers",modelList:c,selected:{selectedModelId:t,setSelectedModelId:n}},"diffusers"),m&&a.jsx(mc,{loadingMessage:"Loading Checkpoints..."}),["all","checkpoint"].includes(i)&&!m&&h.length>0&&a.jsx(hc,{title:"Checkpoints",modelList:h,selected:{selectedModelId:t,setSelectedModelId:n}},"checkpoints"),x&&a.jsx(mc,{loadingMessage:"Loading LoRAs..."}),["all","lora"].includes(i)&&!x&&g.length>0&&a.jsx(hc,{title:"LoRAs",modelList:g,selected:{selectedModelId:t,setSelectedModelId:n}},"loras"),S&&a.jsx(mc,{loadingMessage:"Loading Olives..."}),["all","olive"].includes(i)&&!S&&w.length>0&&a.jsx(hc,{title:"Olives",modelList:w,selected:{selectedModelId:t,setSelectedModelId:n}},"olive"),b&&a.jsx(mc,{loadingMessage:"Loading ONNX..."}),["all","onnx"].includes(i)&&!b&&y.length>0&&a.jsx(hc,{title:"ONNX",modelList:y,selected:{selectedModelId:t,setSelectedModelId:n}},"onnx")]})]})})},ehe=d.memo(Jpe),Zu=(e,t,n,r)=>{const o=[];return zn(e==null?void 0:e.entities,s=>{if(!s)return;const i=s.model_name.toLowerCase().includes(r.toLowerCase()),l=n===void 0||s.model_format===n,c=s.model_type===t;i&&l&&c&&o.push(s)}),o},z2=d.memo(e=>a.jsx(N,{flexDirection:"column",gap:4,borderRadius:4,p:4,sx:{bg:"base.200",_dark:{bg:"base.800"}},children:e.children}));z2.displayName="StyledModelContainer";const hc=d.memo(e=>{const{title:t,modelList:n,selected:r}=e;return a.jsx(z2,{children:a.jsxs(N,{sx:{gap:2,flexDir:"column"},children:[a.jsx(ge,{variant:"subtext",fontSize:"sm",children:t}),n.map(o=>a.jsx(Zpe,{model:o,isSelected:r.selectedModelId===o.id,setSelectedModelId:r.setSelectedModelId},o.id))]})})});hc.displayName="ModelListWrapper";const mc=d.memo(({loadingMessage:e})=>a.jsx(z2,{children:a.jsxs(N,{justifyContent:"center",alignItems:"center",flexDirection:"column",p:4,gap:8,children:[a.jsx(xi,{}),a.jsx(ge,{variant:"subtext",children:e||"Fetching..."})]})}));mc.displayName="FetchingModelsLoader";function the(){const[e,t]=d.useState(),{mainModel:n}=ns(Wi,{selectFromResult:({data:s})=>({mainModel:e?s==null?void 0:s.entities[e]:void 0})}),{loraModel:r}=Zd(void 0,{selectFromResult:({data:s})=>({loraModel:e?s==null?void 0:s.entities[e]:void 0})}),o=n||r;return a.jsxs(N,{sx:{gap:8,w:"full",h:"full"},children:[a.jsx(ehe,{selectedModelId:e,setSelectedModelId:t}),a.jsx(nhe,{model:o})]})}const nhe=e=>{const{model:t}=e;return(t==null?void 0:t.model_format)==="checkpoint"?a.jsx(Xpe,{model:t},t.id):(t==null?void 0:t.model_format)==="diffusers"?a.jsx(Qpe,{model:t},t.id):(t==null?void 0:t.model_type)==="lora"?a.jsx(Ype,{model:t},t.id):a.jsx(N,{sx:{w:"full",h:"full",justifyContent:"center",alignItems:"center",maxH:96,userSelect:"none"},children:a.jsx(ge,{variant:"subtext",children:"No Model Selected"})})};function rhe(){const{t:e}=Z();return a.jsxs(N,{sx:{w:"full",p:4,borderRadius:4,gap:4,justifyContent:"space-between",alignItems:"center",bg:"base.200",_dark:{bg:"base.800"}},children:[a.jsxs(N,{sx:{flexDirection:"column",gap:2},children:[a.jsx(ge,{sx:{fontWeight:600},children:e("modelManager.syncModels")}),a.jsx(ge,{fontSize:"sm",sx:{_dark:{color:"base.400"}},children:e("modelManager.syncModelsDesc")})]}),a.jsx(gu,{})]})}function ohe(){return a.jsx(N,{children:a.jsx(rhe,{})})}const n_=[{id:"modelManager",label:wt.t("modelManager.modelManager"),content:a.jsx(the,{})},{id:"importModels",label:wt.t("modelManager.importModels"),content:a.jsx(Upe,{})},{id:"mergeModels",label:wt.t("modelManager.mergeModels"),content:a.jsx(Kpe,{})},{id:"settings",label:wt.t("modelManager.settings"),content:a.jsx(ohe,{})}],she=()=>a.jsxs(wl,{isLazy:!0,variant:"line",layerStyle:"first",sx:{w:"full",h:"full",p:4,gap:4,borderRadius:"base"},children:[a.jsx(Sl,{children:n_.map(e=>a.jsx(Lr,{sx:{borderTopRadius:"base"},children:e.label},e.id))}),a.jsx(uu,{sx:{w:"full",h:"full"},children:n_.map(e=>a.jsx(Mo,{sx:{w:"full",h:"full"},children:e.content},e.id))})]}),ahe=d.memo(she),ihe={enum:"",BoardField:void 0,boolean:!1,BooleanCollection:[],BooleanPolymorphic:!1,ClipField:void 0,Collection:[],CollectionItem:void 0,ColorCollection:[],ColorField:void 0,ColorPolymorphic:void 0,ConditioningCollection:[],ConditioningField:void 0,ConditioningPolymorphic:void 0,ControlCollection:[],ControlField:void 0,ControlNetModelField:void 0,ControlPolymorphic:void 0,DenoiseMaskField:void 0,float:0,FloatCollection:[],FloatPolymorphic:0,ImageCollection:[],ImageField:void 0,ImagePolymorphic:void 0,integer:0,IntegerCollection:[],IntegerPolymorphic:0,IPAdapterField:void 0,IPAdapterModelField:void 0,LatentsCollection:[],LatentsField:void 0,LatentsPolymorphic:void 0,LoRAModelField:void 0,MainModelField:void 0,ONNXModelField:void 0,Scheduler:"euler",SDXLMainModelField:void 0,SDXLRefinerModelField:void 0,string:"",StringCollection:[],StringPolymorphic:"",UNetField:void 0,VaeField:void 0,VaeModelField:void 0},lhe=(e,t)=>{const n={id:e,name:t.name,type:t.type,label:"",fieldKind:"input"};return n.value=t.default??ihe[t.type],n},che=le([e=>e.nodes],e=>e.nodeTemplates),E1={dragHandle:`.${yl}`},uhe=()=>{const e=V(che),t=Tb();return d.useCallback(n=>{var x;const r=ai();let o=window.innerWidth/2,s=window.innerHeight/2;const i=(x=document.querySelector("#workflow-editor"))==null?void 0:x.getBoundingClientRect();i&&(o=i.width/2-U1/2,s=i.height/2-U1/2);const{x:l,y:c}=t.project({x:o,y:s});if(n==="current_image")return{...E1,id:r,type:"current_image",position:{x:l,y:c},data:{id:r,type:"current_image",isOpen:!0,label:"Current Image"}};if(n==="notes")return{...E1,id:r,type:"notes",position:{x:l,y:c},data:{id:r,isOpen:!0,label:"Notes",notes:"",type:"notes"}};const p=e[n];if(p===void 0){console.error(`Unable to find template ${n}.`);return}const h=cS(p.inputs,(y,b,w)=>{const S=ai(),j=lhe(S,b);return y[w]=j,y},{}),m=cS(p.outputs,(y,b,w)=>{const j={id:ai(),name:w,type:b.type,fieldKind:"output"};return y[w]=j,y},{});return{...E1,id:r,type:"invocation",position:{x:l,y:c},data:{id:r,type:n,version:p.version,label:"",notes:"",isOpen:!0,embedWorkflow:!1,isIntermediate:n!=="save_image",inputs:h,outputs:m,useCache:p.useCache}}},[e,t])},A7=d.forwardRef(({label:e,description:t,...n},r)=>a.jsx("div",{ref:r,...n,children:a.jsxs("div",{children:[a.jsx(ge,{fontWeight:600,children:e}),a.jsx(ge,{size:"xs",sx:{color:"base.600",_dark:{color:"base.500"}},children:t})]})}));A7.displayName="AddNodePopoverSelectItem";const dhe=(e,t)=>{const n=new RegExp(e.trim().replace(/[-[\]{}()*+!<=:?./\\^$|#,]/g,"").split(" ").join(".*"),"gi");return n.test(t.label)||n.test(t.description)||t.tags.some(r=>n.test(r))},fhe=()=>{const e=ee(),t=uhe(),n=kl(),{t:r}=Z(),o=le([xe],({nodes:y})=>{const b=hr(y.nodeTemplates,w=>({label:w.title,value:w.type,description:w.description,tags:w.tags}));return b.push({label:r("nodes.currentImage"),value:"current_image",description:r("nodes.currentImageDescription"),tags:["progress"]}),b.push({label:r("nodes.notes"),value:"notes",description:r("nodes.notesDescription"),tags:["notes"]}),b.sort((w,S)=>w.label.localeCompare(S.label)),{data:b,t:r}},Ie),{data:s}=V(o),i=V(y=>y.nodes.isAddNodePopoverOpen),l=d.useRef(null),c=d.useCallback(y=>{const b=t(y);if(!b){const w=r("nodes.unknownNode",{nodeType:y});n({status:"error",title:w});return}e(vN(b))},[e,t,n,r]),p=d.useCallback(y=>{y&&c(y)},[c]),h=d.useCallback(()=>{e(xN())},[e]),m=d.useCallback(()=>{e(b5())},[e]),g=d.useCallback(y=>{y.preventDefault(),m(),setTimeout(()=>{var b;(b=l.current)==null||b.focus()},0)},[m]),x=d.useCallback(()=>{h()},[h]);return Je(["shift+a","space"],g),Je(["escape"],x),a.jsxs(gf,{initialFocusRef:l,isOpen:i,onClose:h,placement:"bottom",openDelay:0,closeDelay:0,closeOnBlur:!0,returnFocusOnClose:!0,children:[a.jsx(C3,{children:a.jsx(N,{sx:{position:"absolute",top:"15%",insetInlineStart:"50%",pointerEvents:"none"}})}),a.jsx(vf,{sx:{p:0,top:-1,shadow:"dark-lg",borderColor:"accent.300",borderWidth:"2px",borderStyle:"solid",_dark:{borderColor:"accent.400"}},children:a.jsx(wg,{sx:{p:0},children:a.jsx(rn,{inputRef:l,selectOnBlur:!1,placeholder:r("nodes.nodeSearch"),value:null,data:s,maxDropdownHeight:400,nothingFound:r("nodes.noMatchingNodes"),itemComponent:A7,filter:dhe,onChange:p,hoverOnSearchChange:!0,onDropdownClose:h,sx:{width:"32rem",input:{padding:"0.5rem"}}})})})]})},phe=d.memo(fhe);var hhe="\0",zi="\0",r_="",Rr,qi,Qr,Ud,$c,Lc,yo,ws,ei,Ss,ti,aa,ia,zc,Fc,la,Go,Gd,ib,S_;let mhe=(S_=class{constructor(t){dn(this,Gd);dn(this,Rr,!0);dn(this,qi,!1);dn(this,Qr,!1);dn(this,Ud,void 0);dn(this,$c,()=>{});dn(this,Lc,()=>{});dn(this,yo,{});dn(this,ws,{});dn(this,ei,{});dn(this,Ss,{});dn(this,ti,{});dn(this,aa,{});dn(this,ia,{});dn(this,zc,0);dn(this,Fc,0);dn(this,la,void 0);dn(this,Go,void 0);t&&(xo(this,Rr,t.hasOwnProperty("directed")?t.directed:!0),xo(this,qi,t.hasOwnProperty("multigraph")?t.multigraph:!1),xo(this,Qr,t.hasOwnProperty("compound")?t.compound:!1)),Se(this,Qr)&&(xo(this,la,{}),xo(this,Go,{}),Se(this,Go)[zi]={})}isDirected(){return Se(this,Rr)}isMultigraph(){return Se(this,qi)}isCompound(){return Se(this,Qr)}setGraph(t){return xo(this,Ud,t),this}graph(){return Se(this,Ud)}setDefaultNodeLabel(t){return xo(this,$c,t),typeof t!="function"&&xo(this,$c,()=>t),this}nodeCount(){return Se(this,zc)}nodes(){return Object.keys(Se(this,yo))}sources(){var t=this;return this.nodes().filter(n=>Object.keys(Se(t,ws)[n]).length===0)}sinks(){var t=this;return this.nodes().filter(n=>Object.keys(Se(t,Ss)[n]).length===0)}setNodes(t,n){var r=arguments,o=this;return t.forEach(function(s){r.length>1?o.setNode(s,n):o.setNode(s)}),this}setNode(t,n){return Se(this,yo).hasOwnProperty(t)?(arguments.length>1&&(Se(this,yo)[t]=n),this):(Se(this,yo)[t]=arguments.length>1?n:Se(this,$c).call(this,t),Se(this,Qr)&&(Se(this,la)[t]=zi,Se(this,Go)[t]={},Se(this,Go)[zi][t]=!0),Se(this,ws)[t]={},Se(this,ei)[t]={},Se(this,Ss)[t]={},Se(this,ti)[t]={},++Vu(this,zc)._,this)}node(t){return Se(this,yo)[t]}hasNode(t){return Se(this,yo).hasOwnProperty(t)}removeNode(t){var n=this;if(Se(this,yo).hasOwnProperty(t)){var r=o=>n.removeEdge(Se(n,aa)[o]);delete Se(this,yo)[t],Se(this,Qr)&&(ys(this,Gd,ib).call(this,t),delete Se(this,la)[t],this.children(t).forEach(function(o){n.setParent(o)}),delete Se(this,Go)[t]),Object.keys(Se(this,ws)[t]).forEach(r),delete Se(this,ws)[t],delete Se(this,ei)[t],Object.keys(Se(this,Ss)[t]).forEach(r),delete Se(this,Ss)[t],delete Se(this,ti)[t],--Vu(this,zc)._}return this}setParent(t,n){if(!Se(this,Qr))throw new Error("Cannot set parent in a non-compound graph");if(n===void 0)n=zi;else{n+="";for(var r=n;r!==void 0;r=this.parent(r))if(r===t)throw new Error("Setting "+n+" as parent of "+t+" would create a cycle");this.setNode(n)}return this.setNode(t),ys(this,Gd,ib).call(this,t),Se(this,la)[t]=n,Se(this,Go)[n][t]=!0,this}parent(t){if(Se(this,Qr)){var n=Se(this,la)[t];if(n!==zi)return n}}children(t=zi){if(Se(this,Qr)){var n=Se(this,Go)[t];if(n)return Object.keys(n)}else{if(t===zi)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var n=Se(this,ei)[t];if(n)return Object.keys(n)}successors(t){var n=Se(this,ti)[t];if(n)return Object.keys(n)}neighbors(t){var n=this.predecessors(t);if(n){const o=new Set(n);for(var r of this.successors(t))o.add(r);return Array.from(o.values())}}isLeaf(t){var n;return this.isDirected()?n=this.successors(t):n=this.neighbors(t),n.length===0}filterNodes(t){var n=new this.constructor({directed:Se(this,Rr),multigraph:Se(this,qi),compound:Se(this,Qr)});n.setGraph(this.graph());var r=this;Object.entries(Se(this,yo)).forEach(function([i,l]){t(i)&&n.setNode(i,l)}),Object.values(Se(this,aa)).forEach(function(i){n.hasNode(i.v)&&n.hasNode(i.w)&&n.setEdge(i,r.edge(i))});var o={};function s(i){var l=r.parent(i);return l===void 0||n.hasNode(l)?(o[i]=l,l):l in o?o[l]:s(l)}return Se(this,Qr)&&n.nodes().forEach(i=>n.setParent(i,s(i))),n}setDefaultEdgeLabel(t){return xo(this,Lc,t),typeof t!="function"&&xo(this,Lc,()=>t),this}edgeCount(){return Se(this,Fc)}edges(){return Object.values(Se(this,aa))}setPath(t,n){var r=this,o=arguments;return t.reduce(function(s,i){return o.length>1?r.setEdge(s,i,n):r.setEdge(s,i),i}),this}setEdge(){var t,n,r,o,s=!1,i=arguments[0];typeof i=="object"&&i!==null&&"v"in i?(t=i.v,n=i.w,r=i.name,arguments.length===2&&(o=arguments[1],s=!0)):(t=i,n=arguments[1],r=arguments[3],arguments.length>2&&(o=arguments[2],s=!0)),t=""+t,n=""+n,r!==void 0&&(r=""+r);var l=id(Se(this,Rr),t,n,r);if(Se(this,ia).hasOwnProperty(l))return s&&(Se(this,ia)[l]=o),this;if(r!==void 0&&!Se(this,qi))throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(n),Se(this,ia)[l]=s?o:Se(this,Lc).call(this,t,n,r);var c=ghe(Se(this,Rr),t,n,r);return t=c.v,n=c.w,Object.freeze(c),Se(this,aa)[l]=c,o_(Se(this,ei)[n],t),o_(Se(this,ti)[t],n),Se(this,ws)[n][l]=c,Se(this,Ss)[t][l]=c,Vu(this,Fc)._++,this}edge(t,n,r){var o=arguments.length===1?M1(Se(this,Rr),arguments[0]):id(Se(this,Rr),t,n,r);return Se(this,ia)[o]}edgeAsObj(){const t=this.edge(...arguments);return typeof t!="object"?{label:t}:t}hasEdge(t,n,r){var o=arguments.length===1?M1(Se(this,Rr),arguments[0]):id(Se(this,Rr),t,n,r);return Se(this,ia).hasOwnProperty(o)}removeEdge(t,n,r){var o=arguments.length===1?M1(Se(this,Rr),arguments[0]):id(Se(this,Rr),t,n,r),s=Se(this,aa)[o];return s&&(t=s.v,n=s.w,delete Se(this,ia)[o],delete Se(this,aa)[o],s_(Se(this,ei)[n],t),s_(Se(this,ti)[t],n),delete Se(this,ws)[n][o],delete Se(this,Ss)[t][o],Vu(this,Fc)._--),this}inEdges(t,n){var r=Se(this,ws)[t];if(r){var o=Object.values(r);return n?o.filter(s=>s.v===n):o}}outEdges(t,n){var r=Se(this,Ss)[t];if(r){var o=Object.values(r);return n?o.filter(s=>s.w===n):o}}nodeEdges(t,n){var r=this.inEdges(t,n);if(r)return r.concat(this.outEdges(t,n))}},Rr=new WeakMap,qi=new WeakMap,Qr=new WeakMap,Ud=new WeakMap,$c=new WeakMap,Lc=new WeakMap,yo=new WeakMap,ws=new WeakMap,ei=new WeakMap,Ss=new WeakMap,ti=new WeakMap,aa=new WeakMap,ia=new WeakMap,zc=new WeakMap,Fc=new WeakMap,la=new WeakMap,Go=new WeakMap,Gd=new WeakSet,ib=function(t){delete Se(this,Go)[Se(this,la)[t]][t]},S_);function o_(e,t){e[t]?e[t]++:e[t]=1}function s_(e,t){--e[t]||delete e[t]}function id(e,t,n,r){var o=""+t,s=""+n;if(!e&&o>s){var i=o;o=s,s=i}return o+r_+s+r_+(r===void 0?hhe:r)}function ghe(e,t,n,r){var o=""+t,s=""+n;if(!e&&o>s){var i=o;o=s,s=i}var l={v:o,w:s};return r&&(l.name=r),l}function M1(e,t){return id(e,t.v,t.w,t.name)}var F2=mhe,vhe="2.1.13",xhe={Graph:F2,version:vhe},bhe=F2,yhe={write:Che,read:khe};function Che(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:whe(e),edges:She(e)};return e.graph()!==void 0&&(t.value=structuredClone(e.graph())),t}function whe(e){return e.nodes().map(function(t){var n=e.node(t),r=e.parent(t),o={v:t};return n!==void 0&&(o.value=n),r!==void 0&&(o.parent=r),o})}function She(e){return e.edges().map(function(t){var n=e.edge(t),r={v:t.v,w:t.w};return t.name!==void 0&&(r.name=t.name),n!==void 0&&(r.value=n),r})}function khe(e){var t=new bhe(e.options).setGraph(e.value);return e.nodes.forEach(function(n){t.setNode(n.v,n.value),n.parent&&t.setParent(n.v,n.parent)}),e.edges.forEach(function(n){t.setEdge({v:n.v,w:n.w,name:n.name},n.value)}),t}var jhe=Ihe;function Ihe(e){var t={},n=[],r;function o(s){t.hasOwnProperty(s)||(t[s]=!0,r.push(s),e.successors(s).forEach(o),e.predecessors(s).forEach(o))}return e.nodes().forEach(function(s){r=[],o(s),r.length&&n.push(r)}),n}var cr,ca,Kd,lb,qd,cb,Bc,jh,k_;let _he=(k_=class{constructor(){dn(this,Kd);dn(this,qd);dn(this,Bc);dn(this,cr,[]);dn(this,ca,{})}size(){return Se(this,cr).length}keys(){return Se(this,cr).map(function(t){return t.key})}has(t){return Se(this,ca).hasOwnProperty(t)}priority(t){var n=Se(this,ca)[t];if(n!==void 0)return Se(this,cr)[n].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return Se(this,cr)[0].key}add(t,n){var r=Se(this,ca);if(t=String(t),!r.hasOwnProperty(t)){var o=Se(this,cr),s=o.length;return r[t]=s,o.push({key:t,priority:n}),ys(this,qd,cb).call(this,s),!0}return!1}removeMin(){ys(this,Bc,jh).call(this,0,Se(this,cr).length-1);var t=Se(this,cr).pop();return delete Se(this,ca)[t.key],ys(this,Kd,lb).call(this,0),t.key}decrease(t,n){var r=Se(this,ca)[t];if(n>Se(this,cr)[r].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+Se(this,cr)[r].priority+" New: "+n);Se(this,cr)[r].priority=n,ys(this,qd,cb).call(this,r)}},cr=new WeakMap,ca=new WeakMap,Kd=new WeakSet,lb=function(t){var n=Se(this,cr),r=2*t,o=r+1,s=t;r<n.length&&(s=n[r].priority<n[s].priority?r:s,o<n.length&&(s=n[o].priority<n[s].priority?o:s),s!==t&&(ys(this,Bc,jh).call(this,t,s),ys(this,Kd,lb).call(this,s)))},qd=new WeakSet,cb=function(t){for(var n=Se(this,cr),r=n[t].priority,o;t!==0&&(o=t>>1,!(n[o].priority<r));)ys(this,Bc,jh).call(this,t,o),t=o},Bc=new WeakSet,jh=function(t,n){var r=Se(this,cr),o=Se(this,ca),s=r[t],i=r[n];r[t]=i,r[n]=s,o[i.key]=t,o[s.key]=n},k_);var T7=_he,Phe=T7,N7=Mhe,Ehe=()=>1;function Mhe(e,t,n,r){return Ohe(e,String(t),n||Ehe,r||function(o){return e.outEdges(o)})}function Ohe(e,t,n,r){var o={},s=new Phe,i,l,c=function(p){var h=p.v!==i?p.v:p.w,m=o[h],g=n(p),x=l.distance+g;if(g<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+g);x<m.distance&&(m.distance=x,m.predecessor=i,s.decrease(h,x))};for(e.nodes().forEach(function(p){var h=p===t?0:Number.POSITIVE_INFINITY;o[p]={distance:h},s.add(p,h)});s.size()>0&&(i=s.removeMin(),l=o[i],l.distance!==Number.POSITIVE_INFINITY);)r(i).forEach(c);return o}var Dhe=N7,Rhe=Ahe;function Ahe(e,t,n){return e.nodes().reduce(function(r,o){return r[o]=Dhe(e,o,t,n),r},{})}var $7=The;function The(e){var t=0,n=[],r={},o=[];function s(i){var l=r[i]={onStack:!0,lowlink:t,index:t++};if(n.push(i),e.successors(i).forEach(function(h){r.hasOwnProperty(h)?r[h].onStack&&(l.lowlink=Math.min(l.lowlink,r[h].index)):(s(h),l.lowlink=Math.min(l.lowlink,r[h].lowlink))}),l.lowlink===l.index){var c=[],p;do p=n.pop(),r[p].onStack=!1,c.push(p);while(i!==p);o.push(c)}}return e.nodes().forEach(function(i){r.hasOwnProperty(i)||s(i)}),o}var Nhe=$7,$he=Lhe;function Lhe(e){return Nhe(e).filter(function(t){return t.length>1||t.length===1&&e.hasEdge(t[0],t[0])})}var zhe=Bhe,Fhe=()=>1;function Bhe(e,t,n){return Hhe(e,t||Fhe,n||function(r){return e.outEdges(r)})}function Hhe(e,t,n){var r={},o=e.nodes();return o.forEach(function(s){r[s]={},r[s][s]={distance:0},o.forEach(function(i){s!==i&&(r[s][i]={distance:Number.POSITIVE_INFINITY})}),n(s).forEach(function(i){var l=i.v===s?i.w:i.v,c=t(i);r[s][l]={distance:c,predecessor:s}})}),o.forEach(function(s){var i=r[s];o.forEach(function(l){var c=r[l];o.forEach(function(p){var h=c[s],m=i[p],g=c[p],x=h.distance+m.distance;x<g.distance&&(g.distance=x,g.predecessor=m.predecessor)})})}),r}function L7(e){var t={},n={},r=[];function o(s){if(n.hasOwnProperty(s))throw new ub;t.hasOwnProperty(s)||(n[s]=!0,t[s]=!0,e.predecessors(s).forEach(o),delete n[s],r.push(s))}if(e.sinks().forEach(o),Object.keys(t).length!==e.nodeCount())throw new ub;return r}class ub extends Error{constructor(){super(...arguments)}}var z7=L7;L7.CycleException=ub;var a_=z7,Vhe=Whe;function Whe(e){try{a_(e)}catch(t){if(t instanceof a_.CycleException)return!1;throw t}return!0}var F7=Uhe;function Uhe(e,t,n){Array.isArray(t)||(t=[t]);var r=e.isDirected()?l=>e.successors(l):l=>e.neighbors(l),o=n==="post"?Ghe:Khe,s=[],i={};return t.forEach(l=>{if(!e.hasNode(l))throw new Error("Graph does not have node: "+l);o(l,r,i,s)}),s}function Ghe(e,t,n,r){for(var o=[[e,!1]];o.length>0;){var s=o.pop();s[1]?r.push(s[0]):n.hasOwnProperty(s[0])||(n[s[0]]=!0,o.push([s[0],!0]),B7(t(s[0]),i=>o.push([i,!1])))}}function Khe(e,t,n,r){for(var o=[e];o.length>0;){var s=o.pop();n.hasOwnProperty(s)||(n[s]=!0,r.push(s),B7(t(s),i=>o.push(i)))}}function B7(e,t){for(var n=e.length;n--;)t(e[n],n,e);return e}var qhe=F7,Xhe=Qhe;function Qhe(e,t){return qhe(e,t,"post")}var Yhe=F7,Zhe=Jhe;function Jhe(e,t){return Yhe(e,t,"pre")}var eme=F2,tme=T7,nme=rme;function rme(e,t){var n=new eme,r={},o=new tme,s;function i(c){var p=c.v===s?c.w:c.v,h=o.priority(p);if(h!==void 0){var m=t(c);m<h&&(r[p]=s,o.decrease(p,m))}}if(e.nodeCount()===0)return n;e.nodes().forEach(function(c){o.add(c,Number.POSITIVE_INFINITY),n.setNode(c)}),o.decrease(e.nodes()[0],0);for(var l=!1;o.size()>0;){if(s=o.removeMin(),r.hasOwnProperty(s))n.setEdge(s,r[s]);else{if(l)throw new Error("Input graph is not connected: "+e);l=!0}e.nodeEdges(s).forEach(i)}return n}var ome={components:jhe,dijkstra:N7,dijkstraAll:Rhe,findCycles:$he,floydWarshall:zhe,isAcyclic:Vhe,postorder:Xhe,preorder:Zhe,prim:nme,tarjan:$7,topsort:z7},i_=xhe,sme={Graph:i_.Graph,json:yhe,alg:ome,version:i_.version};const l_=ou(sme),H7=(e,t)=>{if(e===t)return!0;const n=e==="CollectionItem"&&!nd.includes(t),r=t==="CollectionItem"&&!nd.includes(e)&&!Ui.includes(e),o=Ui.includes(t)&&(()=>{if(!Ui.includes(t))return!1;const p=yN[t],h=bN[p];return e===p||e===h})(),s=e==="Collection"&&(nd.includes(t)||Ui.includes(t)),i=t==="Collection"&&nd.includes(e);return n||r||o||s||i||e==="integer"&&t==="float"||(e==="integer"||e==="float")&&t==="string"},ame=()=>{const e=Tb(),t=V(r=>r.nodes.shouldValidateGraph);return d.useCallback(({source:r,sourceHandle:o,target:s,targetHandle:i})=>{var x,y;const l=e.getEdges(),c=e.getNodes();if(!(r&&o&&s&&i))return!1;const p=e.getNode(r),h=e.getNode(s);if(!(p&&h&&p.data&&h.data))return!1;const m=(x=p.data.outputs[o])==null?void 0:x.type,g=(y=h.data.inputs[i])==null?void 0:y.type;return!m||!g||r===s?!1:t?l.filter(b=>b.target===s&&b.targetHandle===i).find(b=>{b.source===r&&b.sourceHandle})||l.find(b=>b.target===s&&b.targetHandle===i)&&g!=="CollectionItem"||!H7(m,g)?!1:V7(r,s,c,l):!0},[e,t])},V7=(e,t,n,r)=>{const o=new l_.Graph;return n.forEach(s=>{o.setNode(s.id)}),r.forEach(s=>{o.setEdge(s.source,s.target)}),o.setEdge(e,t),l_.alg.isAcyclic(o)},Vd=e=>`var(--invokeai-colors-${e.split(".").join("-")})`,ime=le(xe,({nodes:e})=>{const{shouldAnimateEdges:t,currentConnectionFieldType:n,shouldColorEdges:r}=e,o=Vd(n&&r?Jd[n].color:"base.500");let s="react-flow__custom_connection-path";return t&&(s=s.concat(" animated")),{stroke:o,className:s}}),lme=({fromX:e,fromY:t,fromPosition:n,toX:r,toY:o,toPosition:s})=>{const{stroke:i,className:l}=V(ime),c={sourceX:e,sourceY:t,sourcePosition:n,targetX:r,targetY:o,targetPosition:s},[p]=Nb(c);return a.jsx("g",{children:a.jsx("path",{fill:"none",stroke:i,strokeWidth:2,className:l,d:p,style:{opacity:.8}})})},cme=d.memo(lme),W7=(e,t,n,r,o)=>le(xe,({nodes:s})=>{var g,x;const i=s.nodes.find(y=>y.id===e),l=s.nodes.find(y=>y.id===n),c=Dn(i)&&Dn(l),p=(i==null?void 0:i.selected)||(l==null?void 0:l.selected)||o,h=c?(x=(g=i==null?void 0:i.data)==null?void 0:g.outputs[t||""])==null?void 0:x.type:void 0,m=h&&s.shouldColorEdges?Vd(Jd[h].color):Vd("base.500");return{isSelected:p,shouldAnimate:s.shouldAnimateEdges&&p,stroke:m}},Ie),ume=({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o,targetPosition:s,markerEnd:i,data:l,selected:c,source:p,target:h,sourceHandleId:m,targetHandleId:g})=>{const x=d.useMemo(()=>W7(p,m,h,g,c),[c,p,m,h,g]),{isSelected:y,shouldAnimate:b}=V(x),[w,S,j]=Nb({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:s}),{base500:I}=wf();return a.jsxs(a.Fragment,{children:[a.jsx(y5,{path:w,markerEnd:i,style:{strokeWidth:y?3:2,stroke:I,opacity:y?.8:.5,animation:b?"dashdraw 0.5s linear infinite":void 0,strokeDasharray:b?5:"none"}}),(l==null?void 0:l.count)&&l.count>1&&a.jsx(CN,{children:a.jsx(N,{sx:{position:"absolute",transform:`translate(-50%, -50%) translate(${S}px,${j}px)`},className:"nodrag nopan",children:a.jsx(Ws,{variant:"solid",sx:{bg:"base.500",opacity:y?.8:.5,boxShadow:"base"},children:l.count})})})]})},dme=d.memo(ume),fme=({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o,targetPosition:s,markerEnd:i,selected:l,source:c,target:p,sourceHandleId:h,targetHandleId:m})=>{const g=d.useMemo(()=>W7(c,h,p,m,l),[c,h,p,m,l]),{isSelected:x,shouldAnimate:y,stroke:b}=V(g),[w]=Nb({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:s});return a.jsx(y5,{path:w,markerEnd:i,style:{strokeWidth:x?3:2,stroke:b,opacity:x?.8:.5,animation:y?"dashdraw 0.5s linear infinite":void 0,strokeDasharray:y?5:"none"}})},pme=d.memo(fme),hme=e=>{const{nodeId:t,width:n,children:r,selected:o}=e,{isMouseOverNode:s,handleMouseOut:i,handleMouseOver:l}=GO(t),c=d.useMemo(()=>le(xe,({nodes:j})=>{var I;return((I=j.nodeExecutionStates[t])==null?void 0:I.status)===fa.IN_PROGRESS}),[t]),p=V(c),[h,m,g,x]=Ps("shadows",["nodeInProgress.light","nodeInProgress.dark","shadows.xl","shadows.base"]),y=ee(),b=il(h,m),w=V(j=>j.nodes.nodeOpacity),S=d.useCallback(j=>{!j.ctrlKey&&!j.altKey&&!j.metaKey&&!j.shiftKey&&y(wN(t)),y(C5())},[y,t]);return a.jsxs(_e,{onClick:S,onMouseEnter:l,onMouseLeave:i,className:yl,sx:{h:"full",position:"relative",borderRadius:"base",w:n??U1,transitionProperty:"common",transitionDuration:"0.1s",cursor:"grab",opacity:w},children:[a.jsx(_e,{sx:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,borderRadius:"base",pointerEvents:"none",shadow:`${g}, ${x}, ${x}`,zIndex:-1}}),a.jsx(_e,{sx:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,borderRadius:"md",pointerEvents:"none",transitionProperty:"common",transitionDuration:"0.1s",opacity:.7,shadow:p?b:void 0,zIndex:-1}}),r,a.jsx(UO,{isSelected:o,isHovered:s})]})},p0=d.memo(hme),mme=le(xe,({system:e,gallery:t})=>{var r;return{imageDTO:t.selection[t.selection.length-1],progressImage:(r=e.denoiseProgress)==null?void 0:r.progress_image}}),gme=e=>{const{progressImage:t,imageDTO:n}=SN(mme);return t?a.jsx(O1,{nodeProps:e,children:a.jsx(Pa,{src:t.dataURL,sx:{w:"full",h:"full",objectFit:"contain",borderRadius:"base"}})}):n?a.jsx(O1,{nodeProps:e,children:a.jsx(Sa,{imageDTO:n,isDragDisabled:!0,useThumbailFallback:!0})}):a.jsx(O1,{nodeProps:e,children:a.jsx(er,{})})},vme=d.memo(gme),O1=e=>{const[t,n]=d.useState(!1),r=()=>{n(!0)},o=()=>{n(!1)};return a.jsx(p0,{nodeId:e.nodeProps.id,selected:e.nodeProps.selected,width:384,children:a.jsxs(N,{onMouseEnter:r,onMouseLeave:o,className:yl,sx:{position:"relative",flexDirection:"column"},children:[a.jsx(N,{layerStyle:"nodeHeader",sx:{borderTopRadius:"base",alignItems:"center",justifyContent:"center",h:8},children:a.jsx(ge,{sx:{fontSize:"sm",fontWeight:600,color:"base.700",_dark:{color:"base.200"}},children:"Current Image"})}),a.jsxs(N,{layerStyle:"nodeBody",sx:{w:"full",h:"full",borderBottomRadius:"base",p:2},children:[e.children,t&&a.jsx(En.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.1}},exit:{opacity:0,transition:{duration:.1}},style:{position:"absolute",top:40,left:-2,right:-2,bottom:0,pointerEvents:"none"},children:a.jsx(I7,{})},"nextPrevButtons")]})]})})},xme=e=>{const t=d.useMemo(()=>le(xe,({nodes:r})=>{const o=r.nodes.find(i=>i.id===e);if(!Dn(o))return[];const s=r.nodeTemplates[o.data.type];return s?hr(s.inputs).filter(i=>(["any","direct"].includes(i.input)||Ui.includes(i.type))&&w5.includes(i.type)).filter(i=>!i.ui_hidden).sort((i,l)=>(i.ui_order??0)-(l.ui_order??0)).map(i=>i.name).filter(i=>i!=="is_intermediate"):[]},Ie),[e]);return V(t)},bme=e=>{const t=d.useMemo(()=>le(xe,({nodes:r})=>{const o=r.nodes.find(i=>i.id===e);if(!Dn(o))return[];const s=r.nodeTemplates[o.data.type];return s?hr(s.inputs).filter(i=>i.input==="connection"&&!Ui.includes(i.type)||!w5.includes(i.type)).filter(i=>!i.ui_hidden).sort((i,l)=>(i.ui_order??0)-(l.ui_order??0)).map(i=>i.name).filter(i=>i!=="is_intermediate"):[]},Ie),[e]);return V(t)},yme=e=>{const t=d.useMemo(()=>le(xe,({nodes:r})=>{const o=r.nodes.find(i=>i.id===e);if(!Dn(o))return[];const s=r.nodeTemplates[o.data.type];return s?hr(s.outputs).filter(i=>!i.ui_hidden).sort((i,l)=>(i.ui_order??0)-(l.ui_order??0)).map(i=>i.name).filter(i=>i!=="is_intermediate"):[]},Ie),[e]);return V(t)},Cme=e=>{const t=d.useMemo(()=>le(xe,({nodes:r})=>{const o=r.nodes.find(s=>s.id===e);return Dn(o)?o.data.embedWorkflow:!1},Ie),[e]);return V(t)},B2=e=>{const t=d.useMemo(()=>le(xe,({nodes:r})=>{const o=r.nodes.find(s=>s.id===e);return Dn(o)?wo(o.data.outputs,s=>kN.includes(s.type)&&o.data.type!=="image"):!1},Ie),[e]);return V(t)},wme=({nodeId:e})=>{const t=ee(),n=B2(e),r=Cme(e),o=d.useCallback(s=>{t(jN({nodeId:e,embedWorkflow:s.target.checked}))},[t,e]);return n?a.jsxs(qt,{as:N,sx:{alignItems:"center",gap:2,w:"auto"},children:[a.jsx(kn,{sx:{fontSize:"xs",mb:"1px"},children:"Workflow"}),a.jsx(lf,{className:"nopan",size:"sm",onChange:o,isChecked:r})]}):null},Sme=d.memo(wme),kme=e=>{const t=d.useMemo(()=>le(xe,({nodes:r})=>{const o=r.nodes.find(s=>s.id===e);return Dn(o)?o.data.isIntermediate:!1},Ie),[e]);return V(t)},jme=({nodeId:e})=>{const t=ee(),n=B2(e),r=kme(e),o=d.useCallback(s=>{t(IN({nodeId:e,isIntermediate:!s.target.checked}))},[t,e]);return n?a.jsxs(qt,{as:N,sx:{alignItems:"center",gap:2,w:"auto"},children:[a.jsx(kn,{sx:{fontSize:"xs",mb:"1px"},children:"Save to Gallery"}),a.jsx(lf,{className:"nopan",size:"sm",onChange:o,isChecked:!r})]}):null},Ime=d.memo(jme),_me=e=>{const t=d.useMemo(()=>le(xe,({nodes:r})=>{const o=r.nodes.find(s=>s.id===e);return Dn(o)?o.data.useCache:!1},Ie),[e]);return V(t)},Pme=({nodeId:e})=>{const t=ee(),n=_me(e),r=d.useCallback(o=>{t(_N({nodeId:e,useCache:o.target.checked}))},[t,e]);return a.jsxs(qt,{as:N,sx:{alignItems:"center",gap:2,w:"auto"},children:[a.jsx(kn,{sx:{fontSize:"xs",mb:"1px"},children:"Use Cache"}),a.jsx(lf,{className:"nopan",size:"sm",onChange:r,isChecked:n})]})},Eme=d.memo(Pme),Mme=({nodeId:e})=>{const t=B2(e);return a.jsxs(N,{className:yl,layerStyle:"nodeFooter",sx:{w:"full",borderBottomRadius:"base",px:2,py:0,h:6,justifyContent:"space-between"},children:[a.jsx(Eme,{nodeId:e}),t&&a.jsx(Sme,{nodeId:e}),t&&a.jsx(Ime,{nodeId:e})]})},Ome=d.memo(Mme),Dme=({nodeId:e,isOpen:t})=>{const n=ee(),r=PN(),o=d.useCallback(()=>{n(EN({nodeId:e,isOpen:!t})),r(e)},[n,t,e,r]);return a.jsx(ze,{className:"nodrag",onClick:o,"aria-label":"Minimize",sx:{minW:8,w:8,h:8,color:"base.500",_dark:{color:"base.500"},_hover:{color:"base.700",_dark:{color:"base.300"}}},variant:"link",icon:a.jsx(Gg,{sx:{transform:t?"rotate(0deg)":"rotate(180deg)",transitionProperty:"common",transitionDuration:"normal"}})})},H2=d.memo(Dme),U7=e=>{const t=d.useMemo(()=>le(xe,({nodes:r})=>{const o=r.nodes.find(s=>s.id===e);return Dn(o)?o.data.label:!1},Ie),[e]);return V(t)},G7=e=>{const t=d.useMemo(()=>le(xe,({nodes:r})=>{const o=r.nodes.find(i=>i.id===e);if(!Dn(o))return!1;const s=o?r.nodeTemplates[o.data.type]:void 0;return s==null?void 0:s.title},Ie),[e]);return V(t)},Rme=({nodeId:e,title:t})=>{const n=ee(),r=U7(e),o=G7(e),{t:s}=Z(),[i,l]=d.useState(""),c=d.useCallback(async h=>{n(MN({nodeId:e,label:h})),l(r||t||o||s("nodes.problemSettingTitle"))},[n,e,t,o,r,s]),p=d.useCallback(h=>{l(h)},[]);return d.useEffect(()=>{l(r||t||o||s("nodes.problemSettingTitle"))},[r,o,t,s]),a.jsx(N,{sx:{overflow:"hidden",w:"full",h:"full",alignItems:"center",justifyContent:"center",cursor:"text"},children:a.jsxs(og,{as:N,value:i,onChange:p,onSubmit:c,sx:{alignItems:"center",position:"relative",w:"full",h:"full"},children:[a.jsx(rg,{fontSize:"sm",sx:{p:0,w:"full"},noOfLines:1}),a.jsx(ng,{className:"nodrag",fontSize:"sm",sx:{p:0,fontWeight:700,_focusVisible:{p:0,boxShadow:"none"}}}),a.jsx(Ame,{})]})})},K7=d.memo(Rme);function Ame(){const{isEditing:e,getEditButtonProps:t}=tP(),n=d.useCallback(r=>{const{onClick:o}=t();o&&o(r)},[t]);return e?null:a.jsx(_e,{className:yl,onDoubleClick:n,sx:{position:"absolute",w:"full",h:"full",top:0,cursor:"grab"}})}const V2=e=>{const t=d.useMemo(()=>le(xe,({nodes:r})=>{const o=r.nodes.find(s=>s.id===e);return o==null?void 0:o.data},Ie),[e]);return V(t)},Tme=({nodeId:e})=>{const t=V2(e),{base400:n,base600:r}=wf(),o=il(n,r),s=d.useMemo(()=>({borderWidth:0,borderRadius:"3px",width:"1rem",height:"1rem",backgroundColor:o,zIndex:-1}),[o]);return Dh(t)?a.jsxs(a.Fragment,{children:[a.jsx(rd,{type:"target",id:`${t.id}-collapsed-target`,isConnectable:!1,position:gc.Left,style:{...s,left:"-0.5rem"}}),hr(t.inputs,i=>a.jsx(rd,{type:"target",id:i.name,isConnectable:!1,position:gc.Left,style:{visibility:"hidden"}},`${t.id}-${i.name}-collapsed-input-handle`)),a.jsx(rd,{type:"source",id:`${t.id}-collapsed-source`,isConnectable:!1,position:gc.Right,style:{...s,right:"-0.5rem"}}),hr(t.outputs,i=>a.jsx(rd,{type:"source",id:i.name,isConnectable:!1,position:gc.Right,style:{visibility:"hidden"}},`${t.id}-${i.name}-collapsed-output-handle`))]}):null},Nme=d.memo(Tme),$me=e=>{const t=d.useMemo(()=>le(xe,({nodes:r})=>{const o=r.nodes.find(i=>i.id===e);return r.nodeTemplates[(o==null?void 0:o.data.type)??""]},Ie),[e]);return V(t)},Lme=({nodeId:e})=>{const t=ee(),n=V2(e),{t:r}=Z(),o=d.useCallback(s=>{t(ON({nodeId:e,notes:s.target.value}))},[t,e]);return Dh(n)?a.jsxs(qt,{children:[a.jsx(kn,{children:r("nodes.notes")}),a.jsx(ka,{value:n==null?void 0:n.notes,onChange:o,rows:10})]}):null},zme=d.memo(Lme),Fme=e=>{const t=d.useMemo(()=>le(xe,({nodes:r})=>{var i;const o=r.nodes.find(l=>l.id===e);if(!Dn(o))return!1;const s=r.nodeTemplates[(o==null?void 0:o.data.type)??""];return!(s!=null&&s.version)||!((i=o.data)!=null&&i.version)?!1:D_(s.version,o.data.version)===0},Ie),[e]);return V(t)},Bme=({nodeId:e})=>{const{isOpen:t,onOpen:n,onClose:r}=Br(),o=U7(e),s=G7(e),i=Fme(e),{t:l}=Z();return a.jsxs(a.Fragment,{children:[a.jsx(Ht,{label:a.jsx(q7,{nodeId:e}),placement:"top",shouldWrapChildren:!0,children:a.jsx(N,{className:"nodrag",onClick:n,sx:{alignItems:"center",justifyContent:"center",w:8,h:8,cursor:"pointer"},children:a.jsx($n,{as:GM,sx:{boxSize:4,w:8,color:i?"base.400":"error.400"}})})}),a.jsxs(fl,{isOpen:t,onClose:r,isCentered:!0,children:[a.jsx(os,{}),a.jsxs(pl,{children:[a.jsx(rs,{children:o||s||l("nodes.unknownNode")}),a.jsx(mf,{}),a.jsx(ss,{children:a.jsx(zme,{nodeId:e})}),a.jsx(As,{})]})]})]})},Hme=d.memo(Bme),q7=d.memo(({nodeId:e})=>{const t=V2(e),n=$me(e),{t:r}=Z(),o=d.useMemo(()=>t!=null&&t.label&&(n!=null&&n.title)?`${t.label} (${n.title})`:t!=null&&t.label&&!n?t.label:!(t!=null&&t.label)&&n?n.title:r("nodes.unknownNode"),[t,n,r]),s=d.useMemo(()=>!Dh(t)||!n?null:t.version?n.version?wS(t.version,n.version,"<")?a.jsxs(ge,{as:"span",sx:{color:"error.500"},children:[r("nodes.version")," ",t.version," (",r("nodes.updateNode"),")"]}):wS(t.version,n.version,">")?a.jsxs(ge,{as:"span",sx:{color:"error.500"},children:[r("nodes.version")," ",t.version," (",r("nodes.updateApp"),")"]}):a.jsxs(ge,{as:"span",children:[r("nodes.version")," ",t.version]}):a.jsxs(ge,{as:"span",sx:{color:"error.500"},children:[r("nodes.version")," ",t.version," (",r("nodes.unknownTemplate"),")"]}):a.jsx(ge,{as:"span",sx:{color:"error.500"},children:r("nodes.versionUnknown")}),[t,n,r]);return Dh(t)?a.jsxs(N,{sx:{flexDir:"column"},children:[a.jsx(ge,{as:"span",sx:{fontWeight:600},children:o}),a.jsx(ge,{sx:{opacity:.7,fontStyle:"oblique 5deg"},children:n==null?void 0:n.description}),s,(t==null?void 0:t.notes)&&a.jsx(ge,{children:t.notes})]}):a.jsx(ge,{sx:{fontWeight:600},children:r("nodes.unknownNode")})});q7.displayName="TooltipContent";const D1=3,c_={circle:{transitionProperty:"none",transitionDuration:"0s"},".chakra-progress__track":{stroke:"transparent"}},Vme=({nodeId:e})=>{const t=d.useMemo(()=>le(xe,({nodes:r})=>r.nodeExecutionStates[e]),[e]),n=V(t);return n?a.jsx(Ht,{label:a.jsx(X7,{nodeExecutionState:n}),placement:"top",children:a.jsx(N,{className:yl,sx:{w:5,h:"full",alignItems:"center",justifyContent:"flex-end"},children:a.jsx(Q7,{nodeExecutionState:n})})}):null},Wme=d.memo(Vme),X7=d.memo(({nodeExecutionState:e})=>{const{status:t,progress:n,progressImage:r}=e,{t:o}=Z();return t===fa.PENDING?a.jsx(ge,{children:"Pending"}):t===fa.IN_PROGRESS?r?a.jsxs(N,{sx:{pos:"relative",pt:1.5,pb:.5},children:[a.jsx(Pa,{src:r.dataURL,sx:{w:32,h:32,borderRadius:"base",objectFit:"contain"}}),n!==null&&a.jsxs(Ws,{variant:"solid",sx:{pos:"absolute",top:2.5,insetInlineEnd:1},children:[Math.round(n*100),"%"]})]}):n!==null?a.jsxs(ge,{children:[o("nodes.executionStateInProgress")," (",Math.round(n*100),"%)"]}):a.jsx(ge,{children:o("nodes.executionStateInProgress")}):t===fa.COMPLETED?a.jsx(ge,{children:o("nodes.executionStateCompleted")}):t===fa.FAILED?a.jsx(ge,{children:o("nodes.executionStateError")}):null});X7.displayName="TooltipLabel";const Q7=d.memo(e=>{const{progress:t,status:n}=e.nodeExecutionState;return n===fa.PENDING?a.jsx($n,{as:xee,sx:{boxSize:D1,color:"base.600",_dark:{color:"base.300"}}}):n===fa.IN_PROGRESS?t===null?a.jsx(gx,{isIndeterminate:!0,size:"14px",color:"base.500",thickness:14,sx:c_}):a.jsx(gx,{value:Math.round(t*100),size:"14px",color:"base.500",thickness:14,sx:c_}):n===fa.COMPLETED?a.jsx($n,{as:BM,sx:{boxSize:D1,color:"ok.600",_dark:{color:"ok.300"}}}):n===fa.FAILED?a.jsx($n,{as:Cee,sx:{boxSize:D1,color:"error.600",_dark:{color:"error.300"}}}):null});Q7.displayName="StatusIcon";const Ume=({nodeId:e,isOpen:t})=>a.jsxs(N,{layerStyle:"nodeHeader",sx:{borderTopRadius:"base",borderBottomRadius:t?0:"base",alignItems:"center",justifyContent:"space-between",h:8,textAlign:"center",fontWeight:500,color:"base.700",_dark:{color:"base.200"}},children:[a.jsx(H2,{nodeId:e,isOpen:t}),a.jsx(K7,{nodeId:e}),a.jsxs(N,{alignItems:"center",children:[a.jsx(Wme,{nodeId:e}),a.jsx(Hme,{nodeId:e})]}),!t&&a.jsx(Nme,{nodeId:e})]}),Gme=d.memo(Ume),Kme=(e,t,n,r)=>le(xe,o=>{if(!r)return wt.t("nodes.noFieldType");const{currentConnectionFieldType:s,connectionStartParams:i,nodes:l,edges:c}=o.nodes;if(!i||!s)return wt.t("nodes.noConnectionInProgress");const{handleType:p,nodeId:h,handleId:m}=i;if(!p||!h||!m)return wt.t("nodes.noConnectionData");const g=n==="target"?r:s,x=n==="source"?r:s;return e===h?wt.t("nodes.cannotConnectToSelf"):n===p?n==="source"?wt.t("nodes.cannotConnectOutputToOutput"):wt.t("nodes.cannotConnectInputToInput"):c.find(b=>b.target===e&&b.targetHandle===t)&&g!=="CollectionItem"?wt.t("nodes.inputMayOnlyHaveOneConnection"):H7(x,g)?V7(p==="source"?h:e,p==="source"?e:h,l,c)?null:wt.t("nodes.connectionWouldCreateCycle"):wt.t("nodes.fieldTypesMustMatch")}),qme=(e,t,n)=>{const r=d.useMemo(()=>le(xe,({nodes:s})=>{var l;const i=s.nodes.find(c=>c.id===e);if(Dn(i))return(l=i==null?void 0:i.data[Db[n]][t])==null?void 0:l.type},Ie),[t,n,e]);return V(r)},Xme=le(xe,({nodes:e})=>e.currentConnectionFieldType!==null&&e.connectionStartParams!==null),Y7=({nodeId:e,fieldName:t,kind:n})=>{const r=qme(e,t,n),o=d.useMemo(()=>le(xe,({nodes:g})=>!!g.edges.filter(x=>(n==="input"?x.target:x.source)===e&&(n==="input"?x.targetHandle:x.sourceHandle)===t).length),[t,n,e]),s=d.useMemo(()=>Kme(e,t,n==="input"?"target":"source",r),[e,t,n,r]),i=d.useMemo(()=>le(xe,({nodes:g})=>{var x,y,b;return((x=g.connectionStartParams)==null?void 0:x.nodeId)===e&&((y=g.connectionStartParams)==null?void 0:y.handleId)===t&&((b=g.connectionStartParams)==null?void 0:b.handleType)==={input:"target",output:"source"}[n]}),[t,n,e]),l=V(o),c=V(Xme),p=V(i),h=V(s),m=d.useMemo(()=>!!(c&&h&&!p),[h,c,p]);return{isConnected:l,isConnectionInProgress:c,isConnectionStartField:p,connectionError:h,shouldDim:m}},Qme=(e,t)=>{const n=d.useMemo(()=>le(xe,({nodes:o})=>{var i;const s=o.nodes.find(l=>l.id===e);if(Dn(s))return((i=s==null?void 0:s.data.inputs[t])==null?void 0:i.value)!==void 0},Ie),[t,e]);return V(n)},Yme=(e,t)=>{const n=d.useMemo(()=>le(xe,({nodes:o})=>{const s=o.nodes.find(c=>c.id===e);if(!Dn(s))return;const i=o.nodeTemplates[(s==null?void 0:s.data.type)??""],l=i==null?void 0:i.inputs[t];return l==null?void 0:l.input},Ie),[t,e]);return V(n)},Zme=({nodeId:e,fieldName:t,kind:n,children:r})=>{const o=ee(),s=KO(e,t),i=qO(e,t,n),l=Yme(e,t),{t:c}=Z(),p=d.useCallback(w=>{w.preventDefault()},[]),h=d.useMemo(()=>le(xe,({nodes:w})=>({isExposed:!!w.workflow.exposedFields.find(j=>j.nodeId===e&&j.fieldName===t)}),Ie),[t,e]),m=d.useMemo(()=>["any","direct"].includes(l??"__UNKNOWN_INPUT__"),[l]),{isExposed:g}=V(h),x=d.useCallback(()=>{o(DN({nodeId:e,fieldName:t}))},[o,t,e]),y=d.useCallback(()=>{o(a5({nodeId:e,fieldName:t}))},[o,t,e]),b=d.useMemo(()=>{const w=[];return m&&!g&&w.push(a.jsx(tn,{icon:a.jsx(_l,{}),onClick:x,children:"Add to Linear View"},`${e}.${t}.expose-field`)),m&&g&&w.push(a.jsx(tn,{icon:a.jsx(Dee,{}),onClick:y,children:"Remove from Linear View"},`${e}.${t}.unexpose-field`)),w},[t,x,y,g,m,e]);return a.jsx(l2,{menuProps:{size:"sm",isLazy:!0},menuButtonProps:{bg:"transparent",_hover:{bg:"transparent"}},renderMenu:()=>b.length?a.jsx(ul,{sx:{visibility:"visible !important"},motionProps:Hc,onContextMenu:p,children:a.jsx(Pd,{title:s||i||c("nodes.unknownField"),children:b})}):null,children:r})},Jme=d.memo(Zme),ege=e=>{const{fieldTemplate:t,handleType:n,isConnectionInProgress:r,isConnectionStartField:o,connectionError:s}=e,{name:i,type:l}=t,{color:c,title:p}=Jd[l],h=d.useMemo(()=>{const g=nd.includes(l),x=Ui.includes(l),y=RN.includes(l),b=Vd(c),w={backgroundColor:g||x?"var(--invokeai-colors-base-900)":b,position:"absolute",width:"1rem",height:"1rem",borderWidth:g||x?4:0,borderStyle:"solid",borderColor:b,borderRadius:y?4:"100%",zIndex:1};return n==="target"?w.insetInlineStart="-1rem":w.insetInlineEnd="-1rem",r&&!o&&s&&(w.filter="opacity(0.4) grayscale(0.7)"),r&&s?o?w.cursor="grab":w.cursor="not-allowed":w.cursor="crosshair",w},[s,n,r,o,l,c]),m=d.useMemo(()=>r&&o?p:r&&s?s??p:p,[s,r,o,p]);return a.jsx(Ht,{label:m,placement:n==="target"?"start":"end",hasArrow:!0,openDelay:Ym,children:a.jsx(rd,{type:n,id:i,position:n==="target"?gc.Left:gc.Right,style:h})})},Z7=d.memo(ege),tge=({nodeId:e,fieldName:t})=>{const n=s0(e,t,"input"),r=Qme(e,t),{isConnected:o,isConnectionInProgress:s,isConnectionStartField:i,connectionError:l,shouldDim:c}=Y7({nodeId:e,fieldName:t,kind:"input"}),p=d.useMemo(()=>{if((n==null?void 0:n.fieldKind)!=="input"||!n.required)return!1;if(!o&&n.input==="connection"||!r&&!o&&n.input==="any")return!0},[n,o,r]);return(n==null?void 0:n.fieldKind)!=="input"?a.jsx(db,{shouldDim:c,children:a.jsxs(qt,{sx:{color:"error.400",textAlign:"left",fontSize:"sm"},children:["Unknown input: ",t]})}):a.jsxs(db,{shouldDim:c,children:[a.jsxs(qt,{isInvalid:p,isDisabled:o,sx:{alignItems:"stretch",justifyContent:"space-between",ps:n.input==="direct"?0:2,gap:2,h:"full",w:"full"},children:[a.jsx(Jme,{nodeId:e,fieldName:t,kind:"input",children:h=>a.jsx(kn,{sx:{display:"flex",alignItems:"center",h:"full",mb:0,px:1,gap:2},children:a.jsx(QO,{ref:h,nodeId:e,fieldName:t,kind:"input",isMissingInput:p,withTooltip:!0})})}),a.jsx(_e,{children:a.jsx(l7,{nodeId:e,fieldName:t})})]}),n.input!=="direct"&&a.jsx(Z7,{fieldTemplate:n,handleType:"target",isConnectionInProgress:s,isConnectionStartField:i,connectionError:l})]})},u_=d.memo(tge),db=d.memo(({shouldDim:e,children:t})=>a.jsx(N,{sx:{position:"relative",minH:8,py:.5,alignItems:"center",opacity:e?.5:1,transitionProperty:"opacity",transitionDuration:"0.1s",w:"full",h:"full"},children:t}));db.displayName="InputFieldWrapper";const nge=({nodeId:e,fieldName:t})=>{const n=s0(e,t,"output"),{isConnected:r,isConnectionInProgress:o,isConnectionStartField:s,connectionError:i,shouldDim:l}=Y7({nodeId:e,fieldName:t,kind:"output"});return(n==null?void 0:n.fieldKind)!=="output"?a.jsx(fb,{shouldDim:l,children:a.jsxs(qt,{sx:{color:"error.400",textAlign:"right",fontSize:"sm"},children:["Unknown output: ",t]})}):a.jsxs(fb,{shouldDim:l,children:[a.jsx(Ht,{label:a.jsx(O2,{nodeId:e,fieldName:t,kind:"output"}),openDelay:Ym,placement:"top",shouldWrapChildren:!0,hasArrow:!0,children:a.jsx(qt,{isDisabled:r,pe:2,children:a.jsx(kn,{sx:{mb:0,fontWeight:500},children:n==null?void 0:n.title})})}),a.jsx(Z7,{fieldTemplate:n,handleType:"source",isConnectionInProgress:o,isConnectionStartField:s,connectionError:i})]})},rge=d.memo(nge),fb=d.memo(({shouldDim:e,children:t})=>a.jsx(N,{sx:{position:"relative",minH:8,py:.5,alignItems:"center",opacity:e?.5:1,transitionProperty:"opacity",transitionDuration:"0.1s",justifyContent:"flex-end"},children:t}));fb.displayName="OutputFieldWrapper";const oge=({nodeId:e,isOpen:t,label:n,type:r,selected:o})=>{const s=bme(e),i=xme(e),l=yme(e);return a.jsxs(p0,{nodeId:e,selected:o,children:[a.jsx(Gme,{nodeId:e,isOpen:t,label:n,selected:o,type:r}),t&&a.jsxs(a.Fragment,{children:[a.jsx(N,{layerStyle:"nodeBody",sx:{flexDirection:"column",w:"full",h:"full",py:2,gap:1,borderBottomRadius:0},children:a.jsxs(N,{sx:{flexDir:"column",px:2,w:"full",h:"full"},children:[a.jsxs(pi,{gridTemplateColumns:"1fr auto",gridAutoRows:"1fr",children:[s.map((c,p)=>a.jsx(jd,{gridColumnStart:1,gridRowStart:p+1,children:a.jsx(u_,{nodeId:e,fieldName:c})},`${e}.${c}.input-field`)),l.map((c,p)=>a.jsx(jd,{gridColumnStart:2,gridRowStart:p+1,children:a.jsx(rge,{nodeId:e,fieldName:c})},`${e}.${c}.output-field`))]}),i.map(c=>a.jsx(u_,{nodeId:e,fieldName:c},`${e}.${c}.input-field`))]})}),a.jsx(Ome,{nodeId:e})]})]})},sge=d.memo(oge),age=({nodeId:e,isOpen:t,label:n,type:r,selected:o})=>a.jsxs(p0,{nodeId:e,selected:o,children:[a.jsxs(N,{className:yl,layerStyle:"nodeHeader",sx:{borderTopRadius:"base",borderBottomRadius:t?0:"base",alignItems:"center",h:8,fontWeight:600,fontSize:"sm"},children:[a.jsx(H2,{nodeId:e,isOpen:t}),a.jsx(ge,{sx:{w:"full",textAlign:"center",pe:8,color:"error.500",_dark:{color:"error.300"}},children:n?`${n} (${r})`:r})]}),t&&a.jsx(N,{layerStyle:"nodeBody",sx:{userSelect:"auto",flexDirection:"column",w:"full",h:"full",p:4,gap:1,borderBottomRadius:"base",fontSize:"sm"},children:a.jsxs(_e,{children:[a.jsx(ge,{as:"span",children:"Unknown node type: "}),a.jsx(ge,{as:"span",fontWeight:600,children:r})]})})]}),ige=d.memo(age),lge=e=>{const{data:t,selected:n}=e,{id:r,type:o,isOpen:s,label:i}=t,l=d.useMemo(()=>le(xe,({nodes:p})=>!!p.nodeTemplates[o]),[o]);return V(l)?a.jsx(sge,{nodeId:r,isOpen:s,label:i,type:o,selected:n}):a.jsx(ige,{nodeId:r,isOpen:s,label:i,type:o,selected:n})},cge=d.memo(lge),uge=e=>{const{id:t,data:n,selected:r}=e,{notes:o,isOpen:s}=n,i=ee(),l=d.useCallback(c=>{i(AN({nodeId:t,value:c.target.value}))},[i,t]);return a.jsxs(p0,{nodeId:t,selected:r,children:[a.jsxs(N,{layerStyle:"nodeHeader",sx:{borderTopRadius:"base",borderBottomRadius:s?0:"base",alignItems:"center",justifyContent:"space-between",h:8},children:[a.jsx(H2,{nodeId:t,isOpen:s}),a.jsx(K7,{nodeId:t,title:"Notes"}),a.jsx(_e,{minW:8})]}),s&&a.jsx(a.Fragment,{children:a.jsx(N,{layerStyle:"nodeBody",className:"nopan",sx:{cursor:"auto",flexDirection:"column",borderBottomRadius:"base",w:"full",h:"full",p:2,gap:1},children:a.jsx(N,{className:"nopan",sx:{flexDir:"column",w:"full",h:"full"},children:a.jsx(ka,{value:o,onChange:l,rows:8,resize:"none",sx:{fontSize:"xs"}})})})})]})},dge=d.memo(uge),fge=["Delete","Backspace"],pge={collapsed:dme,default:pme},hge={invocation:cge,current_image:vme,notes:dge},mge={hideAttribution:!0},gge=le(xe,({nodes:e})=>{const{shouldSnapToGrid:t,selectionMode:n}=e;return{shouldSnapToGrid:t,selectionMode:n}},Ie),vge=()=>{const e=ee(),t=V(E=>E.nodes.nodes),n=V(E=>E.nodes.edges),r=V(E=>E.nodes.viewport),{shouldSnapToGrid:o,selectionMode:s}=V(gge),i=d.useRef(null),l=d.useRef(),c=ame(),[p]=Ps("radii",["base"]),h=d.useCallback(E=>{e(TN(E))},[e]),m=d.useCallback(E=>{e(NN(E))},[e]),g=d.useCallback((E,D)=>{e($N(D))},[e]),x=d.useCallback(E=>{e(LN(E))},[e]),y=d.useCallback(()=>{e(zN())},[e]),b=d.useCallback(E=>{e(FN(E))},[e]),w=d.useCallback(E=>{e(BN(E))},[e]),S=d.useCallback(({nodes:E,edges:D})=>{e(HN(E?E.map(R=>R.id):[])),e(VN(D?D.map(R=>R.id):[]))},[e]),j=d.useCallback((E,D)=>{e(WN(D))},[e]),I=d.useCallback(()=>{e(C5())},[e]),M=d.useCallback(E=>{uS.set(E),E.fitView()},[]),_=d.useCallback(E=>{var R,A;const D=(R=i.current)==null?void 0:R.getBoundingClientRect();if(D){const O=(A=uS.get())==null?void 0:A.project({x:E.clientX-D.left,y:E.clientY-D.top});l.current=O}},[]);return Je(["Ctrl+c","Meta+c"],E=>{E.preventDefault(),e(UN())}),Je(["Ctrl+a","Meta+a"],E=>{E.preventDefault(),e(GN())}),Je(["Ctrl+v","Meta+v"],E=>{E.preventDefault(),e(KN({cursorPosition:l.current}))}),a.jsx(qN,{id:"workflow-editor",ref:i,defaultViewport:r,nodeTypes:hge,edgeTypes:pge,nodes:t,edges:n,onInit:M,onMouseMove:_,onNodesChange:h,onEdgesChange:m,onEdgesDelete:b,onNodesDelete:w,onConnectStart:g,onConnect:x,onConnectEnd:y,onMoveEnd:j,connectionLineComponent:cme,onSelectionChange:S,isValidConnection:c,minZoom:.1,snapToGrid:o,snapGrid:[25,25],connectionRadius:30,proOptions:mge,style:{borderRadius:p},onPaneClick:I,deleteKeyCode:fge,selectionMode:s,children:a.jsx(rL,{})})},xge=()=>{const e=ee(),{t}=Z(),n=d.useCallback(()=>{e(b5())},[e]);return a.jsx(N,{sx:{gap:2,position:"absolute",top:2,insetInlineStart:2},children:a.jsx(ze,{tooltip:t("nodes.addNodeToolTip"),"aria-label":t("nodes.addNode"),icon:a.jsx(_l,{}),onClick:n})})},bge=d.memo(xge),yge=()=>{const e=ee(),t=K3("nodes"),{t:n}=Z();return d.useCallback(o=>{if(!o)return;const s=new FileReader;s.onload=async()=>{const i=s.result;try{const l=JSON.parse(String(i)),c=XN.safeParse(l);if(!c.success){const{message:p}=QN(c.error,{prefix:n("nodes.workflowValidation")});t.error({error:YN(c.error)},p),e(ut(Yt({title:n("nodes.unableToValidateWorkflow"),status:"error",duration:5e3}))),s.abort();return}e(Ib(c.data)),s.abort()}catch{e(ut(Yt({title:n("nodes.unableToLoadWorkflow"),status:"error"})))}},s.readAsText(o)},[e,t,n])},Cge=d.memo(e=>e.error.issues[0]?a.jsx(ge,{children:dS(e.error.issues[0],{prefix:null}).toString()}):a.jsx(cf,{children:e.error.issues.map((t,n)=>a.jsx(Jr,{children:a.jsx(ge,{children:dS(t,{prefix:null}).toString()})},n))}));Cge.displayName="WorkflowValidationErrorContent";const wge=()=>{const{t:e}=Z(),t=d.useRef(null),n=yge();return a.jsx(hM,{resetRef:t,accept:"application/json",onChange:n,children:r=>a.jsx(ze,{icon:a.jsx(zg,{}),tooltip:e("nodes.loadWorkflow"),"aria-label":e("nodes.loadWorkflow"),...r})})},Sge=d.memo(wge),kge=()=>{const{t:e}=Z(),t=ee(),{isOpen:n,onOpen:r,onClose:o}=Br(),s=d.useRef(null),i=V(c=>c.nodes.nodes.length),l=d.useCallback(()=>{t(ZN()),t(ut(Yt({title:e("toast.nodesCleared"),status:"success"}))),o()},[t,e,o]);return a.jsxs(a.Fragment,{children:[a.jsx(ze,{icon:a.jsx(Vr,{}),tooltip:e("nodes.resetWorkflow"),"aria-label":e("nodes.resetWorkflow"),onClick:r,isDisabled:!i,colorScheme:"error"}),a.jsxs(pf,{isOpen:n,onClose:o,leastDestructiveRef:s,isCentered:!0,children:[a.jsx(os,{}),a.jsxs(hf,{children:[a.jsx(rs,{fontSize:"lg",fontWeight:"bold",children:e("nodes.resetWorkflow")}),a.jsx(ss,{py:4,children:a.jsxs(N,{flexDir:"column",gap:2,children:[a.jsx(ge,{children:e("nodes.resetWorkflowDesc")}),a.jsx(ge,{variant:"subtext",children:e("nodes.resetWorkflowDesc2")})]})}),a.jsxs(As,{children:[a.jsx(fi,{ref:s,onClick:o,children:e("common.cancel")}),a.jsx(fi,{colorScheme:"error",ml:3,onClick:l,children:e("common.accept")})]})]})]})]})},jge=d.memo(kge),Ige=()=>{const{t:e}=Z(),t=WO(),n=d.useCallback(()=>{const r=new Blob([JSON.stringify(t,null,2)]),o=document.createElement("a");o.href=URL.createObjectURL(r),o.download=`${t.name||"My Workflow"}.json`,document.body.appendChild(o),o.click(),o.remove()},[t]);return a.jsx(ze,{icon:a.jsx($g,{}),tooltip:e("nodes.downloadWorkflow"),"aria-label":e("nodes.downloadWorkflow"),onClick:n})},_ge=d.memo(Ige),Pge=()=>a.jsxs(N,{sx:{gap:2,position:"absolute",top:2,insetInlineStart:"50%",transform:"translate(-50%)"},children:[a.jsx(_ge,{}),a.jsx(Sge,{}),a.jsx(jge,{})]}),Ege=d.memo(Pge),Mge=()=>a.jsx(N,{sx:{gap:2,flexDir:"column"},children:hr(Jd,({title:e,description:t,color:n},r)=>a.jsx(Ht,{label:t,children:a.jsx(Ws,{sx:{userSelect:"none",color:parseInt(n.split(".")[1]??"0",10)<500?"base.800":"base.50",bg:n},textAlign:"center",children:e})},r))}),Oge=d.memo(Mge),Dge=()=>{const{t:e}=Z(),t=ee(),n=d.useCallback(()=>{t(JN())},[t]);return a.jsx(it,{leftIcon:a.jsx(Hee,{}),tooltip:e("nodes.reloadNodeTemplates"),"aria-label":e("nodes.reloadNodeTemplates"),onClick:n,children:e("nodes.reloadNodeTemplates")})},Rge=d.memo(Dge),Ju={fontWeight:600},Age=le(xe,({nodes:e})=>{const{shouldAnimateEdges:t,shouldValidateGraph:n,shouldSnapToGrid:r,shouldColorEdges:o,selectionMode:s}=e;return{shouldAnimateEdges:t,shouldValidateGraph:n,shouldSnapToGrid:r,shouldColorEdges:o,selectionModeIsChecked:s===e9.Full}},Ie),Tge=je((e,t)=>{const{isOpen:n,onOpen:r,onClose:o}=Br(),s=ee(),{shouldAnimateEdges:i,shouldValidateGraph:l,shouldSnapToGrid:c,shouldColorEdges:p,selectionModeIsChecked:h}=V(Age),m=d.useCallback(S=>{s(t9(S.target.checked))},[s]),g=d.useCallback(S=>{s(n9(S.target.checked))},[s]),x=d.useCallback(S=>{s(r9(S.target.checked))},[s]),y=d.useCallback(S=>{s(o9(S.target.checked))},[s]),b=d.useCallback(S=>{s(s9(S.target.checked))},[s]),{t:w}=Z();return a.jsxs(a.Fragment,{children:[a.jsx(ze,{ref:t,"aria-label":w("nodes.workflowSettings"),tooltip:w("nodes.workflowSettings"),icon:a.jsx(VM,{}),onClick:r}),a.jsxs(fl,{isOpen:n,onClose:o,size:"2xl",isCentered:!0,children:[a.jsx(os,{}),a.jsxs(pl,{children:[a.jsx(rs,{children:w("nodes.workflowSettings")}),a.jsx(mf,{}),a.jsx(ss,{children:a.jsxs(N,{sx:{flexDirection:"column",gap:4,py:4},children:[a.jsx(dr,{size:"sm",children:"General"}),a.jsx(pn,{formLabelProps:Ju,onChange:g,isChecked:i,label:w("nodes.animatedEdges"),helperText:w("nodes.animatedEdgesHelp")}),a.jsx(Jn,{}),a.jsx(pn,{formLabelProps:Ju,isChecked:c,onChange:x,label:w("nodes.snapToGrid"),helperText:w("nodes.snapToGridHelp")}),a.jsx(Jn,{}),a.jsx(pn,{formLabelProps:Ju,isChecked:p,onChange:y,label:w("nodes.colorCodeEdges"),helperText:w("nodes.colorCodeEdgesHelp")}),a.jsx(pn,{formLabelProps:Ju,isChecked:h,onChange:b,label:w("nodes.fullyContainNodes"),helperText:w("nodes.fullyContainNodesHelp")}),a.jsx(dr,{size:"sm",pt:4,children:"Advanced"}),a.jsx(pn,{formLabelProps:Ju,isChecked:l,onChange:m,label:w("nodes.validateConnections"),helperText:w("nodes.validateConnectionsHelp")}),a.jsx(Rge,{})]})})]})]})]})}),Nge=d.memo(Tge),$ge=()=>{const e=V(t=>t.nodes.shouldShowFieldTypeLegend);return a.jsxs(N,{sx:{gap:2,position:"absolute",top:2,insetInlineEnd:2},children:[a.jsx(Nge,{}),e&&a.jsx(Oge,{})]})},Lge=d.memo($ge);function zge(){const e=ee(),t=V(o=>o.nodes.nodeOpacity),{t:n}=Z(),r=d.useCallback(o=>{e(a9(o))},[e]);return a.jsx(N,{alignItems:"center",children:a.jsxs(yy,{"aria-label":n("nodes.nodeOpacity"),value:t,min:.5,max:1,step:.01,onChange:r,orientation:"vertical",defaultValue:30,h:"calc(100% - 0.5rem)",children:[a.jsx(wy,{children:a.jsx(Sy,{})}),a.jsx(Cy,{})]})})}const Fge=()=>{const{t:e}=Z(),{zoomIn:t,zoomOut:n,fitView:r}=Tb(),o=ee(),s=V(h=>h.nodes.shouldShowMinimapPanel),i=d.useCallback(()=>{t()},[t]),l=d.useCallback(()=>{n()},[n]),c=d.useCallback(()=>{r()},[r]),p=d.useCallback(()=>{o(i9(!s))},[s,o]);return a.jsxs(Gt,{isAttached:!0,orientation:"vertical",children:[a.jsx(ze,{tooltip:e("nodes.zoomInNodes"),"aria-label":e("nodes.zoomInNodes"),onClick:i,icon:a.jsx(rse,{})}),a.jsx(ze,{tooltip:e("nodes.zoomOutNodes"),"aria-label":e("nodes.zoomOutNodes"),onClick:l,icon:a.jsx(nse,{})}),a.jsx(ze,{tooltip:e("nodes.fitViewportNodes"),"aria-label":e("nodes.fitViewportNodes"),onClick:c,icon:a.jsx(WM,{})}),a.jsx(ze,{tooltip:e(s?"nodes.hideMinimapnodes":"nodes.showMinimapnodes"),"aria-label":e(s?"nodes.hideMinimapnodes":"nodes.showMinimapnodes"),isChecked:s,onClick:p,icon:a.jsx(Oee,{})})]})},Bge=d.memo(Fge),Hge=()=>a.jsxs(N,{sx:{gap:2,position:"absolute",bottom:2,insetInlineStart:2},children:[a.jsx(Bge,{}),a.jsx(zge,{})]}),Vge=d.memo(Hge),Wge=we(Y$),Uge=()=>{const e=V(r=>r.nodes.shouldShowMinimapPanel),t=il("var(--invokeai-colors-accent-300)","var(--invokeai-colors-accent-600)"),n=il("var(--invokeai-colors-blackAlpha-300)","var(--invokeai-colors-blackAlpha-600)");return a.jsx(N,{sx:{gap:2,position:"absolute",bottom:2,insetInlineEnd:2},children:e&&a.jsx(Wge,{pannable:!0,zoomable:!0,nodeBorderRadius:15,sx:{m:"0 !important",backgroundColor:"base.200 !important",borderRadius:"base",_dark:{backgroundColor:"base.500 !important"},svg:{borderRadius:"inherit"}},nodeColor:t,maskColor:n})})},Gge=d.memo(Uge),Kge=()=>{const e=V(n=>n.nodes.isReady),{t}=Z();return a.jsxs(N,{layerStyle:"first",sx:{position:"relative",width:"full",height:"full",borderRadius:"base",alignItems:"center",justifyContent:"center"},children:[a.jsx(pr,{children:e&&a.jsxs(En.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.2}},style:{position:"relative",width:"100%",height:"100%"},children:[a.jsx(vge,{}),a.jsx(phe,{}),a.jsx(bge,{}),a.jsx(Ege,{}),a.jsx(Lge,{}),a.jsx(Vge,{}),a.jsx(Gge,{})]})}),a.jsx(pr,{children:!e&&a.jsx(En.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.2}},style:{position:"absolute",width:"100%",height:"100%"},children:a.jsx(N,{layerStyle:"first",sx:{position:"relative",width:"full",height:"full",borderRadius:"base",alignItems:"center",justifyContent:"center",pointerEvents:"none"},children:a.jsx(er,{label:t("nodes.loadingNodes"),icon:ose})})})})]})},qge=d.memo(Kge),Xge=()=>a.jsx(l9,{children:a.jsx(qge,{})}),Qge=d.memo(Xge),Yge=()=>{const{t:e}=Z(),t=ee(),{data:n}=tf(),r=V(c=>c.system.isConnected),[o,{isLoading:s}]=c9({fixedCacheKey:"clearInvocationCache"}),i=d.useMemo(()=>!(n!=null&&n.size)||!r,[n==null?void 0:n.size,r]);return{clearInvocationCache:d.useCallback(async()=>{if(!i)try{await o().unwrap(),t(ut({title:e("invocationCache.clearSucceeded"),status:"success"}))}catch{t(ut({title:e("invocationCache.clearFailed"),status:"error"}))}},[i,o,t,e]),isLoading:s,cacheStatus:n,isDisabled:i}},Zge=()=>{const{t:e}=Z(),{clearInvocationCache:t,isDisabled:n,isLoading:r}=Yge();return a.jsx(it,{isDisabled:n,isLoading:r,onClick:t,children:e("invocationCache.clear")})},Jge=d.memo(Zge),e0e=()=>{const{t:e}=Z(),t=ee(),{data:n}=tf(),r=V(c=>c.system.isConnected),[o,{isLoading:s}]=u9({fixedCacheKey:"disableInvocationCache"}),i=d.useMemo(()=>!(n!=null&&n.enabled)||!r||(n==null?void 0:n.max_size)===0,[n==null?void 0:n.enabled,n==null?void 0:n.max_size,r]);return{disableInvocationCache:d.useCallback(async()=>{if(!i)try{await o().unwrap(),t(ut({title:e("invocationCache.disableSucceeded"),status:"success"}))}catch{t(ut({title:e("invocationCache.disableFailed"),status:"error"}))}},[i,o,t,e]),isLoading:s,cacheStatus:n,isDisabled:i}},t0e=()=>{const{t:e}=Z(),t=ee(),{data:n}=tf(),r=V(c=>c.system.isConnected),[o,{isLoading:s}]=d9({fixedCacheKey:"enableInvocationCache"}),i=d.useMemo(()=>(n==null?void 0:n.enabled)||!r||(n==null?void 0:n.max_size)===0,[n==null?void 0:n.enabled,n==null?void 0:n.max_size,r]);return{enableInvocationCache:d.useCallback(async()=>{if(!i)try{await o().unwrap(),t(ut({title:e("invocationCache.enableSucceeded"),status:"success"}))}catch{t(ut({title:e("invocationCache.enableFailed"),status:"error"}))}},[i,o,t,e]),isLoading:s,cacheStatus:n,isDisabled:i}},n0e=()=>{const{t:e}=Z(),{data:t}=tf(),{enableInvocationCache:n,isDisabled:r,isLoading:o}=t0e(),{disableInvocationCache:s,isDisabled:i,isLoading:l}=e0e();return t!=null&&t.enabled?a.jsx(it,{isDisabled:i,isLoading:l,onClick:s,children:e("invocationCache.disable")}):a.jsx(it,{isDisabled:r,isLoading:o,onClick:n,children:e("invocationCache.enable")})},r0e=d.memo(n0e),o0e=({children:e,...t})=>a.jsx(B3,{alignItems:"center",justifyContent:"center",w:"full",h:"full",layerStyle:"second",borderRadius:"base",py:2,px:3,gap:6,flexWrap:"nowrap",...t,children:e}),J7=d.memo(o0e),s0e={'&[aria-disabled="true"]':{color:"base.400",_dark:{color:"base.500"}}},a0e=({label:e,value:t,isDisabled:n=!1,...r})=>a.jsxs(F3,{flexGrow:1,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap","aria-disabled":n,sx:s0e,...r,children:[a.jsx(H3,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:e}),a.jsx(V3,{children:t})]}),js=d.memo(a0e),i0e=()=>{const{t:e}=Z(),t=V(o=>o.system.isConnected),{data:n}=Hs(void 0),{data:r}=tf(void 0,{pollingInterval:t&&(n!=null&&n.processor.is_started)&&(n==null?void 0:n.queue.pending)>0?5e3:0});return a.jsxs(J7,{children:[a.jsx(js,{isDisabled:!(r!=null&&r.enabled),label:e("invocationCache.cacheSize"),value:(r==null?void 0:r.size)??0}),a.jsx(js,{isDisabled:!(r!=null&&r.enabled),label:e("invocationCache.hits"),value:(r==null?void 0:r.hits)??0}),a.jsx(js,{isDisabled:!(r!=null&&r.enabled),label:e("invocationCache.misses"),value:(r==null?void 0:r.misses)??0}),a.jsx(js,{isDisabled:!(r!=null&&r.enabled),label:e("invocationCache.maxCacheSize"),value:(r==null?void 0:r.max_size)??0}),a.jsxs(Gt,{w:24,orientation:"vertical",size:"xs",children:[a.jsx(Jge,{}),a.jsx(r0e,{})]})]})},l0e=d.memo(i0e),eD=e=>{const t=V(l=>l.system.isConnected),[n,{isLoading:r}]=Pb(),o=ee(),{t:s}=Z();return{cancelQueueItem:d.useCallback(async()=>{try{await n(e).unwrap(),o(ut({title:s("queue.cancelSucceeded"),status:"success"}))}catch{o(ut({title:s("queue.cancelFailed"),status:"error"}))}},[o,e,s,n]),isLoading:r,isDisabled:!t}},tD=(e,t)=>Number(((Date.parse(t)-Date.parse(e))/1e3).toFixed(2)),d_={pending:{colorScheme:"cyan",translationKey:"queue.pending"},in_progress:{colorScheme:"yellow",translationKey:"queue.in_progress"},completed:{colorScheme:"green",translationKey:"queue.completed"},failed:{colorScheme:"red",translationKey:"queue.failed"},canceled:{colorScheme:"orange",translationKey:"queue.canceled"}},c0e=({status:e})=>{const{t}=Z();return a.jsx(Ws,{colorScheme:d_[e].colorScheme,children:t(d_[e].translationKey)})},u0e=d.memo(c0e),d0e=e=>{const t=V(c=>c.system.isConnected),{isCanceled:n}=f9({batch_id:e},{selectFromResult:({data:c})=>c?{isCanceled:(c==null?void 0:c.in_progress)===0&&(c==null?void 0:c.pending)===0}:{isCanceled:!0}}),[r,{isLoading:o}]=p9({fixedCacheKey:"cancelByBatchIds"}),s=ee(),{t:i}=Z();return{cancelBatch:d.useCallback(async()=>{if(!n)try{await r({batch_ids:[e]}).unwrap(),s(ut({title:i("queue.cancelBatchSucceeded"),status:"success"}))}catch{s(ut({title:i("queue.cancelBatchFailed"),status:"error"}))}},[e,s,n,i,r]),isLoading:o,isCanceled:n,isDisabled:!t}},f0e=({queueItemDTO:e})=>{const{session_id:t,batch_id:n,item_id:r}=e,{t:o}=Z(),{cancelBatch:s,isLoading:i,isCanceled:l}=d0e(n),{cancelQueueItem:c,isLoading:p}=eD(r),{data:h}=h9(r),m=d.useMemo(()=>{if(!h)return o("common.loading");if(!h.completed_at||!h.started_at)return o(`queue.${h.status}`);const g=tD(h.started_at,h.completed_at);return h.status==="completed"?`${o("queue.completedIn")} ${g}${g===1?"":"s"}`:`${g}s`},[h,o]);return a.jsxs(N,{layerStyle:"third",flexDir:"column",p:2,pt:0,borderRadius:"base",gap:2,children:[a.jsxs(N,{layerStyle:"second",p:2,gap:2,justifyContent:"space-between",alignItems:"center",borderRadius:"base",h:20,children:[a.jsx(dh,{label:o("queue.status"),data:m}),a.jsx(dh,{label:o("queue.item"),data:r}),a.jsx(dh,{label:o("queue.batch"),data:n}),a.jsx(dh,{label:o("queue.session"),data:t}),a.jsxs(Gt,{size:"xs",orientation:"vertical",children:[a.jsx(it,{onClick:c,isLoading:p,isDisabled:h?["canceled","completed","failed"].includes(h.status):!0,"aria-label":o("queue.cancelItem"),icon:a.jsx(Rd,{}),colorScheme:"error",children:o("queue.cancelItem")}),a.jsx(it,{onClick:s,isLoading:i,isDisabled:l,"aria-label":o("queue.cancelBatch"),icon:a.jsx(Rd,{}),colorScheme:"error",children:o("queue.cancelBatch")})]})]}),(h==null?void 0:h.error)&&a.jsxs(N,{layerStyle:"second",p:3,gap:1,justifyContent:"space-between",alignItems:"flex-start",borderRadius:"base",flexDir:"column",children:[a.jsx(dr,{size:"sm",color:"error.500",_dark:{color:"error.400"},children:"Error"}),a.jsx("pre",{children:h.error})]}),a.jsx(N,{layerStyle:"second",h:512,w:"full",borderRadius:"base",alignItems:"center",justifyContent:"center",children:h?a.jsx(Mf,{children:a.jsx(di,{label:"Queue Item",data:h})}):a.jsx(xi,{opacity:.5})})]})},p0e=d.memo(f0e),dh=({label:e,data:t})=>a.jsxs(N,{flexDir:"column",justifyContent:"flex-start",p:1,gap:1,overflow:"hidden",h:"full",w:"full",children:[a.jsx(dr,{size:"md",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:e}),a.jsx(ge,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:t})]}),_s={number:"3rem",statusBadge:"5.7rem",statusDot:2,time:"4rem",batchId:"5rem",fieldValues:"auto",actions:"auto"},f_={bg:"base.300",_dark:{bg:"base.750"}},h0e={_hover:f_,"&[aria-selected='true']":f_},m0e=({index:e,item:t,context:n})=>{const{t:r}=Z(),o=d.useCallback(()=>{n.toggleQueueItem(t.item_id)},[n,t.item_id]),{cancelQueueItem:s,isLoading:i}=eD(t.item_id),l=d.useCallback(m=>{m.stopPropagation(),s()},[s]),c=d.useMemo(()=>n.openQueueItems.includes(t.item_id),[n.openQueueItems,t.item_id]),p=d.useMemo(()=>!t.completed_at||!t.started_at?void 0:`${tD(t.started_at,t.completed_at)}s`,[t]),h=d.useMemo(()=>["canceled","completed","failed"].includes(t.status),[t.status]);return a.jsxs(N,{flexDir:"column","aria-selected":c,fontSize:"sm",borderRadius:"base",justifyContent:"center",sx:h0e,children:[a.jsxs(N,{minH:9,alignItems:"center",gap:4,p:1.5,cursor:"pointer",onClick:o,children:[a.jsx(N,{w:_s.number,justifyContent:"flex-end",alignItems:"center",flexShrink:0,children:a.jsx(ge,{variant:"subtext",children:e+1})}),a.jsx(N,{w:_s.statusBadge,alignItems:"center",flexShrink:0,children:a.jsx(u0e,{status:t.status})}),a.jsx(N,{w:_s.time,alignItems:"center",flexShrink:0,children:p||"-"}),a.jsx(N,{w:_s.batchId,flexShrink:0,children:a.jsx(ge,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",alignItems:"center",children:t.batch_id})}),a.jsx(N,{alignItems:"center",overflow:"hidden",flexGrow:1,children:t.field_values&&a.jsx(N,{gap:2,w:"full",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",children:t.field_values.filter(m=>m.node_path!=="metadata_accumulator").map(({node_path:m,field_name:g,value:x})=>a.jsxs(ge,{as:"span",children:[a.jsxs(ge,{as:"span",fontWeight:600,children:[m,".",g]}),": ",x]},`${t.item_id}.${m}.${g}.${x}`))})}),a.jsx(N,{alignItems:"center",w:_s.actions,pe:3,children:a.jsx(Gt,{size:"xs",variant:"ghost",children:a.jsx(ze,{onClick:l,isDisabled:h,isLoading:i,"aria-label":r("queue.cancelItem"),icon:a.jsx(Rd,{})})})})]}),a.jsx(of,{in:c,transition:{enter:{duration:.1},exit:{duration:.1}},unmountOnExit:!0,children:a.jsx(p0e,{queueItemDTO:t})})]})},g0e=d.memo(m0e),v0e=d.memo(je((e,t)=>a.jsx(N,{...e,ref:t,flexDirection:"column",gap:.5,children:e.children}))),x0e=d.memo(v0e),b0e=()=>a.jsxs(N,{alignItems:"center",gap:4,p:1,pb:2,textTransform:"uppercase",fontWeight:700,fontSize:"xs",letterSpacing:1,children:[a.jsx(N,{w:_s.number,justifyContent:"flex-end",alignItems:"center",children:a.jsx(ge,{variant:"subtext",children:"#"})}),a.jsx(N,{ps:.5,w:_s.statusBadge,alignItems:"center",children:a.jsx(ge,{variant:"subtext",children:"status"})}),a.jsx(N,{ps:.5,w:_s.time,alignItems:"center",children:a.jsx(ge,{variant:"subtext",children:"time"})}),a.jsx(N,{ps:.5,w:_s.batchId,alignItems:"center",children:a.jsx(ge,{variant:"subtext",children:"batch"})}),a.jsx(N,{ps:.5,w:_s.fieldValues,alignItems:"center",children:a.jsx(ge,{variant:"subtext",children:"batch field values"})})]}),y0e=d.memo(b0e),C0e={defer:!0,options:{scrollbars:{visibility:"auto",autoHide:"scroll",autoHideDelay:1300,theme:"os-theme-dark"},overflow:{x:"hidden"}}},w0e=le(xe,({queue:e})=>{const{listCursor:t,listPriority:n}=e;return{listCursor:t,listPriority:n}},Ie),S0e=(e,t)=>t.item_id,k0e={List:x0e},j0e=(e,t,n)=>a.jsx(g0e,{index:e,item:t,context:n}),I0e=()=>{const{listCursor:e,listPriority:t}=V(w0e),n=ee(),r=d.useRef(null),[o,s]=d.useState(null),[i,l]=s2(C0e),{t:c}=Z();d.useEffect(()=>{const{current:w}=r;return o&&w&&i({target:w,elements:{viewport:o}}),()=>{var S;return(S=l())==null?void 0:S.destroy()}},[o,i,l]);const{data:p}=m9({cursor:e,priority:t}),h=d.useMemo(()=>p?g9.getSelectors().selectAll(p):[],[p]),m=d.useCallback(()=>{if(!(p!=null&&p.has_more))return;const w=h[h.length-1];w&&(n(Eb(w.item_id)),n(Mb(w.priority)))},[n,p==null?void 0:p.has_more,h]),[g,x]=d.useState([]),y=d.useCallback(w=>{x(S=>S.includes(w)?S.filter(j=>j!==w):[...S,w])},[]),b=d.useMemo(()=>({openQueueItems:g,toggleQueueItem:y}),[g,y]);return a.jsx(N,{w:"full",h:"full",flexDir:"column",children:h.length?a.jsxs(a.Fragment,{children:[a.jsx(y0e,{}),a.jsx(N,{ref:r,w:"full",h:"full",alignItems:"center",justifyContent:"center",children:a.jsx(Ooe,{data:h,endReached:m,scrollerRef:s,itemContent:j0e,computeItemKey:S0e,components:k0e,context:b})})]}):a.jsx(N,{w:"full",h:"full",alignItems:"center",justifyContent:"center",children:a.jsx(dr,{color:"base.400",_dark:{color:"base.500"},children:c("queue.queueEmpty")})})})},_0e=d.memo(I0e),P0e=()=>{const{data:e}=Hs(),{t}=Z();return a.jsxs(J7,{children:[a.jsx(js,{label:t("queue.in_progress"),value:(e==null?void 0:e.queue.in_progress)??0}),a.jsx(js,{label:t("queue.pending"),value:(e==null?void 0:e.queue.pending)??0}),a.jsx(js,{label:t("queue.completed"),value:(e==null?void 0:e.queue.completed)??0}),a.jsx(js,{label:t("queue.failed"),value:(e==null?void 0:e.queue.failed)??0}),a.jsx(js,{label:t("queue.canceled"),value:(e==null?void 0:e.queue.canceled)??0}),a.jsx(js,{label:t("queue.total"),value:(e==null?void 0:e.queue.total)??0})]})},E0e=d.memo(P0e);function M0e(e){return Ne({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828l.645-1.937zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.734 1.734 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.734 1.734 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.734 1.734 0 0 0 3.407 2.31l.387-1.162zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L10.863.1z"}}]})(e)}const O0e=()=>{const e=ee(),{t}=Z(),n=V(c=>c.system.isConnected),[r,{isLoading:o}]=f5({fixedCacheKey:"pruneQueue"}),{finishedCount:s}=Hs(void 0,{selectFromResult:({data:c})=>c?{finishedCount:c.queue.completed+c.queue.canceled+c.queue.failed}:{finishedCount:0}}),i=d.useCallback(async()=>{if(s)try{const c=await r().unwrap();e(ut({title:t("queue.pruneSucceeded",{item_count:c.deleted}),status:"success"})),e(Eb(void 0)),e(Mb(void 0))}catch{e(ut({title:t("queue.pruneFailed"),status:"error"}))}},[s,r,e,t]),l=d.useMemo(()=>!n||!s,[s,n]);return{pruneQueue:i,isLoading:o,finishedCount:s,isDisabled:l}},D0e=({asIconButton:e})=>{const{t}=Z(),{pruneQueue:n,isLoading:r,finishedCount:o,isDisabled:s}=O0e();return a.jsx(Ml,{isDisabled:s,isLoading:r,asIconButton:e,label:t("queue.prune"),tooltip:t("queue.pruneTooltip",{item_count:o}),icon:a.jsx(M0e,{}),onClick:n,colorScheme:"blue"})},R0e=d.memo(D0e),A0e=()=>{const e=Kt("pauseQueue").isFeatureEnabled,t=Kt("resumeQueue").isFeatureEnabled;return a.jsxs(N,{layerStyle:"second",borderRadius:"base",p:2,gap:2,children:[e||t?a.jsxs(Gt,{w:28,orientation:"vertical",isAttached:!0,size:"sm",children:[t?a.jsx(EO,{}):a.jsx(a.Fragment,{}),e?a.jsx(SO,{}):a.jsx(a.Fragment,{})]}):a.jsx(a.Fragment,{}),a.jsxs(Gt,{w:28,orientation:"vertical",isAttached:!0,size:"sm",children:[a.jsx(R0e,{}),a.jsx(k2,{})]})]})},T0e=d.memo(A0e),N0e=()=>{const e=Kt("invocationCache").isFeatureEnabled;return a.jsxs(N,{layerStyle:"first",borderRadius:"base",w:"full",h:"full",p:2,flexDir:"column",gap:2,children:[a.jsxs(N,{gap:2,w:"full",children:[a.jsx(T0e,{}),a.jsx(E0e,{}),e&&a.jsx(l0e,{})]}),a.jsx(_e,{layerStyle:"second",p:2,borderRadius:"base",w:"full",h:"full",children:a.jsx(_0e,{})})]})},$0e=d.memo(N0e),L0e=()=>a.jsx($0e,{}),z0e=d.memo(L0e),F0e=()=>a.jsx(_7,{}),B0e=d.memo(F0e);var pb={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;var n=fS;Object.defineProperty(t,"Konva",{enumerable:!0,get:function(){return n.Konva}});const r=fS;e.exports=r.Konva})(pb,pb.exports);var H0e=pb.exports;const Wd=ou(H0e);var nD={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0e=function(t){var n={},r=d,o=fh,s=Object.assign;function i(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,v=1;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),p=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),_=Symbol.iterator;function E(u){return u===null||typeof u!="object"?null:(u=_&&u[_]||u["@@iterator"],typeof u=="function"?u:null)}function D(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case h:return"Fragment";case p:return"Portal";case g:return"Profiler";case m:return"StrictMode";case w:return"Suspense";case S:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case y:return(u.displayName||"Context")+".Consumer";case x:return(u._context.displayName||"Context")+".Provider";case b:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case j:return f=u.displayName||null,f!==null?f:D(u.type)||"Memo";case I:f=u._payload,u=u._init;try{return D(u(f))}catch{}}return null}function R(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D(f);case 8:return f===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function A(u){var f=u,v=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(v=f.return),u=f.return;while(u)}return f.tag===3?v:null}function O(u){if(A(u)!==u)throw Error(i(188))}function T(u){var f=u.alternate;if(!f){if(f=A(u),f===null)throw Error(i(188));return f!==u?null:u}for(var v=u,C=f;;){var k=v.return;if(k===null)break;var P=k.alternate;if(P===null){if(C=k.return,C!==null){v=C;continue}break}if(k.child===P.child){for(P=k.child;P;){if(P===v)return O(k),u;if(P===C)return O(k),f;P=P.sibling}throw Error(i(188))}if(v.return!==C.return)v=k,C=P;else{for(var $=!1,ne=k.child;ne;){if(ne===v){$=!0,v=k,C=P;break}if(ne===C){$=!0,C=k,v=P;break}ne=ne.sibling}if(!$){for(ne=P.child;ne;){if(ne===v){$=!0,v=P,C=k;break}if(ne===C){$=!0,C=P,v=k;break}ne=ne.sibling}if(!$)throw Error(i(189))}}if(v.alternate!==C)throw Error(i(190))}if(v.tag!==3)throw Error(i(188));return v.stateNode.current===v?u:f}function K(u){return u=T(u),u!==null?L(u):null}function L(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=L(u);if(f!==null)return f;u=u.sibling}return null}function H(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var f=H(u);if(f!==null)return f}u=u.sibling}return null}var U=Array.isArray,W=t.getPublicInstance,z=t.getRootHostContext,Q=t.getChildHostContext,F=t.prepareForCommit,X=t.resetAfterCommit,Y=t.createInstance,se=t.appendInitialChild,ae=t.finalizeInitialChildren,oe=t.prepareUpdate,q=t.shouldSetTextContent,G=t.createTextInstance,te=t.scheduleTimeout,ce=t.cancelTimeout,J=t.noTimeout,ie=t.isPrimaryRenderer,de=t.supportsMutation,me=t.supportsPersistence,Ce=t.supportsHydration,ve=t.getInstanceFromNode,pe=t.preparePortalMount,Re=t.getCurrentEventPriority,Pe=t.detachDeletedInstance,Ve=t.supportsMicrotasks,lt=t.scheduleMicrotask,Ke=t.supportsTestSelectors,Et=t.findFiberRoot,et=t.getBoundingRect,ot=t.getTextContent,ye=t.isHiddenSubtree,Ae=t.matchAccessibilityRole,dt=t.setFocusIfFocusable,yt=t.setupIntersectionObserver,be=t.appendChild,tt=t.appendChildToContainer,ct=t.commitTextUpdate,pt=t.commitMount,Oe=t.commitUpdate,$e=t.insertBefore,Wt=t.insertInContainerBefore,ke=t.removeChild,Fe=t.removeChildFromContainer,Le=t.resetTextContent,Ge=t.hideInstance,ht=t.hideTextInstance,Mn=t.unhideInstance,At=t.unhideTextInstance,Tt=t.clearContainer,gr=t.cloneInstance,Fn=t.createContainerChildSet,In=t.appendChildToContainerChildSet,xn=t.finalizeContainerChildren,ln=t.replaceContainerChildren,Ir=t.cloneHiddenInstance,$o=t.cloneHiddenTextInstance,vr=t.canHydrateInstance,xr=t.canHydrateTextInstance,Ks=t.canHydrateSuspenseInstance,qs=t.isSuspenseInstancePending,Aa=t.isSuspenseInstanceFallback,Ta=t.getSuspenseInstanceFallbackErrorDetails,Al=t.registerSuspenseInstanceRetry,Na=t.getNextHydratableSibling,Tl=t.getFirstHydratableChild,Ye=t.getFirstHydratableChildWithinContainer,Ut=t.getFirstHydratableChildWithinSuspenseInstance,Bn=t.hydrateInstance,kt=t.hydrateTextInstance,$a=t.hydrateSuspenseInstance,Gr=t.getNextHydratableInstanceAfterSuspenseInstance,Df=t.commitHydratedContainer,m0=t.commitHydratedSuspenseInstance,g0=t.clearSuspenseBoundary,Hn=t.clearSuspenseBoundaryFromContainer,Xs=t.shouldDeleteUnhydratedTailInstances,Rf=t.didNotMatchHydratedContainerTextInstance,Nl=t.didNotMatchHydratedTextInstance,wu;function Ei(u){if(wu===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);wu=f&&f[1]||""}return`
`+wu+u}var Su=!1;function ku(u,f){if(!u||Su)return"";Su=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Me){var C=Me}Reflect.construct(u,[],f)}else{try{f.call()}catch(Me){C=Me}u.call(f.prototype)}else{try{throw Error()}catch(Me){C=Me}u()}}catch(Me){if(Me&&C&&typeof Me.stack=="string"){for(var k=Me.stack.split(`
`),P=C.stack.split(`
`),$=k.length-1,ne=P.length-1;1<=$&&0<=ne&&k[$]!==P[ne];)ne--;for(;1<=$&&0<=ne;$--,ne--)if(k[$]!==P[ne]){if($!==1||ne!==1)do if($--,ne--,0>ne||k[$]!==P[ne]){var fe=`
`+k[$].replace(" at new "," at ");return u.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",u.displayName)),fe}while(1<=$&&0<=ne);break}}}finally{Su=!1,Error.prepareStackTrace=v}return(u=u?u.displayName||u.name:"")?Ei(u):""}var v0=Object.prototype.hasOwnProperty,La=[],rt=-1;function Ot(u){return{current:u}}function jt(u){0>rt||(u.current=La[rt],La[rt]=null,rt--)}function Dt(u,f){rt++,La[rt]=u.current,u.current=f}var or={},on=Ot(or),Tn=Ot(!1),br=or;function $l(u,f){var v=u.type.contextTypes;if(!v)return or;var C=u.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===f)return C.__reactInternalMemoizedMaskedChildContext;var k={},P;for(P in v)k[P]=f[P];return C&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=k),k}function _r(u){return u=u.childContextTypes,u!=null}function Af(){jt(Tn),jt(on)}function K2(u,f,v){if(on.current!==or)throw Error(i(168));Dt(on,f),Dt(Tn,v)}function q2(u,f,v){var C=u.stateNode;if(f=f.childContextTypes,typeof C.getChildContext!="function")return v;C=C.getChildContext();for(var k in C)if(!(k in f))throw Error(i(108,R(u)||"Unknown",k));return s({},v,C)}function Tf(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||or,br=on.current,Dt(on,u),Dt(Tn,Tn.current),!0}function X2(u,f,v){var C=u.stateNode;if(!C)throw Error(i(169));v?(u=q2(u,f,br),C.__reactInternalMemoizedMergedChildContext=u,jt(Tn),jt(on),Dt(on,u)):jt(Tn),Dt(Tn,v)}var Lo=Math.clz32?Math.clz32:gD,hD=Math.log,mD=Math.LN2;function gD(u){return u>>>=0,u===0?32:31-(hD(u)/mD|0)|0}var Nf=64,$f=4194304;function ju(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Lf(u,f){var v=u.pendingLanes;if(v===0)return 0;var C=0,k=u.suspendedLanes,P=u.pingedLanes,$=v&268435455;if($!==0){var ne=$&~k;ne!==0?C=ju(ne):(P&=$,P!==0&&(C=ju(P)))}else $=v&~k,$!==0?C=ju($):P!==0&&(C=ju(P));if(C===0)return 0;if(f!==0&&f!==C&&!(f&k)&&(k=C&-C,P=f&-f,k>=P||k===16&&(P&4194240)!==0))return f;if(C&4&&(C|=v&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=C;0<f;)v=31-Lo(f),k=1<<v,C|=u[v],f&=~k;return C}function vD(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xD(u,f){for(var v=u.suspendedLanes,C=u.pingedLanes,k=u.expirationTimes,P=u.pendingLanes;0<P;){var $=31-Lo(P),ne=1<<$,fe=k[$];fe===-1?(!(ne&v)||ne&C)&&(k[$]=vD(ne,f)):fe<=f&&(u.expiredLanes|=ne),P&=~ne}}function x0(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Q2(){var u=Nf;return Nf<<=1,!(Nf&4194240)&&(Nf=64),u}function b0(u){for(var f=[],v=0;31>v;v++)f.push(u);return f}function Iu(u,f,v){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-Lo(f),u[f]=v}function bD(u,f){var v=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var C=u.eventTimes;for(u=u.expirationTimes;0<v;){var k=31-Lo(v),P=1<<k;f[k]=0,C[k]=-1,u[k]=-1,v&=~P}}function y0(u,f){var v=u.entangledLanes|=f;for(u=u.entanglements;v;){var C=31-Lo(v),k=1<<C;k&f|u[C]&f&&(u[C]|=f),v&=~k}}var $t=0;function Y2(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var C0=o.unstable_scheduleCallback,Z2=o.unstable_cancelCallback,yD=o.unstable_shouldYield,CD=o.unstable_requestPaint,qn=o.unstable_now,w0=o.unstable_ImmediatePriority,wD=o.unstable_UserBlockingPriority,S0=o.unstable_NormalPriority,SD=o.unstable_IdlePriority,zf=null,fs=null;function kD(u){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(zf,u,void 0,(u.current.flags&128)===128)}catch{}}function jD(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var zo=typeof Object.is=="function"?Object.is:jD,Qs=null,Ff=!1,k0=!1;function J2(u){Qs===null?Qs=[u]:Qs.push(u)}function ID(u){Ff=!0,J2(u)}function ps(){if(!k0&&Qs!==null){k0=!0;var u=0,f=$t;try{var v=Qs;for($t=1;u<v.length;u++){var C=v[u];do C=C(!0);while(C!==null)}Qs=null,Ff=!1}catch(k){throw Qs!==null&&(Qs=Qs.slice(u+1)),C0(w0,ps),k}finally{$t=f,k0=!1}}return null}var Ll=[],zl=0,Bf=null,Hf=0,co=[],uo=0,Mi=null,Ys=1,Zs="";function Oi(u,f){Ll[zl++]=Hf,Ll[zl++]=Bf,Bf=u,Hf=f}function eC(u,f,v){co[uo++]=Ys,co[uo++]=Zs,co[uo++]=Mi,Mi=u;var C=Ys;u=Zs;var k=32-Lo(C)-1;C&=~(1<<k),v+=1;var P=32-Lo(f)+k;if(30<P){var $=k-k%5;P=(C&(1<<$)-1).toString(32),C>>=$,k-=$,Ys=1<<32-Lo(f)+k|v<<k|C,Zs=P+u}else Ys=1<<P|v<<k|C,Zs=u}function j0(u){u.return!==null&&(Oi(u,1),eC(u,1,0))}function I0(u){for(;u===Bf;)Bf=Ll[--zl],Ll[zl]=null,Hf=Ll[--zl],Ll[zl]=null;for(;u===Mi;)Mi=co[--uo],co[uo]=null,Zs=co[--uo],co[uo]=null,Ys=co[--uo],co[uo]=null}var Kr=null,fo=null,cn=!1,_u=!1,Fo=null;function tC(u,f){var v=vo(5,null,null,0);v.elementType="DELETED",v.stateNode=f,v.return=u,f=u.deletions,f===null?(u.deletions=[v],u.flags|=16):f.push(v)}function nC(u,f){switch(u.tag){case 5:return f=vr(f,u.type,u.pendingProps),f!==null?(u.stateNode=f,Kr=u,fo=Tl(f),!0):!1;case 6:return f=xr(f,u.pendingProps),f!==null?(u.stateNode=f,Kr=u,fo=null,!0):!1;case 13:if(f=Ks(f),f!==null){var v=Mi!==null?{id:Ys,overflow:Zs}:null;return u.memoizedState={dehydrated:f,treeContext:v,retryLane:1073741824},v=vo(18,null,null,0),v.stateNode=f,v.return=u,u.child=v,Kr=u,fo=null,!0}return!1;default:return!1}}function _0(u){return(u.mode&1)!==0&&(u.flags&128)===0}function P0(u){if(cn){var f=fo;if(f){var v=f;if(!nC(u,f)){if(_0(u))throw Error(i(418));f=Na(v);var C=Kr;f&&nC(u,f)?tC(C,v):(u.flags=u.flags&-4097|2,cn=!1,Kr=u)}}else{if(_0(u))throw Error(i(418));u.flags=u.flags&-4097|2,cn=!1,Kr=u}}}function rC(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Kr=u}function Vf(u){if(!Ce||u!==Kr)return!1;if(!cn)return rC(u),cn=!0,!1;if(u.tag!==3&&(u.tag!==5||Xs(u.type)&&!q(u.type,u.memoizedProps))){var f=fo;if(f){if(_0(u))throw oC(),Error(i(418));for(;f;)tC(u,f),f=Na(f)}}if(rC(u),u.tag===13){if(!Ce)throw Error(i(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));fo=Gr(u)}else fo=Kr?Na(u.stateNode):null;return!0}function oC(){for(var u=fo;u;)u=Na(u)}function Fl(){Ce&&(fo=Kr=null,_u=cn=!1)}function E0(u){Fo===null?Fo=[u]:Fo.push(u)}var _D=l.ReactCurrentBatchConfig;function Wf(u,f){if(zo(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var v=Object.keys(u),C=Object.keys(f);if(v.length!==C.length)return!1;for(C=0;C<v.length;C++){var k=v[C];if(!v0.call(f,k)||!zo(u[k],f[k]))return!1}return!0}function PD(u){switch(u.tag){case 5:return Ei(u.type);case 16:return Ei("Lazy");case 13:return Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 2:case 15:return u=ku(u.type,!1),u;case 11:return u=ku(u.type.render,!1),u;case 1:return u=ku(u.type,!0),u;default:return""}}function Bo(u,f){if(u&&u.defaultProps){f=s({},f),u=u.defaultProps;for(var v in u)f[v]===void 0&&(f[v]=u[v]);return f}return f}var Uf=Ot(null),Gf=null,Bl=null,M0=null;function O0(){M0=Bl=Gf=null}function sC(u,f,v){ie?(Dt(Uf,f._currentValue),f._currentValue=v):(Dt(Uf,f._currentValue2),f._currentValue2=v)}function D0(u){var f=Uf.current;jt(Uf),ie?u._currentValue=f:u._currentValue2=f}function R0(u,f,v){for(;u!==null;){var C=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,C!==null&&(C.childLanes|=f)):C!==null&&(C.childLanes&f)!==f&&(C.childLanes|=f),u===v)break;u=u.return}}function Hl(u,f){Gf=u,M0=Bl=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&f&&(Pr=!0),u.firstContext=null)}function po(u){var f=ie?u._currentValue:u._currentValue2;if(M0!==u)if(u={context:u,memoizedValue:f,next:null},Bl===null){if(Gf===null)throw Error(i(308));Bl=u,Gf.dependencies={lanes:0,firstContext:u}}else Bl=Bl.next=u;return f}var Di=null;function A0(u){Di===null?Di=[u]:Di.push(u)}function aC(u,f,v,C){var k=f.interleaved;return k===null?(v.next=v,A0(f)):(v.next=k.next,k.next=v),f.interleaved=v,hs(u,C)}function hs(u,f){u.lanes|=f;var v=u.alternate;for(v!==null&&(v.lanes|=f),v=u,u=u.return;u!==null;)u.childLanes|=f,v=u.alternate,v!==null&&(v.childLanes|=f),v=u,u=u.return;return v.tag===3?v.stateNode:null}var za=!1;function T0(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iC(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Js(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function Fa(u,f,v){var C=u.updateQueue;if(C===null)return null;if(C=C.shared,It&2){var k=C.pending;return k===null?f.next=f:(f.next=k.next,k.next=f),C.pending=f,hs(u,v)}return k=C.interleaved,k===null?(f.next=f,A0(C)):(f.next=k.next,k.next=f),C.interleaved=f,hs(u,v)}function Kf(u,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194240)!==0)){var C=f.lanes;C&=u.pendingLanes,v|=C,f.lanes=v,y0(u,v)}}function lC(u,f){var v=u.updateQueue,C=u.alternate;if(C!==null&&(C=C.updateQueue,v===C)){var k=null,P=null;if(v=v.firstBaseUpdate,v!==null){do{var $={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};P===null?k=P=$:P=P.next=$,v=v.next}while(v!==null);P===null?k=P=f:P=P.next=f}else k=P=f;v={baseState:C.baseState,firstBaseUpdate:k,lastBaseUpdate:P,shared:C.shared,effects:C.effects},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=f:u.next=f,v.lastBaseUpdate=f}function qf(u,f,v,C){var k=u.updateQueue;za=!1;var P=k.firstBaseUpdate,$=k.lastBaseUpdate,ne=k.shared.pending;if(ne!==null){k.shared.pending=null;var fe=ne,Me=fe.next;fe.next=null,$===null?P=Me:$.next=Me,$=fe;var Xe=u.alternate;Xe!==null&&(Xe=Xe.updateQueue,ne=Xe.lastBaseUpdate,ne!==$&&(ne===null?Xe.firstBaseUpdate=Me:ne.next=Me,Xe.lastBaseUpdate=fe))}if(P!==null){var xt=k.baseState;$=0,Xe=Me=fe=null,ne=P;do{var We=ne.lane,an=ne.eventTime;if((C&We)===We){Xe!==null&&(Xe=Xe.next={eventTime:an,lane:0,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null});e:{var Jt=u,Or=ne;switch(We=f,an=v,Or.tag){case 1:if(Jt=Or.payload,typeof Jt=="function"){xt=Jt.call(an,xt,We);break e}xt=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=Or.payload,We=typeof Jt=="function"?Jt.call(an,xt,We):Jt,We==null)break e;xt=s({},xt,We);break e;case 2:za=!0}}ne.callback!==null&&ne.lane!==0&&(u.flags|=64,We=k.effects,We===null?k.effects=[ne]:We.push(ne))}else an={eventTime:an,lane:We,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},Xe===null?(Me=Xe=an,fe=xt):Xe=Xe.next=an,$|=We;if(ne=ne.next,ne===null){if(ne=k.shared.pending,ne===null)break;We=ne,ne=We.next,We.next=null,k.lastBaseUpdate=We,k.shared.pending=null}}while(1);if(Xe===null&&(fe=xt),k.baseState=fe,k.firstBaseUpdate=Me,k.lastBaseUpdate=Xe,f=k.shared.interleaved,f!==null){k=f;do $|=k.lane,k=k.next;while(k!==f)}else P===null&&(k.shared.lanes=0);Ai|=$,u.lanes=$,u.memoizedState=xt}}function cC(u,f,v){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var C=u[f],k=C.callback;if(k!==null){if(C.callback=null,C=v,typeof k!="function")throw Error(i(191,k));k.call(C)}}}var uC=new r.Component().refs;function N0(u,f,v,C){f=u.memoizedState,v=v(C,f),v=v==null?f:s({},f,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var Xf={isMounted:function(u){return(u=u._reactInternals)?A(u)===u:!1},enqueueSetState:function(u,f,v){u=u._reactInternals;var C=lr(),k=Va(u),P=Js(C,k);P.payload=f,v!=null&&(P.callback=v),f=Fa(u,P,k),f!==null&&(go(f,u,k,C),Kf(f,u,k))},enqueueReplaceState:function(u,f,v){u=u._reactInternals;var C=lr(),k=Va(u),P=Js(C,k);P.tag=1,P.payload=f,v!=null&&(P.callback=v),f=Fa(u,P,k),f!==null&&(go(f,u,k,C),Kf(f,u,k))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var v=lr(),C=Va(u),k=Js(v,C);k.tag=2,f!=null&&(k.callback=f),f=Fa(u,k,C),f!==null&&(go(f,u,C,v),Kf(f,u,C))}};function dC(u,f,v,C,k,P,$){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(C,P,$):f.prototype&&f.prototype.isPureReactComponent?!Wf(v,C)||!Wf(k,P):!0}function fC(u,f,v){var C=!1,k=or,P=f.contextType;return typeof P=="object"&&P!==null?P=po(P):(k=_r(f)?br:on.current,C=f.contextTypes,P=(C=C!=null)?$l(u,k):or),f=new f(v,P),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Xf,u.stateNode=f,f._reactInternals=u,C&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=k,u.__reactInternalMemoizedMaskedChildContext=P),f}function pC(u,f,v,C){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,C),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,C),f.state!==u&&Xf.enqueueReplaceState(f,f.state,null)}function $0(u,f,v,C){var k=u.stateNode;k.props=v,k.state=u.memoizedState,k.refs=uC,T0(u);var P=f.contextType;typeof P=="object"&&P!==null?k.context=po(P):(P=_r(f)?br:on.current,k.context=$l(u,P)),k.state=u.memoizedState,P=f.getDerivedStateFromProps,typeof P=="function"&&(N0(u,f,P,v),k.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(f=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),f!==k.state&&Xf.enqueueReplaceState(k,k.state,null),qf(u,v,k,C),k.state=u.memoizedState),typeof k.componentDidMount=="function"&&(u.flags|=4194308)}function Pu(u,f,v){if(u=v.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(i(309));var C=v.stateNode}if(!C)throw Error(i(147,u));var k=C,P=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===P?f.ref:(f=function($){var ne=k.refs;ne===uC&&(ne=k.refs={}),$===null?delete ne[P]:ne[P]=$},f._stringRef=P,f)}if(typeof u!="string")throw Error(i(284));if(!v._owner)throw Error(i(290,u))}return u}function Qf(u,f){throw u=Object.prototype.toString.call(f),Error(i(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function hC(u){var f=u._init;return f(u._payload)}function mC(u){function f(ue,re){if(u){var he=ue.deletions;he===null?(ue.deletions=[re],ue.flags|=16):he.push(re)}}function v(ue,re){if(!u)return null;for(;re!==null;)f(ue,re),re=re.sibling;return null}function C(ue,re){for(ue=new Map;re!==null;)re.key!==null?ue.set(re.key,re):ue.set(re.index,re),re=re.sibling;return ue}function k(ue,re){return ue=Ua(ue,re),ue.index=0,ue.sibling=null,ue}function P(ue,re,he){return ue.index=he,u?(he=ue.alternate,he!==null?(he=he.index,he<re?(ue.flags|=2,re):he):(ue.flags|=2,re)):(ue.flags|=1048576,re)}function $(ue){return u&&ue.alternate===null&&(ue.flags|=2),ue}function ne(ue,re,he,Ue){return re===null||re.tag!==6?(re=kv(he,ue.mode,Ue),re.return=ue,re):(re=k(re,he),re.return=ue,re)}function fe(ue,re,he,Ue){var at=he.type;return at===h?Xe(ue,re,he.props.children,Ue,he.key):re!==null&&(re.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===I&&hC(at)===re.type)?(Ue=k(re,he.props),Ue.ref=Pu(ue,re,he),Ue.return=ue,Ue):(Ue=wp(he.type,he.key,he.props,null,ue.mode,Ue),Ue.ref=Pu(ue,re,he),Ue.return=ue,Ue)}function Me(ue,re,he,Ue){return re===null||re.tag!==4||re.stateNode.containerInfo!==he.containerInfo||re.stateNode.implementation!==he.implementation?(re=jv(he,ue.mode,Ue),re.return=ue,re):(re=k(re,he.children||[]),re.return=ue,re)}function Xe(ue,re,he,Ue,at){return re===null||re.tag!==7?(re=Li(he,ue.mode,Ue,at),re.return=ue,re):(re=k(re,he),re.return=ue,re)}function xt(ue,re,he){if(typeof re=="string"&&re!==""||typeof re=="number")return re=kv(""+re,ue.mode,he),re.return=ue,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case c:return he=wp(re.type,re.key,re.props,null,ue.mode,he),he.ref=Pu(ue,null,re),he.return=ue,he;case p:return re=jv(re,ue.mode,he),re.return=ue,re;case I:var Ue=re._init;return xt(ue,Ue(re._payload),he)}if(U(re)||E(re))return re=Li(re,ue.mode,he,null),re.return=ue,re;Qf(ue,re)}return null}function We(ue,re,he,Ue){var at=re!==null?re.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return at!==null?null:ne(ue,re,""+he,Ue);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case c:return he.key===at?fe(ue,re,he,Ue):null;case p:return he.key===at?Me(ue,re,he,Ue):null;case I:return at=he._init,We(ue,re,at(he._payload),Ue)}if(U(he)||E(he))return at!==null?null:Xe(ue,re,he,Ue,null);Qf(ue,he)}return null}function an(ue,re,he,Ue,at){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return ue=ue.get(he)||null,ne(re,ue,""+Ue,at);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case c:return ue=ue.get(Ue.key===null?he:Ue.key)||null,fe(re,ue,Ue,at);case p:return ue=ue.get(Ue.key===null?he:Ue.key)||null,Me(re,ue,Ue,at);case I:var Ct=Ue._init;return an(ue,re,he,Ct(Ue._payload),at)}if(U(Ue)||E(Ue))return ue=ue.get(he)||null,Xe(re,ue,Ue,at,null);Qf(re,Ue)}return null}function Jt(ue,re,he,Ue){for(var at=null,Ct=null,bt=re,Lt=re=0,Yn=null;bt!==null&&Lt<he.length;Lt++){bt.index>Lt?(Yn=bt,bt=null):Yn=bt.sibling;var zt=We(ue,bt,he[Lt],Ue);if(zt===null){bt===null&&(bt=Yn);break}u&&bt&&zt.alternate===null&&f(ue,bt),re=P(zt,re,Lt),Ct===null?at=zt:Ct.sibling=zt,Ct=zt,bt=Yn}if(Lt===he.length)return v(ue,bt),cn&&Oi(ue,Lt),at;if(bt===null){for(;Lt<he.length;Lt++)bt=xt(ue,he[Lt],Ue),bt!==null&&(re=P(bt,re,Lt),Ct===null?at=bt:Ct.sibling=bt,Ct=bt);return cn&&Oi(ue,Lt),at}for(bt=C(ue,bt);Lt<he.length;Lt++)Yn=an(bt,ue,Lt,he[Lt],Ue),Yn!==null&&(u&&Yn.alternate!==null&&bt.delete(Yn.key===null?Lt:Yn.key),re=P(Yn,re,Lt),Ct===null?at=Yn:Ct.sibling=Yn,Ct=Yn);return u&&bt.forEach(function(Ga){return f(ue,Ga)}),cn&&Oi(ue,Lt),at}function Or(ue,re,he,Ue){var at=E(he);if(typeof at!="function")throw Error(i(150));if(he=at.call(he),he==null)throw Error(i(151));for(var Ct=at=null,bt=re,Lt=re=0,Yn=null,zt=he.next();bt!==null&&!zt.done;Lt++,zt=he.next()){bt.index>Lt?(Yn=bt,bt=null):Yn=bt.sibling;var Ga=We(ue,bt,zt.value,Ue);if(Ga===null){bt===null&&(bt=Yn);break}u&&bt&&Ga.alternate===null&&f(ue,bt),re=P(Ga,re,Lt),Ct===null?at=Ga:Ct.sibling=Ga,Ct=Ga,bt=Yn}if(zt.done)return v(ue,bt),cn&&Oi(ue,Lt),at;if(bt===null){for(;!zt.done;Lt++,zt=he.next())zt=xt(ue,zt.value,Ue),zt!==null&&(re=P(zt,re,Lt),Ct===null?at=zt:Ct.sibling=zt,Ct=zt);return cn&&Oi(ue,Lt),at}for(bt=C(ue,bt);!zt.done;Lt++,zt=he.next())zt=an(bt,ue,Lt,zt.value,Ue),zt!==null&&(u&&zt.alternate!==null&&bt.delete(zt.key===null?Lt:zt.key),re=P(zt,re,Lt),Ct===null?at=zt:Ct.sibling=zt,Ct=zt);return u&&bt.forEach(function(oR){return f(ue,oR)}),cn&&Oi(ue,Lt),at}function na(ue,re,he,Ue){if(typeof he=="object"&&he!==null&&he.type===h&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case c:e:{for(var at=he.key,Ct=re;Ct!==null;){if(Ct.key===at){if(at=he.type,at===h){if(Ct.tag===7){v(ue,Ct.sibling),re=k(Ct,he.props.children),re.return=ue,ue=re;break e}}else if(Ct.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===I&&hC(at)===Ct.type){v(ue,Ct.sibling),re=k(Ct,he.props),re.ref=Pu(ue,Ct,he),re.return=ue,ue=re;break e}v(ue,Ct);break}else f(ue,Ct);Ct=Ct.sibling}he.type===h?(re=Li(he.props.children,ue.mode,Ue,he.key),re.return=ue,ue=re):(Ue=wp(he.type,he.key,he.props,null,ue.mode,Ue),Ue.ref=Pu(ue,re,he),Ue.return=ue,ue=Ue)}return $(ue);case p:e:{for(Ct=he.key;re!==null;){if(re.key===Ct)if(re.tag===4&&re.stateNode.containerInfo===he.containerInfo&&re.stateNode.implementation===he.implementation){v(ue,re.sibling),re=k(re,he.children||[]),re.return=ue,ue=re;break e}else{v(ue,re);break}else f(ue,re);re=re.sibling}re=jv(he,ue.mode,Ue),re.return=ue,ue=re}return $(ue);case I:return Ct=he._init,na(ue,re,Ct(he._payload),Ue)}if(U(he))return Jt(ue,re,he,Ue);if(E(he))return Or(ue,re,he,Ue);Qf(ue,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,re!==null&&re.tag===6?(v(ue,re.sibling),re=k(re,he),re.return=ue,ue=re):(v(ue,re),re=kv(he,ue.mode,Ue),re.return=ue,ue=re),$(ue)):v(ue,re)}return na}var Vl=mC(!0),gC=mC(!1),Eu={},ho=Ot(Eu),Mu=Ot(Eu),Wl=Ot(Eu);function ms(u){if(u===Eu)throw Error(i(174));return u}function L0(u,f){Dt(Wl,f),Dt(Mu,u),Dt(ho,Eu),u=z(f),jt(ho),Dt(ho,u)}function Ul(){jt(ho),jt(Mu),jt(Wl)}function vC(u){var f=ms(Wl.current),v=ms(ho.current);f=Q(v,u.type,f),v!==f&&(Dt(Mu,u),Dt(ho,f))}function z0(u){Mu.current===u&&(jt(ho),jt(Mu))}var bn=Ot(0);function Yf(u){for(var f=u;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||qs(v)||Aa(v)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var F0=[];function B0(){for(var u=0;u<F0.length;u++){var f=F0[u];ie?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}F0.length=0}var Zf=l.ReactCurrentDispatcher,H0=l.ReactCurrentBatchConfig,Ri=0,yn=null,Vn=null,Xn=null,Jf=!1,Ou=!1,Du=0,ED=0;function sr(){throw Error(i(321))}function V0(u,f){if(f===null)return!1;for(var v=0;v<f.length&&v<u.length;v++)if(!zo(u[v],f[v]))return!1;return!0}function W0(u,f,v,C,k,P){if(Ri=P,yn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Zf.current=u===null||u.memoizedState===null?RD:AD,u=v(C,k),Ou){P=0;do{if(Ou=!1,Du=0,25<=P)throw Error(i(301));P+=1,Xn=Vn=null,f.updateQueue=null,Zf.current=TD,u=v(C,k)}while(Ou)}if(Zf.current=np,f=Vn!==null&&Vn.next!==null,Ri=0,Xn=Vn=yn=null,Jf=!1,f)throw Error(i(300));return u}function U0(){var u=Du!==0;return Du=0,u}function gs(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?yn.memoizedState=Xn=u:Xn=Xn.next=u,Xn}function mo(){if(Vn===null){var u=yn.alternate;u=u!==null?u.memoizedState:null}else u=Vn.next;var f=Xn===null?yn.memoizedState:Xn.next;if(f!==null)Xn=f,Vn=u;else{if(u===null)throw Error(i(310));Vn=u,u={memoizedState:Vn.memoizedState,baseState:Vn.baseState,baseQueue:Vn.baseQueue,queue:Vn.queue,next:null},Xn===null?yn.memoizedState=Xn=u:Xn=Xn.next=u}return Xn}function Ru(u,f){return typeof f=="function"?f(u):f}function G0(u){var f=mo(),v=f.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=u;var C=Vn,k=C.baseQueue,P=v.pending;if(P!==null){if(k!==null){var $=k.next;k.next=P.next,P.next=$}C.baseQueue=k=P,v.pending=null}if(k!==null){P=k.next,C=C.baseState;var ne=$=null,fe=null,Me=P;do{var Xe=Me.lane;if((Ri&Xe)===Xe)fe!==null&&(fe=fe.next={lane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),C=Me.hasEagerState?Me.eagerState:u(C,Me.action);else{var xt={lane:Xe,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null};fe===null?(ne=fe=xt,$=C):fe=fe.next=xt,yn.lanes|=Xe,Ai|=Xe}Me=Me.next}while(Me!==null&&Me!==P);fe===null?$=C:fe.next=ne,zo(C,f.memoizedState)||(Pr=!0),f.memoizedState=C,f.baseState=$,f.baseQueue=fe,v.lastRenderedState=C}if(u=v.interleaved,u!==null){k=u;do P=k.lane,yn.lanes|=P,Ai|=P,k=k.next;while(k!==u)}else k===null&&(v.lanes=0);return[f.memoizedState,v.dispatch]}function K0(u){var f=mo(),v=f.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=u;var C=v.dispatch,k=v.pending,P=f.memoizedState;if(k!==null){v.pending=null;var $=k=k.next;do P=u(P,$.action),$=$.next;while($!==k);zo(P,f.memoizedState)||(Pr=!0),f.memoizedState=P,f.baseQueue===null&&(f.baseState=P),v.lastRenderedState=P}return[P,C]}function xC(){}function bC(u,f){var v=yn,C=mo(),k=f(),P=!zo(C.memoizedState,k);if(P&&(C.memoizedState=k,Pr=!0),C=C.queue,q0(wC.bind(null,v,C,u),[u]),C.getSnapshot!==f||P||Xn!==null&&Xn.memoizedState.tag&1){if(v.flags|=2048,Au(9,CC.bind(null,v,C,k,f),void 0,null),Qn===null)throw Error(i(349));Ri&30||yC(v,f,k)}return k}function yC(u,f,v){u.flags|=16384,u={getSnapshot:f,value:v},f=yn.updateQueue,f===null?(f={lastEffect:null,stores:null},yn.updateQueue=f,f.stores=[u]):(v=f.stores,v===null?f.stores=[u]:v.push(u))}function CC(u,f,v,C){f.value=v,f.getSnapshot=C,SC(f)&&kC(u)}function wC(u,f,v){return v(function(){SC(f)&&kC(u)})}function SC(u){var f=u.getSnapshot;u=u.value;try{var v=f();return!zo(u,v)}catch{return!0}}function kC(u){var f=hs(u,1);f!==null&&go(f,u,1,-1)}function jC(u){var f=gs();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:u},f.queue=u,u=u.dispatch=DD.bind(null,yn,u),[f.memoizedState,u]}function Au(u,f,v,C){return u={tag:u,create:f,destroy:v,deps:C,next:null},f=yn.updateQueue,f===null?(f={lastEffect:null,stores:null},yn.updateQueue=f,f.lastEffect=u.next=u):(v=f.lastEffect,v===null?f.lastEffect=u.next=u:(C=v.next,v.next=u,u.next=C,f.lastEffect=u)),u}function IC(){return mo().memoizedState}function ep(u,f,v,C){var k=gs();yn.flags|=u,k.memoizedState=Au(1|f,v,void 0,C===void 0?null:C)}function tp(u,f,v,C){var k=mo();C=C===void 0?null:C;var P=void 0;if(Vn!==null){var $=Vn.memoizedState;if(P=$.destroy,C!==null&&V0(C,$.deps)){k.memoizedState=Au(f,v,P,C);return}}yn.flags|=u,k.memoizedState=Au(1|f,v,P,C)}function _C(u,f){return ep(8390656,8,u,f)}function q0(u,f){return tp(2048,8,u,f)}function PC(u,f){return tp(4,2,u,f)}function EC(u,f){return tp(4,4,u,f)}function MC(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function OC(u,f,v){return v=v!=null?v.concat([u]):null,tp(4,4,MC.bind(null,f,u),v)}function X0(){}function DC(u,f){var v=mo();f=f===void 0?null:f;var C=v.memoizedState;return C!==null&&f!==null&&V0(f,C[1])?C[0]:(v.memoizedState=[u,f],u)}function RC(u,f){var v=mo();f=f===void 0?null:f;var C=v.memoizedState;return C!==null&&f!==null&&V0(f,C[1])?C[0]:(u=u(),v.memoizedState=[u,f],u)}function AC(u,f,v){return Ri&21?(zo(v,f)||(v=Q2(),yn.lanes|=v,Ai|=v,u.baseState=!0),f):(u.baseState&&(u.baseState=!1,Pr=!0),u.memoizedState=v)}function MD(u,f){var v=$t;$t=v!==0&&4>v?v:4,u(!0);var C=H0.transition;H0.transition={};try{u(!1),f()}finally{$t=v,H0.transition=C}}function TC(){return mo().memoizedState}function OD(u,f,v){var C=Va(u);if(v={lane:C,action:v,hasEagerState:!1,eagerState:null,next:null},NC(u))$C(f,v);else if(v=aC(u,f,v,C),v!==null){var k=lr();go(v,u,C,k),LC(v,f,C)}}function DD(u,f,v){var C=Va(u),k={lane:C,action:v,hasEagerState:!1,eagerState:null,next:null};if(NC(u))$C(f,k);else{var P=u.alternate;if(u.lanes===0&&(P===null||P.lanes===0)&&(P=f.lastRenderedReducer,P!==null))try{var $=f.lastRenderedState,ne=P($,v);if(k.hasEagerState=!0,k.eagerState=ne,zo(ne,$)){var fe=f.interleaved;fe===null?(k.next=k,A0(f)):(k.next=fe.next,fe.next=k),f.interleaved=k;return}}catch{}finally{}v=aC(u,f,k,C),v!==null&&(k=lr(),go(v,u,C,k),LC(v,f,C))}}function NC(u){var f=u.alternate;return u===yn||f!==null&&f===yn}function $C(u,f){Ou=Jf=!0;var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}function LC(u,f,v){if(v&4194240){var C=f.lanes;C&=u.pendingLanes,v|=C,f.lanes=v,y0(u,v)}}var np={readContext:po,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useInsertionEffect:sr,useLayoutEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useMutableSource:sr,useSyncExternalStore:sr,useId:sr,unstable_isNewReconciler:!1},RD={readContext:po,useCallback:function(u,f){return gs().memoizedState=[u,f===void 0?null:f],u},useContext:po,useEffect:_C,useImperativeHandle:function(u,f,v){return v=v!=null?v.concat([u]):null,ep(4194308,4,MC.bind(null,f,u),v)},useLayoutEffect:function(u,f){return ep(4194308,4,u,f)},useInsertionEffect:function(u,f){return ep(4,2,u,f)},useMemo:function(u,f){var v=gs();return f=f===void 0?null:f,u=u(),v.memoizedState=[u,f],u},useReducer:function(u,f,v){var C=gs();return f=v!==void 0?v(f):f,C.memoizedState=C.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},C.queue=u,u=u.dispatch=OD.bind(null,yn,u),[C.memoizedState,u]},useRef:function(u){var f=gs();return u={current:u},f.memoizedState=u},useState:jC,useDebugValue:X0,useDeferredValue:function(u){return gs().memoizedState=u},useTransition:function(){var u=jC(!1),f=u[0];return u=MD.bind(null,u[1]),gs().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,v){var C=yn,k=gs();if(cn){if(v===void 0)throw Error(i(407));v=v()}else{if(v=f(),Qn===null)throw Error(i(349));Ri&30||yC(C,f,v)}k.memoizedState=v;var P={value:v,getSnapshot:f};return k.queue=P,_C(wC.bind(null,C,P,u),[u]),C.flags|=2048,Au(9,CC.bind(null,C,P,v,f),void 0,null),v},useId:function(){var u=gs(),f=Qn.identifierPrefix;if(cn){var v=Zs,C=Ys;v=(C&~(1<<32-Lo(C)-1)).toString(32)+v,f=":"+f+"R"+v,v=Du++,0<v&&(f+="H"+v.toString(32)),f+=":"}else v=ED++,f=":"+f+"r"+v.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},AD={readContext:po,useCallback:DC,useContext:po,useEffect:q0,useImperativeHandle:OC,useInsertionEffect:PC,useLayoutEffect:EC,useMemo:RC,useReducer:G0,useRef:IC,useState:function(){return G0(Ru)},useDebugValue:X0,useDeferredValue:function(u){var f=mo();return AC(f,Vn.memoizedState,u)},useTransition:function(){var u=G0(Ru)[0],f=mo().memoizedState;return[u,f]},useMutableSource:xC,useSyncExternalStore:bC,useId:TC,unstable_isNewReconciler:!1},TD={readContext:po,useCallback:DC,useContext:po,useEffect:q0,useImperativeHandle:OC,useInsertionEffect:PC,useLayoutEffect:EC,useMemo:RC,useReducer:K0,useRef:IC,useState:function(){return K0(Ru)},useDebugValue:X0,useDeferredValue:function(u){var f=mo();return Vn===null?f.memoizedState=u:AC(f,Vn.memoizedState,u)},useTransition:function(){var u=K0(Ru)[0],f=mo().memoizedState;return[u,f]},useMutableSource:xC,useSyncExternalStore:bC,useId:TC,unstable_isNewReconciler:!1};function Gl(u,f){try{var v="",C=f;do v+=PD(C),C=C.return;while(C);var k=v}catch(P){k=`
Error generating stack: `+P.message+`
`+P.stack}return{value:u,source:f,stack:k,digest:null}}function Q0(u,f,v){return{value:u,source:null,stack:v??null,digest:f??null}}function Y0(u,f){try{console.error(f.value)}catch(v){setTimeout(function(){throw v})}}var ND=typeof WeakMap=="function"?WeakMap:Map;function zC(u,f,v){v=Js(-1,v),v.tag=3,v.payload={element:null};var C=f.value;return v.callback=function(){gp||(gp=!0,vv=C),Y0(u,f)},v}function FC(u,f,v){v=Js(-1,v),v.tag=3;var C=u.type.getDerivedStateFromError;if(typeof C=="function"){var k=f.value;v.payload=function(){return C(k)},v.callback=function(){Y0(u,f)}}var P=u.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(v.callback=function(){Y0(u,f),typeof C!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var $=f.stack;this.componentDidCatch(f.value,{componentStack:$!==null?$:""})}),v}function BC(u,f,v){var C=u.pingCache;if(C===null){C=u.pingCache=new ND;var k=new Set;C.set(f,k)}else k=C.get(f),k===void 0&&(k=new Set,C.set(f,k));k.has(v)||(k.add(v),u=QD.bind(null,u,f,v),f.then(u,u))}function HC(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function VC(u,f,v,C,k){return u.mode&1?(u.flags|=65536,u.lanes=k,u):(u===f?u.flags|=65536:(u.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(f=Js(-1,1),f.tag=2,Fa(v,f,1))),v.lanes|=1),u)}var $D=l.ReactCurrentOwner,Pr=!1;function yr(u,f,v,C){f.child=u===null?gC(f,null,v,C):Vl(f,u.child,v,C)}function WC(u,f,v,C,k){v=v.render;var P=f.ref;return Hl(f,k),C=W0(u,f,v,C,P,k),v=U0(),u!==null&&!Pr?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~k,ea(u,f,k)):(cn&&v&&j0(f),f.flags|=1,yr(u,f,C,k),f.child)}function UC(u,f,v,C,k){if(u===null){var P=v.type;return typeof P=="function"&&!Sv(P)&&P.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(f.tag=15,f.type=P,GC(u,f,P,C,k)):(u=wp(v.type,null,C,f,f.mode,k),u.ref=f.ref,u.return=f,f.child=u)}if(P=u.child,!(u.lanes&k)){var $=P.memoizedProps;if(v=v.compare,v=v!==null?v:Wf,v($,C)&&u.ref===f.ref)return ea(u,f,k)}return f.flags|=1,u=Ua(P,C),u.ref=f.ref,u.return=f,f.child=u}function GC(u,f,v,C,k){if(u!==null){var P=u.memoizedProps;if(Wf(P,C)&&u.ref===f.ref)if(Pr=!1,f.pendingProps=C=P,(u.lanes&k)!==0)u.flags&131072&&(Pr=!0);else return f.lanes=u.lanes,ea(u,f,k)}return Z0(u,f,v,C,k)}function KC(u,f,v){var C=f.pendingProps,k=C.children,P=u!==null?u.memoizedState:null;if(C.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dt(ql,qr),qr|=v;else{if(!(v&1073741824))return u=P!==null?P.baseLanes|v:v,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null,transitions:null},f.updateQueue=null,Dt(ql,qr),qr|=u,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},C=P!==null?P.baseLanes:v,Dt(ql,qr),qr|=C}else P!==null?(C=P.baseLanes|v,f.memoizedState=null):C=v,Dt(ql,qr),qr|=C;return yr(u,f,k,v),f.child}function qC(u,f){var v=f.ref;(u===null&&v!==null||u!==null&&u.ref!==v)&&(f.flags|=512,f.flags|=2097152)}function Z0(u,f,v,C,k){var P=_r(v)?br:on.current;return P=$l(f,P),Hl(f,k),v=W0(u,f,v,C,P,k),C=U0(),u!==null&&!Pr?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~k,ea(u,f,k)):(cn&&C&&j0(f),f.flags|=1,yr(u,f,v,k),f.child)}function XC(u,f,v,C,k){if(_r(v)){var P=!0;Tf(f)}else P=!1;if(Hl(f,k),f.stateNode===null)op(u,f),fC(f,v,C),$0(f,v,C,k),C=!0;else if(u===null){var $=f.stateNode,ne=f.memoizedProps;$.props=ne;var fe=$.context,Me=v.contextType;typeof Me=="object"&&Me!==null?Me=po(Me):(Me=_r(v)?br:on.current,Me=$l(f,Me));var Xe=v.getDerivedStateFromProps,xt=typeof Xe=="function"||typeof $.getSnapshotBeforeUpdate=="function";xt||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ne!==C||fe!==Me)&&pC(f,$,C,Me),za=!1;var We=f.memoizedState;$.state=We,qf(f,C,$,k),fe=f.memoizedState,ne!==C||We!==fe||Tn.current||za?(typeof Xe=="function"&&(N0(f,v,Xe,C),fe=f.memoizedState),(ne=za||dC(f,v,ne,C,We,fe,Me))?(xt||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(f.flags|=4194308)):(typeof $.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=C,f.memoizedState=fe),$.props=C,$.state=fe,$.context=Me,C=ne):(typeof $.componentDidMount=="function"&&(f.flags|=4194308),C=!1)}else{$=f.stateNode,iC(u,f),ne=f.memoizedProps,Me=f.type===f.elementType?ne:Bo(f.type,ne),$.props=Me,xt=f.pendingProps,We=$.context,fe=v.contextType,typeof fe=="object"&&fe!==null?fe=po(fe):(fe=_r(v)?br:on.current,fe=$l(f,fe));var an=v.getDerivedStateFromProps;(Xe=typeof an=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ne!==xt||We!==fe)&&pC(f,$,C,fe),za=!1,We=f.memoizedState,$.state=We,qf(f,C,$,k);var Jt=f.memoizedState;ne!==xt||We!==Jt||Tn.current||za?(typeof an=="function"&&(N0(f,v,an,C),Jt=f.memoizedState),(Me=za||dC(f,v,Me,C,We,Jt,fe)||!1)?(Xe||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(C,Jt,fe),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(C,Jt,fe)),typeof $.componentDidUpdate=="function"&&(f.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof $.componentDidUpdate!="function"||ne===u.memoizedProps&&We===u.memoizedState||(f.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ne===u.memoizedProps&&We===u.memoizedState||(f.flags|=1024),f.memoizedProps=C,f.memoizedState=Jt),$.props=C,$.state=Jt,$.context=fe,C=Me):(typeof $.componentDidUpdate!="function"||ne===u.memoizedProps&&We===u.memoizedState||(f.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ne===u.memoizedProps&&We===u.memoizedState||(f.flags|=1024),C=!1)}return J0(u,f,v,C,P,k)}function J0(u,f,v,C,k,P){qC(u,f);var $=(f.flags&128)!==0;if(!C&&!$)return k&&X2(f,v,!1),ea(u,f,P);C=f.stateNode,$D.current=f;var ne=$&&typeof v.getDerivedStateFromError!="function"?null:C.render();return f.flags|=1,u!==null&&$?(f.child=Vl(f,u.child,null,P),f.child=Vl(f,null,ne,P)):yr(u,f,ne,P),f.memoizedState=C.state,k&&X2(f,v,!0),f.child}function QC(u){var f=u.stateNode;f.pendingContext?K2(u,f.pendingContext,f.pendingContext!==f.context):f.context&&K2(u,f.context,!1),L0(u,f.containerInfo)}function YC(u,f,v,C,k){return Fl(),E0(k),f.flags|=256,yr(u,f,v,C),f.child}var ev={dehydrated:null,treeContext:null,retryLane:0};function tv(u){return{baseLanes:u,cachePool:null,transitions:null}}function ZC(u,f,v){var C=f.pendingProps,k=bn.current,P=!1,$=(f.flags&128)!==0,ne;if((ne=$)||(ne=u!==null&&u.memoizedState===null?!1:(k&2)!==0),ne?(P=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(k|=1),Dt(bn,k&1),u===null)return P0(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(f.mode&1?Aa(u)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):($=C.children,u=C.fallback,P?(C=f.mode,P=f.child,$={mode:"hidden",children:$},!(C&1)&&P!==null?(P.childLanes=0,P.pendingProps=$):P=Sp($,C,0,null),u=Li(u,C,v,null),P.return=f,u.return=f,P.sibling=u,f.child=P,f.child.memoizedState=tv(v),f.memoizedState=ev,u):nv(f,$));if(k=u.memoizedState,k!==null&&(ne=k.dehydrated,ne!==null))return LD(u,f,$,C,ne,k,v);if(P){P=C.fallback,$=f.mode,k=u.child,ne=k.sibling;var fe={mode:"hidden",children:C.children};return!($&1)&&f.child!==k?(C=f.child,C.childLanes=0,C.pendingProps=fe,f.deletions=null):(C=Ua(k,fe),C.subtreeFlags=k.subtreeFlags&14680064),ne!==null?P=Ua(ne,P):(P=Li(P,$,v,null),P.flags|=2),P.return=f,C.return=f,C.sibling=P,f.child=C,C=P,P=f.child,$=u.child.memoizedState,$=$===null?tv(v):{baseLanes:$.baseLanes|v,cachePool:null,transitions:$.transitions},P.memoizedState=$,P.childLanes=u.childLanes&~v,f.memoizedState=ev,C}return P=u.child,u=P.sibling,C=Ua(P,{mode:"visible",children:C.children}),!(f.mode&1)&&(C.lanes=v),C.return=f,C.sibling=null,u!==null&&(v=f.deletions,v===null?(f.deletions=[u],f.flags|=16):v.push(u)),f.child=C,f.memoizedState=null,C}function nv(u,f){return f=Sp({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function rp(u,f,v,C){return C!==null&&E0(C),Vl(f,u.child,null,v),u=nv(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function LD(u,f,v,C,k,P,$){if(v)return f.flags&256?(f.flags&=-257,C=Q0(Error(i(422))),rp(u,f,$,C)):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(P=C.fallback,k=f.mode,C=Sp({mode:"visible",children:C.children},k,0,null),P=Li(P,k,$,null),P.flags|=2,C.return=f,P.return=f,C.sibling=P,f.child=C,f.mode&1&&Vl(f,u.child,null,$),f.child.memoizedState=tv($),f.memoizedState=ev,P);if(!(f.mode&1))return rp(u,f,$,null);if(Aa(k))return C=Ta(k).digest,P=Error(i(419)),C=Q0(P,C,void 0),rp(u,f,$,C);if(v=($&u.childLanes)!==0,Pr||v){if(C=Qn,C!==null){switch($&-$){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=k&(C.suspendedLanes|$)?0:k,k!==0&&k!==P.retryLane&&(P.retryLane=k,hs(u,k),go(C,u,k,-1))}return wv(),C=Q0(Error(i(421))),rp(u,f,$,C)}return qs(k)?(f.flags|=128,f.child=u.child,f=YD.bind(null,u),Al(k,f),null):(u=P.treeContext,Ce&&(fo=Ut(k),Kr=f,cn=!0,Fo=null,_u=!1,u!==null&&(co[uo++]=Ys,co[uo++]=Zs,co[uo++]=Mi,Ys=u.id,Zs=u.overflow,Mi=f)),f=nv(f,C.children),f.flags|=4096,f)}function JC(u,f,v){u.lanes|=f;var C=u.alternate;C!==null&&(C.lanes|=f),R0(u.return,f,v)}function rv(u,f,v,C,k){var P=u.memoizedState;P===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:C,tail:v,tailMode:k}:(P.isBackwards=f,P.rendering=null,P.renderingStartTime=0,P.last=C,P.tail=v,P.tailMode=k)}function ew(u,f,v){var C=f.pendingProps,k=C.revealOrder,P=C.tail;if(yr(u,f,C.children,v),C=bn.current,C&2)C=C&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&JC(u,v,f);else if(u.tag===19)JC(u,v,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}C&=1}if(Dt(bn,C),!(f.mode&1))f.memoizedState=null;else switch(k){case"forwards":for(v=f.child,k=null;v!==null;)u=v.alternate,u!==null&&Yf(u)===null&&(k=v),v=v.sibling;v=k,v===null?(k=f.child,f.child=null):(k=v.sibling,v.sibling=null),rv(f,!1,k,v,P);break;case"backwards":for(v=null,k=f.child,f.child=null;k!==null;){if(u=k.alternate,u!==null&&Yf(u)===null){f.child=k;break}u=k.sibling,k.sibling=v,v=k,k=u}rv(f,!0,v,null,P);break;case"together":rv(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function op(u,f){!(f.mode&1)&&u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2)}function ea(u,f,v){if(u!==null&&(f.dependencies=u.dependencies),Ai|=f.lanes,!(v&f.childLanes))return null;if(u!==null&&f.child!==u.child)throw Error(i(153));if(f.child!==null){for(u=f.child,v=Ua(u,u.pendingProps),f.child=v,v.return=f;u.sibling!==null;)u=u.sibling,v=v.sibling=Ua(u,u.pendingProps),v.return=f;v.sibling=null}return f.child}function zD(u,f,v){switch(f.tag){case 3:QC(f),Fl();break;case 5:vC(f);break;case 1:_r(f.type)&&Tf(f);break;case 4:L0(f,f.stateNode.containerInfo);break;case 10:sC(f,f.type._context,f.memoizedProps.value);break;case 13:var C=f.memoizedState;if(C!==null)return C.dehydrated!==null?(Dt(bn,bn.current&1),f.flags|=128,null):v&f.child.childLanes?ZC(u,f,v):(Dt(bn,bn.current&1),u=ea(u,f,v),u!==null?u.sibling:null);Dt(bn,bn.current&1);break;case 19:if(C=(v&f.childLanes)!==0,u.flags&128){if(C)return ew(u,f,v);f.flags|=128}var k=f.memoizedState;if(k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),Dt(bn,bn.current),C)break;return null;case 22:case 23:return f.lanes=0,KC(u,f,v)}return ea(u,f,v)}function vs(u){u.flags|=4}function tw(u,f){if(u!==null&&u.child===f.child)return!0;if(f.flags&16)return!1;for(u=f.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var Tu,Nu,sp,ap;if(de)Tu=function(u,f){for(var v=f.child;v!==null;){if(v.tag===5||v.tag===6)se(u,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},Nu=function(){},sp=function(u,f,v,C,k){if(u=u.memoizedProps,u!==C){var P=f.stateNode,$=ms(ho.current);v=oe(P,v,u,C,k,$),(f.updateQueue=v)&&vs(f)}},ap=function(u,f,v,C){v!==C&&vs(f)};else if(me){Tu=function(u,f,v,C){for(var k=f.child;k!==null;){if(k.tag===5){var P=k.stateNode;v&&C&&(P=Ir(P,k.type,k.memoizedProps,k)),se(u,P)}else if(k.tag===6)P=k.stateNode,v&&C&&(P=$o(P,k.memoizedProps,k)),se(u,P);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)P=k.child,P!==null&&(P.return=k),Tu(u,k,!0,!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===f)break;for(;k.sibling===null;){if(k.return===null||k.return===f)return;k=k.return}k.sibling.return=k.return,k=k.sibling}};var nw=function(u,f,v,C){for(var k=f.child;k!==null;){if(k.tag===5){var P=k.stateNode;v&&C&&(P=Ir(P,k.type,k.memoizedProps,k)),In(u,P)}else if(k.tag===6)P=k.stateNode,v&&C&&(P=$o(P,k.memoizedProps,k)),In(u,P);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)P=k.child,P!==null&&(P.return=k),nw(u,k,!0,!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===f)break;for(;k.sibling===null;){if(k.return===null||k.return===f)return;k=k.return}k.sibling.return=k.return,k=k.sibling}};Nu=function(u,f){var v=f.stateNode;if(!tw(u,f)){u=v.containerInfo;var C=Fn(u);nw(C,f,!1,!1),v.pendingChildren=C,vs(f),xn(u,C)}},sp=function(u,f,v,C,k){var P=u.stateNode,$=u.memoizedProps;if((u=tw(u,f))&&$===C)f.stateNode=P;else{var ne=f.stateNode,fe=ms(ho.current),Me=null;$!==C&&(Me=oe(ne,v,$,C,k,fe)),u&&Me===null?f.stateNode=P:(P=gr(P,Me,v,$,C,f,u,ne),ae(P,v,C,k,fe)&&vs(f),f.stateNode=P,u?vs(f):Tu(P,f,!1,!1))}},ap=function(u,f,v,C){v!==C?(u=ms(Wl.current),v=ms(ho.current),f.stateNode=G(C,u,v,f),vs(f)):f.stateNode=u.stateNode}}else Nu=function(){},sp=function(){},ap=function(){};function $u(u,f){if(!cn)switch(u.tailMode){case"hidden":f=u.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var C=null;v!==null;)v.alternate!==null&&(C=v),v=v.sibling;C===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:C.sibling=null}}function ar(u){var f=u.alternate!==null&&u.alternate.child===u.child,v=0,C=0;if(f)for(var k=u.child;k!==null;)v|=k.lanes|k.childLanes,C|=k.subtreeFlags&14680064,C|=k.flags&14680064,k.return=u,k=k.sibling;else for(k=u.child;k!==null;)v|=k.lanes|k.childLanes,C|=k.subtreeFlags,C|=k.flags,k.return=u,k=k.sibling;return u.subtreeFlags|=C,u.childLanes=v,f}function FD(u,f,v){var C=f.pendingProps;switch(I0(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ar(f),null;case 1:return _r(f.type)&&Af(),ar(f),null;case 3:return v=f.stateNode,Ul(),jt(Tn),jt(on),B0(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(u===null||u.child===null)&&(Vf(f)?vs(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Fo!==null&&(yv(Fo),Fo=null))),Nu(u,f),ar(f),null;case 5:z0(f),v=ms(Wl.current);var k=f.type;if(u!==null&&f.stateNode!=null)sp(u,f,k,C,v),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!C){if(f.stateNode===null)throw Error(i(166));return ar(f),null}if(u=ms(ho.current),Vf(f)){if(!Ce)throw Error(i(175));u=Bn(f.stateNode,f.type,f.memoizedProps,v,u,f,!_u),f.updateQueue=u,u!==null&&vs(f)}else{var P=Y(k,C,v,u,f);Tu(P,f,!1,!1),f.stateNode=P,ae(P,k,C,v,u)&&vs(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return ar(f),null;case 6:if(u&&f.stateNode!=null)ap(u,f,u.memoizedProps,C);else{if(typeof C!="string"&&f.stateNode===null)throw Error(i(166));if(u=ms(Wl.current),v=ms(ho.current),Vf(f)){if(!Ce)throw Error(i(176));if(u=f.stateNode,v=f.memoizedProps,(C=kt(u,v,f,!_u))&&(k=Kr,k!==null))switch(k.tag){case 3:Rf(k.stateNode.containerInfo,u,v,(k.mode&1)!==0);break;case 5:Nl(k.type,k.memoizedProps,k.stateNode,u,v,(k.mode&1)!==0)}C&&vs(f)}else f.stateNode=G(C,u,v,f)}return ar(f),null;case 13:if(jt(bn),C=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(cn&&fo!==null&&f.mode&1&&!(f.flags&128))oC(),Fl(),f.flags|=98560,k=!1;else if(k=Vf(f),C!==null&&C.dehydrated!==null){if(u===null){if(!k)throw Error(i(318));if(!Ce)throw Error(i(344));if(k=f.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(i(317));$a(k,f)}else Fl(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;ar(f),k=!1}else Fo!==null&&(yv(Fo),Fo=null),k=!0;if(!k)return f.flags&65536?f:null}return f.flags&128?(f.lanes=v,f):(v=C!==null,v!==(u!==null&&u.memoizedState!==null)&&v&&(f.child.flags|=8192,f.mode&1&&(u===null||bn.current&1?Wn===0&&(Wn=3):wv())),f.updateQueue!==null&&(f.flags|=4),ar(f),null);case 4:return Ul(),Nu(u,f),u===null&&pe(f.stateNode.containerInfo),ar(f),null;case 10:return D0(f.type._context),ar(f),null;case 17:return _r(f.type)&&Af(),ar(f),null;case 19:if(jt(bn),k=f.memoizedState,k===null)return ar(f),null;if(C=(f.flags&128)!==0,P=k.rendering,P===null)if(C)$u(k,!1);else{if(Wn!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(P=Yf(u),P!==null){for(f.flags|=128,$u(k,!1),u=P.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),f.subtreeFlags=0,u=v,v=f.child;v!==null;)C=v,k=u,C.flags&=14680066,P=C.alternate,P===null?(C.childLanes=0,C.lanes=k,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=P.childLanes,C.lanes=P.lanes,C.child=P.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=P.memoizedProps,C.memoizedState=P.memoizedState,C.updateQueue=P.updateQueue,C.type=P.type,k=P.dependencies,C.dependencies=k===null?null:{lanes:k.lanes,firstContext:k.firstContext}),v=v.sibling;return Dt(bn,bn.current&1|2),f.child}u=u.sibling}k.tail!==null&&qn()>gv&&(f.flags|=128,C=!0,$u(k,!1),f.lanes=4194304)}else{if(!C)if(u=Yf(P),u!==null){if(f.flags|=128,C=!0,u=u.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),$u(k,!0),k.tail===null&&k.tailMode==="hidden"&&!P.alternate&&!cn)return ar(f),null}else 2*qn()-k.renderingStartTime>gv&&v!==1073741824&&(f.flags|=128,C=!0,$u(k,!1),f.lanes=4194304);k.isBackwards?(P.sibling=f.child,f.child=P):(u=k.last,u!==null?u.sibling=P:f.child=P,k.last=P)}return k.tail!==null?(f=k.tail,k.rendering=f,k.tail=f.sibling,k.renderingStartTime=qn(),f.sibling=null,u=bn.current,Dt(bn,C?u&1|2:u&1),f):(ar(f),null);case 22:case 23:return Cv(),v=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==v&&(f.flags|=8192),v&&f.mode&1?qr&1073741824&&(ar(f),de&&f.subtreeFlags&6&&(f.flags|=8192)):ar(f),null;case 24:return null;case 25:return null}throw Error(i(156,f.tag))}function BD(u,f){switch(I0(f),f.tag){case 1:return _r(f.type)&&Af(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Ul(),jt(Tn),jt(on),B0(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 5:return z0(f),null;case 13:if(jt(bn),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(i(340));Fl()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return jt(bn),null;case 4:return Ul(),null;case 10:return D0(f.type._context),null;case 22:case 23:return Cv(),null;case 24:return null;default:return null}}var ip=!1,ir=!1,HD=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Kl(u,f){var v=u.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(C){un(u,f,C)}else v.current=null}function ov(u,f,v){try{v()}catch(C){un(u,f,C)}}var rw=!1;function VD(u,f){for(F(u.containerInfo),qe=f;qe!==null;)if(u=qe,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,qe=f;else for(;qe!==null;){u=qe;try{var v=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var C=v.memoizedProps,k=v.memoizedState,P=u.stateNode,$=P.getSnapshotBeforeUpdate(u.elementType===u.type?C:Bo(u.type,C),k);P.__reactInternalSnapshotBeforeUpdate=$}break;case 3:de&&Tt(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(ne){un(u,u.return,ne)}if(f=u.sibling,f!==null){f.return=u.return,qe=f;break}qe=u.return}return v=rw,rw=!1,v}function Lu(u,f,v){var C=f.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var k=C=C.next;do{if((k.tag&u)===u){var P=k.destroy;k.destroy=void 0,P!==void 0&&ov(f,v,P)}k=k.next}while(k!==C)}}function lp(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&u)===u){var C=v.create;v.destroy=C()}v=v.next}while(v!==f)}}function sv(u){var f=u.ref;if(f!==null){var v=u.stateNode;switch(u.tag){case 5:u=W(v);break;default:u=v}typeof f=="function"?f(u):f.current=u}}function ow(u){var f=u.alternate;f!==null&&(u.alternate=null,ow(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&Pe(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function sw(u){return u.tag===5||u.tag===3||u.tag===4}function aw(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||sw(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function av(u,f,v){var C=u.tag;if(C===5||C===6)u=u.stateNode,f?Wt(v,u,f):tt(v,u);else if(C!==4&&(u=u.child,u!==null))for(av(u,f,v),u=u.sibling;u!==null;)av(u,f,v),u=u.sibling}function iv(u,f,v){var C=u.tag;if(C===5||C===6)u=u.stateNode,f?$e(v,u,f):be(v,u);else if(C!==4&&(u=u.child,u!==null))for(iv(u,f,v),u=u.sibling;u!==null;)iv(u,f,v),u=u.sibling}var nr=null,Ho=!1;function xs(u,f,v){for(v=v.child;v!==null;)lv(u,f,v),v=v.sibling}function lv(u,f,v){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(zf,v)}catch{}switch(v.tag){case 5:ir||Kl(v,f);case 6:if(de){var C=nr,k=Ho;nr=null,xs(u,f,v),nr=C,Ho=k,nr!==null&&(Ho?Fe(nr,v.stateNode):ke(nr,v.stateNode))}else xs(u,f,v);break;case 18:de&&nr!==null&&(Ho?Hn(nr,v.stateNode):g0(nr,v.stateNode));break;case 4:de?(C=nr,k=Ho,nr=v.stateNode.containerInfo,Ho=!0,xs(u,f,v),nr=C,Ho=k):(me&&(C=v.stateNode.containerInfo,k=Fn(C),ln(C,k)),xs(u,f,v));break;case 0:case 11:case 14:case 15:if(!ir&&(C=v.updateQueue,C!==null&&(C=C.lastEffect,C!==null))){k=C=C.next;do{var P=k,$=P.destroy;P=P.tag,$!==void 0&&(P&2||P&4)&&ov(v,f,$),k=k.next}while(k!==C)}xs(u,f,v);break;case 1:if(!ir&&(Kl(v,f),C=v.stateNode,typeof C.componentWillUnmount=="function"))try{C.props=v.memoizedProps,C.state=v.memoizedState,C.componentWillUnmount()}catch(ne){un(v,f,ne)}xs(u,f,v);break;case 21:xs(u,f,v);break;case 22:v.mode&1?(ir=(C=ir)||v.memoizedState!==null,xs(u,f,v),ir=C):xs(u,f,v);break;default:xs(u,f,v)}}function iw(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var v=u.stateNode;v===null&&(v=u.stateNode=new HD),f.forEach(function(C){var k=ZD.bind(null,u,C);v.has(C)||(v.add(C),C.then(k,k))})}}function Vo(u,f){var v=f.deletions;if(v!==null)for(var C=0;C<v.length;C++){var k=v[C];try{var P=u,$=f;if(de){var ne=$;e:for(;ne!==null;){switch(ne.tag){case 5:nr=ne.stateNode,Ho=!1;break e;case 3:nr=ne.stateNode.containerInfo,Ho=!0;break e;case 4:nr=ne.stateNode.containerInfo,Ho=!0;break e}ne=ne.return}if(nr===null)throw Error(i(160));lv(P,$,k),nr=null,Ho=!1}else lv(P,$,k);var fe=k.alternate;fe!==null&&(fe.return=null),k.return=null}catch(Me){un(k,f,Me)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)lw(f,u),f=f.sibling}function lw(u,f){var v=u.alternate,C=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Vo(f,u),bs(u),C&4){try{Lu(3,u,u.return),lp(3,u)}catch(We){un(u,u.return,We)}try{Lu(5,u,u.return)}catch(We){un(u,u.return,We)}}break;case 1:Vo(f,u),bs(u),C&512&&v!==null&&Kl(v,v.return);break;case 5:if(Vo(f,u),bs(u),C&512&&v!==null&&Kl(v,v.return),de){if(u.flags&32){var k=u.stateNode;try{Le(k)}catch(We){un(u,u.return,We)}}if(C&4&&(k=u.stateNode,k!=null)){var P=u.memoizedProps;if(v=v!==null?v.memoizedProps:P,C=u.type,f=u.updateQueue,u.updateQueue=null,f!==null)try{Oe(k,f,C,v,P,u)}catch(We){un(u,u.return,We)}}}break;case 6:if(Vo(f,u),bs(u),C&4&&de){if(u.stateNode===null)throw Error(i(162));k=u.stateNode,P=u.memoizedProps,v=v!==null?v.memoizedProps:P;try{ct(k,v,P)}catch(We){un(u,u.return,We)}}break;case 3:if(Vo(f,u),bs(u),C&4){if(de&&Ce&&v!==null&&v.memoizedState.isDehydrated)try{Df(f.containerInfo)}catch(We){un(u,u.return,We)}if(me){k=f.containerInfo,P=f.pendingChildren;try{ln(k,P)}catch(We){un(u,u.return,We)}}}break;case 4:if(Vo(f,u),bs(u),C&4&&me){P=u.stateNode,k=P.containerInfo,P=P.pendingChildren;try{ln(k,P)}catch(We){un(u,u.return,We)}}break;case 13:Vo(f,u),bs(u),k=u.child,k.flags&8192&&(P=k.memoizedState!==null,k.stateNode.isHidden=P,!P||k.alternate!==null&&k.alternate.memoizedState!==null||(mv=qn())),C&4&&iw(u);break;case 22:var $=v!==null&&v.memoizedState!==null;if(u.mode&1?(ir=(v=ir)||$,Vo(f,u),ir=v):Vo(f,u),bs(u),C&8192){if(v=u.memoizedState!==null,(u.stateNode.isHidden=v)&&!$&&u.mode&1)for(qe=u,C=u.child;C!==null;){for(f=qe=C;qe!==null;){$=qe;var ne=$.child;switch($.tag){case 0:case 11:case 14:case 15:Lu(4,$,$.return);break;case 1:Kl($,$.return);var fe=$.stateNode;if(typeof fe.componentWillUnmount=="function"){var Me=$,Xe=$.return;try{var xt=Me;fe.props=xt.memoizedProps,fe.state=xt.memoizedState,fe.componentWillUnmount()}catch(We){un(Me,Xe,We)}}break;case 5:Kl($,$.return);break;case 22:if($.memoizedState!==null){dw(f);continue}}ne!==null?(ne.return=$,qe=ne):dw(f)}C=C.sibling}if(de){e:if(C=null,de)for(f=u;;){if(f.tag===5){if(C===null){C=f;try{k=f.stateNode,v?Ge(k):Mn(f.stateNode,f.memoizedProps)}catch(We){un(u,u.return,We)}}}else if(f.tag===6){if(C===null)try{P=f.stateNode,v?ht(P):At(P,f.memoizedProps)}catch(We){un(u,u.return,We)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;C===f&&(C=null),f=f.return}C===f&&(C=null),f.sibling.return=f.return,f=f.sibling}}}break;case 19:Vo(f,u),bs(u),C&4&&iw(u);break;case 21:break;default:Vo(f,u),bs(u)}}function bs(u){var f=u.flags;if(f&2){try{if(de){e:{for(var v=u.return;v!==null;){if(sw(v)){var C=v;break e}v=v.return}throw Error(i(160))}switch(C.tag){case 5:var k=C.stateNode;C.flags&32&&(Le(k),C.flags&=-33);var P=aw(u);iv(u,P,k);break;case 3:case 4:var $=C.stateNode.containerInfo,ne=aw(u);av(u,ne,$);break;default:throw Error(i(161))}}}catch(fe){un(u,u.return,fe)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function WD(u,f,v){qe=u,cw(u)}function cw(u,f,v){for(var C=(u.mode&1)!==0;qe!==null;){var k=qe,P=k.child;if(k.tag===22&&C){var $=k.memoizedState!==null||ip;if(!$){var ne=k.alternate,fe=ne!==null&&ne.memoizedState!==null||ir;ne=ip;var Me=ir;if(ip=$,(ir=fe)&&!Me)for(qe=k;qe!==null;)$=qe,fe=$.child,$.tag===22&&$.memoizedState!==null?fw(k):fe!==null?(fe.return=$,qe=fe):fw(k);for(;P!==null;)qe=P,cw(P),P=P.sibling;qe=k,ip=ne,ir=Me}uw(u)}else k.subtreeFlags&8772&&P!==null?(P.return=k,qe=P):uw(u)}}function uw(u){for(;qe!==null;){var f=qe;if(f.flags&8772){var v=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:ir||lp(5,f);break;case 1:var C=f.stateNode;if(f.flags&4&&!ir)if(v===null)C.componentDidMount();else{var k=f.elementType===f.type?v.memoizedProps:Bo(f.type,v.memoizedProps);C.componentDidUpdate(k,v.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var P=f.updateQueue;P!==null&&cC(f,P,C);break;case 3:var $=f.updateQueue;if($!==null){if(v=null,f.child!==null)switch(f.child.tag){case 5:v=W(f.child.stateNode);break;case 1:v=f.child.stateNode}cC(f,$,v)}break;case 5:var ne=f.stateNode;v===null&&f.flags&4&&pt(ne,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(Ce&&f.memoizedState===null){var fe=f.alternate;if(fe!==null){var Me=fe.memoizedState;if(Me!==null){var Xe=Me.dehydrated;Xe!==null&&m0(Xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}ir||f.flags&512&&sv(f)}catch(xt){un(f,f.return,xt)}}if(f===u){qe=null;break}if(v=f.sibling,v!==null){v.return=f.return,qe=v;break}qe=f.return}}function dw(u){for(;qe!==null;){var f=qe;if(f===u){qe=null;break}var v=f.sibling;if(v!==null){v.return=f.return,qe=v;break}qe=f.return}}function fw(u){for(;qe!==null;){var f=qe;try{switch(f.tag){case 0:case 11:case 15:var v=f.return;try{lp(4,f)}catch(fe){un(f,v,fe)}break;case 1:var C=f.stateNode;if(typeof C.componentDidMount=="function"){var k=f.return;try{C.componentDidMount()}catch(fe){un(f,k,fe)}}var P=f.return;try{sv(f)}catch(fe){un(f,P,fe)}break;case 5:var $=f.return;try{sv(f)}catch(fe){un(f,$,fe)}}}catch(fe){un(f,f.return,fe)}if(f===u){qe=null;break}var ne=f.sibling;if(ne!==null){ne.return=f.return,qe=ne;break}qe=f.return}}var cp=0,up=1,dp=2,fp=3,pp=4;if(typeof Symbol=="function"&&Symbol.for){var zu=Symbol.for;cp=zu("selector.component"),up=zu("selector.has_pseudo_class"),dp=zu("selector.role"),fp=zu("selector.test_id"),pp=zu("selector.text")}function cv(u){var f=ve(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(i(364));return f}if(u=Et(u),u===null)throw Error(i(362));return u.stateNode.current}function uv(u,f){switch(f.$$typeof){case cp:if(u.type===f.value)return!0;break;case up:e:{f=f.value,u=[u,0];for(var v=0;v<u.length;){var C=u[v++],k=u[v++],P=f[k];if(C.tag!==5||!ye(C)){for(;P!=null&&uv(C,P);)k++,P=f[k];if(k===f.length){f=!0;break e}else for(C=C.child;C!==null;)u.push(C,k),C=C.sibling}}f=!1}return f;case dp:if(u.tag===5&&Ae(u.stateNode,f.value))return!0;break;case pp:if((u.tag===5||u.tag===6)&&(u=ot(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case fp:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function dv(u){switch(u.$$typeof){case cp:return"<"+(D(u.value)||"Unknown")+">";case up:return":has("+(dv(u)||"")+")";case dp:return'[role="'+u.value+'"]';case pp:return'"'+u.value+'"';case fp:return'[data-testname="'+u.value+'"]';default:throw Error(i(365))}}function pw(u,f){var v=[];u=[u,0];for(var C=0;C<u.length;){var k=u[C++],P=u[C++],$=f[P];if(k.tag!==5||!ye(k)){for(;$!=null&&uv(k,$);)P++,$=f[P];if(P===f.length)v.push(k);else for(k=k.child;k!==null;)u.push(k,P),k=k.sibling}}return v}function fv(u,f){if(!Ke)throw Error(i(363));u=cv(u),u=pw(u,f),f=[],u=Array.from(u);for(var v=0;v<u.length;){var C=u[v++];if(C.tag===5)ye(C)||f.push(C.stateNode);else for(C=C.child;C!==null;)u.push(C),C=C.sibling}return f}var UD=Math.ceil,hp=l.ReactCurrentDispatcher,pv=l.ReactCurrentOwner,On=l.ReactCurrentBatchConfig,It=0,Qn=null,Nn=null,rr=0,qr=0,ql=Ot(0),Wn=0,Fu=null,Ai=0,mp=0,hv=0,Bu=null,Er=null,mv=0,gv=1/0,ta=null;function Xl(){gv=qn()+500}var gp=!1,vv=null,Ba=null,vp=!1,Ha=null,xp=0,Hu=0,xv=null,bp=-1,yp=0;function lr(){return It&6?qn():bp!==-1?bp:bp=qn()}function Va(u){return u.mode&1?It&2&&rr!==0?rr&-rr:_D.transition!==null?(yp===0&&(yp=Q2()),yp):(u=$t,u!==0?u:Re()):1}function go(u,f,v,C){if(50<Hu)throw Hu=0,xv=null,Error(i(185));Iu(u,v,C),(!(It&2)||u!==Qn)&&(u===Qn&&(!(It&2)&&(mp|=v),Wn===4&&Wa(u,rr)),Mr(u,C),v===1&&It===0&&!(f.mode&1)&&(Xl(),Ff&&ps()))}function Mr(u,f){var v=u.callbackNode;xD(u,f);var C=Lf(u,u===Qn?rr:0);if(C===0)v!==null&&Z2(v),u.callbackNode=null,u.callbackPriority=0;else if(f=C&-C,u.callbackPriority!==f){if(v!=null&&Z2(v),f===1)u.tag===0?ID(mw.bind(null,u)):J2(mw.bind(null,u)),Ve?lt(function(){!(It&6)&&ps()}):C0(w0,ps),v=null;else{switch(Y2(C)){case 1:v=w0;break;case 4:v=wD;break;case 16:v=S0;break;case 536870912:v=SD;break;default:v=S0}v=kw(v,hw.bind(null,u))}u.callbackPriority=f,u.callbackNode=v}}function hw(u,f){if(bp=-1,yp=0,It&6)throw Error(i(327));var v=u.callbackNode;if($i()&&u.callbackNode!==v)return null;var C=Lf(u,u===Qn?rr:0);if(C===0)return null;if(C&30||C&u.expiredLanes||f)f=Cp(u,C);else{f=C;var k=It;It|=2;var P=xw();(Qn!==u||rr!==f)&&(ta=null,Xl(),Ti(u,f));do try{qD();break}catch(ne){vw(u,ne)}while(1);O0(),hp.current=P,It=k,Nn!==null?f=0:(Qn=null,rr=0,f=Wn)}if(f!==0){if(f===2&&(k=x0(u),k!==0&&(C=k,f=bv(u,k))),f===1)throw v=Fu,Ti(u,0),Wa(u,C),Mr(u,qn()),v;if(f===6)Wa(u,C);else{if(k=u.current.alternate,!(C&30)&&!GD(k)&&(f=Cp(u,C),f===2&&(P=x0(u),P!==0&&(C=P,f=bv(u,P))),f===1))throw v=Fu,Ti(u,0),Wa(u,C),Mr(u,qn()),v;switch(u.finishedWork=k,u.finishedLanes=C,f){case 0:case 1:throw Error(i(345));case 2:Ni(u,Er,ta);break;case 3:if(Wa(u,C),(C&130023424)===C&&(f=mv+500-qn(),10<f)){if(Lf(u,0)!==0)break;if(k=u.suspendedLanes,(k&C)!==C){lr(),u.pingedLanes|=u.suspendedLanes&k;break}u.timeoutHandle=te(Ni.bind(null,u,Er,ta),f);break}Ni(u,Er,ta);break;case 4:if(Wa(u,C),(C&4194240)===C)break;for(f=u.eventTimes,k=-1;0<C;){var $=31-Lo(C);P=1<<$,$=f[$],$>k&&(k=$),C&=~P}if(C=k,C=qn()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*UD(C/1960))-C,10<C){u.timeoutHandle=te(Ni.bind(null,u,Er,ta),C);break}Ni(u,Er,ta);break;case 5:Ni(u,Er,ta);break;default:throw Error(i(329))}}}return Mr(u,qn()),u.callbackNode===v?hw.bind(null,u):null}function bv(u,f){var v=Bu;return u.current.memoizedState.isDehydrated&&(Ti(u,f).flags|=256),u=Cp(u,f),u!==2&&(f=Er,Er=v,f!==null&&yv(f)),u}function yv(u){Er===null?Er=u:Er.push.apply(Er,u)}function GD(u){for(var f=u;;){if(f.flags&16384){var v=f.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var C=0;C<v.length;C++){var k=v[C],P=k.getSnapshot;k=k.value;try{if(!zo(P(),k))return!1}catch{return!1}}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Wa(u,f){for(f&=~hv,f&=~mp,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var v=31-Lo(f),C=1<<v;u[v]=-1,f&=~C}}function mw(u){if(It&6)throw Error(i(327));$i();var f=Lf(u,0);if(!(f&1))return Mr(u,qn()),null;var v=Cp(u,f);if(u.tag!==0&&v===2){var C=x0(u);C!==0&&(f=C,v=bv(u,C))}if(v===1)throw v=Fu,Ti(u,0),Wa(u,f),Mr(u,qn()),v;if(v===6)throw Error(i(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,Ni(u,Er,ta),Mr(u,qn()),null}function gw(u){Ha!==null&&Ha.tag===0&&!(It&6)&&$i();var f=It;It|=1;var v=On.transition,C=$t;try{if(On.transition=null,$t=1,u)return u()}finally{$t=C,On.transition=v,It=f,!(It&6)&&ps()}}function Cv(){qr=ql.current,jt(ql)}function Ti(u,f){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;if(v!==J&&(u.timeoutHandle=J,ce(v)),Nn!==null)for(v=Nn.return;v!==null;){var C=v;switch(I0(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&Af();break;case 3:Ul(),jt(Tn),jt(on),B0();break;case 5:z0(C);break;case 4:Ul();break;case 13:jt(bn);break;case 19:jt(bn);break;case 10:D0(C.type._context);break;case 22:case 23:Cv()}v=v.return}if(Qn=u,Nn=u=Ua(u.current,null),rr=qr=f,Wn=0,Fu=null,hv=mp=Ai=0,Er=Bu=null,Di!==null){for(f=0;f<Di.length;f++)if(v=Di[f],C=v.interleaved,C!==null){v.interleaved=null;var k=C.next,P=v.pending;if(P!==null){var $=P.next;P.next=k,C.next=$}v.pending=C}Di=null}return u}function vw(u,f){do{var v=Nn;try{if(O0(),Zf.current=np,Jf){for(var C=yn.memoizedState;C!==null;){var k=C.queue;k!==null&&(k.pending=null),C=C.next}Jf=!1}if(Ri=0,Xn=Vn=yn=null,Ou=!1,Du=0,pv.current=null,v===null||v.return===null){Wn=1,Fu=f,Nn=null;break}e:{var P=u,$=v.return,ne=v,fe=f;if(f=rr,ne.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Me=fe,Xe=ne,xt=Xe.tag;if(!(Xe.mode&1)&&(xt===0||xt===11||xt===15)){var We=Xe.alternate;We?(Xe.updateQueue=We.updateQueue,Xe.memoizedState=We.memoizedState,Xe.lanes=We.lanes):(Xe.updateQueue=null,Xe.memoizedState=null)}var an=HC($);if(an!==null){an.flags&=-257,VC(an,$,ne,P,f),an.mode&1&&BC(P,Me,f),f=an,fe=Me;var Jt=f.updateQueue;if(Jt===null){var Or=new Set;Or.add(fe),f.updateQueue=Or}else Jt.add(fe);break e}else{if(!(f&1)){BC(P,Me,f),wv();break e}fe=Error(i(426))}}else if(cn&&ne.mode&1){var na=HC($);if(na!==null){!(na.flags&65536)&&(na.flags|=256),VC(na,$,ne,P,f),E0(Gl(fe,ne));break e}}P=fe=Gl(fe,ne),Wn!==4&&(Wn=2),Bu===null?Bu=[P]:Bu.push(P),P=$;do{switch(P.tag){case 3:P.flags|=65536,f&=-f,P.lanes|=f;var ue=zC(P,fe,f);lC(P,ue);break e;case 1:ne=fe;var re=P.type,he=P.stateNode;if(!(P.flags&128)&&(typeof re.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(Ba===null||!Ba.has(he)))){P.flags|=65536,f&=-f,P.lanes|=f;var Ue=FC(P,ne,f);lC(P,Ue);break e}}P=P.return}while(P!==null)}yw(v)}catch(at){f=at,Nn===v&&v!==null&&(Nn=v=v.return);continue}break}while(1)}function xw(){var u=hp.current;return hp.current=np,u===null?np:u}function wv(){(Wn===0||Wn===3||Wn===2)&&(Wn=4),Qn===null||!(Ai&268435455)&&!(mp&268435455)||Wa(Qn,rr)}function Cp(u,f){var v=It;It|=2;var C=xw();(Qn!==u||rr!==f)&&(ta=null,Ti(u,f));do try{KD();break}catch(k){vw(u,k)}while(1);if(O0(),It=v,hp.current=C,Nn!==null)throw Error(i(261));return Qn=null,rr=0,Wn}function KD(){for(;Nn!==null;)bw(Nn)}function qD(){for(;Nn!==null&&!yD();)bw(Nn)}function bw(u){var f=Sw(u.alternate,u,qr);u.memoizedProps=u.pendingProps,f===null?yw(u):Nn=f,pv.current=null}function yw(u){var f=u;do{var v=f.alternate;if(u=f.return,f.flags&32768){if(v=BD(v,f),v!==null){v.flags&=32767,Nn=v;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Wn=6,Nn=null;return}}else if(v=FD(v,f,qr),v!==null){Nn=v;return}if(f=f.sibling,f!==null){Nn=f;return}Nn=f=u}while(f!==null);Wn===0&&(Wn=5)}function Ni(u,f,v){var C=$t,k=On.transition;try{On.transition=null,$t=1,XD(u,f,v,C)}finally{On.transition=k,$t=C}return null}function XD(u,f,v,C){do $i();while(Ha!==null);if(It&6)throw Error(i(327));v=u.finishedWork;var k=u.finishedLanes;if(v===null)return null;if(u.finishedWork=null,u.finishedLanes=0,v===u.current)throw Error(i(177));u.callbackNode=null,u.callbackPriority=0;var P=v.lanes|v.childLanes;if(bD(u,P),u===Qn&&(Nn=Qn=null,rr=0),!(v.subtreeFlags&2064)&&!(v.flags&2064)||vp||(vp=!0,kw(S0,function(){return $i(),null})),P=(v.flags&15990)!==0,v.subtreeFlags&15990||P){P=On.transition,On.transition=null;var $=$t;$t=1;var ne=It;It|=4,pv.current=null,VD(u,v),lw(v,u),X(u.containerInfo),u.current=v,WD(v),CD(),It=ne,$t=$,On.transition=P}else u.current=v;if(vp&&(vp=!1,Ha=u,xp=k),P=u.pendingLanes,P===0&&(Ba=null),kD(v.stateNode),Mr(u,qn()),f!==null)for(C=u.onRecoverableError,v=0;v<f.length;v++)k=f[v],C(k.value,{componentStack:k.stack,digest:k.digest});if(gp)throw gp=!1,u=vv,vv=null,u;return xp&1&&u.tag!==0&&$i(),P=u.pendingLanes,P&1?u===xv?Hu++:(Hu=0,xv=u):Hu=0,ps(),null}function $i(){if(Ha!==null){var u=Y2(xp),f=On.transition,v=$t;try{if(On.transition=null,$t=16>u?16:u,Ha===null)var C=!1;else{if(u=Ha,Ha=null,xp=0,It&6)throw Error(i(331));var k=It;for(It|=4,qe=u.current;qe!==null;){var P=qe,$=P.child;if(qe.flags&16){var ne=P.deletions;if(ne!==null){for(var fe=0;fe<ne.length;fe++){var Me=ne[fe];for(qe=Me;qe!==null;){var Xe=qe;switch(Xe.tag){case 0:case 11:case 15:Lu(8,Xe,P)}var xt=Xe.child;if(xt!==null)xt.return=Xe,qe=xt;else for(;qe!==null;){Xe=qe;var We=Xe.sibling,an=Xe.return;if(ow(Xe),Xe===Me){qe=null;break}if(We!==null){We.return=an,qe=We;break}qe=an}}}var Jt=P.alternate;if(Jt!==null){var Or=Jt.child;if(Or!==null){Jt.child=null;do{var na=Or.sibling;Or.sibling=null,Or=na}while(Or!==null)}}qe=P}}if(P.subtreeFlags&2064&&$!==null)$.return=P,qe=$;else e:for(;qe!==null;){if(P=qe,P.flags&2048)switch(P.tag){case 0:case 11:case 15:Lu(9,P,P.return)}var ue=P.sibling;if(ue!==null){ue.return=P.return,qe=ue;break e}qe=P.return}}var re=u.current;for(qe=re;qe!==null;){$=qe;var he=$.child;if($.subtreeFlags&2064&&he!==null)he.return=$,qe=he;else e:for($=re;qe!==null;){if(ne=qe,ne.flags&2048)try{switch(ne.tag){case 0:case 11:case 15:lp(9,ne)}}catch(at){un(ne,ne.return,at)}if(ne===$){qe=null;break e}var Ue=ne.sibling;if(Ue!==null){Ue.return=ne.return,qe=Ue;break e}qe=ne.return}}if(It=k,ps(),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(zf,u)}catch{}C=!0}return C}finally{$t=v,On.transition=f}}return!1}function Cw(u,f,v){f=Gl(v,f),f=zC(u,f,1),u=Fa(u,f,1),f=lr(),u!==null&&(Iu(u,1,f),Mr(u,f))}function un(u,f,v){if(u.tag===3)Cw(u,u,v);else for(;f!==null;){if(f.tag===3){Cw(f,u,v);break}else if(f.tag===1){var C=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Ba===null||!Ba.has(C))){u=Gl(v,u),u=FC(f,u,1),f=Fa(f,u,1),u=lr(),f!==null&&(Iu(f,1,u),Mr(f,u));break}}f=f.return}}function QD(u,f,v){var C=u.pingCache;C!==null&&C.delete(f),f=lr(),u.pingedLanes|=u.suspendedLanes&v,Qn===u&&(rr&v)===v&&(Wn===4||Wn===3&&(rr&130023424)===rr&&500>qn()-mv?Ti(u,0):hv|=v),Mr(u,f)}function ww(u,f){f===0&&(u.mode&1?(f=$f,$f<<=1,!($f&130023424)&&($f=4194304)):f=1);var v=lr();u=hs(u,f),u!==null&&(Iu(u,f,v),Mr(u,v))}function YD(u){var f=u.memoizedState,v=0;f!==null&&(v=f.retryLane),ww(u,v)}function ZD(u,f){var v=0;switch(u.tag){case 13:var C=u.stateNode,k=u.memoizedState;k!==null&&(v=k.retryLane);break;case 19:C=u.stateNode;break;default:throw Error(i(314))}C!==null&&C.delete(f),ww(u,v)}var Sw;Sw=function(u,f,v){if(u!==null)if(u.memoizedProps!==f.pendingProps||Tn.current)Pr=!0;else{if(!(u.lanes&v)&&!(f.flags&128))return Pr=!1,zD(u,f,v);Pr=!!(u.flags&131072)}else Pr=!1,cn&&f.flags&1048576&&eC(f,Hf,f.index);switch(f.lanes=0,f.tag){case 2:var C=f.type;op(u,f),u=f.pendingProps;var k=$l(f,on.current);Hl(f,v),k=W0(null,f,C,u,k,v);var P=U0();return f.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,_r(C)?(P=!0,Tf(f)):P=!1,f.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,T0(f),k.updater=Xf,f.stateNode=k,k._reactInternals=f,$0(f,C,u,v),f=J0(null,f,C,!0,P,v)):(f.tag=0,cn&&P&&j0(f),yr(null,f,k,v),f=f.child),f;case 16:C=f.elementType;e:{switch(op(u,f),u=f.pendingProps,k=C._init,C=k(C._payload),f.type=C,k=f.tag=eR(C),u=Bo(C,u),k){case 0:f=Z0(null,f,C,u,v);break e;case 1:f=XC(null,f,C,u,v);break e;case 11:f=WC(null,f,C,u,v);break e;case 14:f=UC(null,f,C,Bo(C.type,u),v);break e}throw Error(i(306,C,""))}return f;case 0:return C=f.type,k=f.pendingProps,k=f.elementType===C?k:Bo(C,k),Z0(u,f,C,k,v);case 1:return C=f.type,k=f.pendingProps,k=f.elementType===C?k:Bo(C,k),XC(u,f,C,k,v);case 3:e:{if(QC(f),u===null)throw Error(i(387));C=f.pendingProps,P=f.memoizedState,k=P.element,iC(u,f),qf(f,C,null,v);var $=f.memoizedState;if(C=$.element,Ce&&P.isDehydrated)if(P={element:C,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},f.updateQueue.baseState=P,f.memoizedState=P,f.flags&256){k=Gl(Error(i(423)),f),f=YC(u,f,C,v,k);break e}else if(C!==k){k=Gl(Error(i(424)),f),f=YC(u,f,C,v,k);break e}else for(Ce&&(fo=Ye(f.stateNode.containerInfo),Kr=f,cn=!0,Fo=null,_u=!1),v=gC(f,null,C,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Fl(),C===k){f=ea(u,f,v);break e}yr(u,f,C,v)}f=f.child}return f;case 5:return vC(f),u===null&&P0(f),C=f.type,k=f.pendingProps,P=u!==null?u.memoizedProps:null,$=k.children,q(C,k)?$=null:P!==null&&q(C,P)&&(f.flags|=32),qC(u,f),yr(u,f,$,v),f.child;case 6:return u===null&&P0(f),null;case 13:return ZC(u,f,v);case 4:return L0(f,f.stateNode.containerInfo),C=f.pendingProps,u===null?f.child=Vl(f,null,C,v):yr(u,f,C,v),f.child;case 11:return C=f.type,k=f.pendingProps,k=f.elementType===C?k:Bo(C,k),WC(u,f,C,k,v);case 7:return yr(u,f,f.pendingProps,v),f.child;case 8:return yr(u,f,f.pendingProps.children,v),f.child;case 12:return yr(u,f,f.pendingProps.children,v),f.child;case 10:e:{if(C=f.type._context,k=f.pendingProps,P=f.memoizedProps,$=k.value,sC(f,C,$),P!==null)if(zo(P.value,$)){if(P.children===k.children&&!Tn.current){f=ea(u,f,v);break e}}else for(P=f.child,P!==null&&(P.return=f);P!==null;){var ne=P.dependencies;if(ne!==null){$=P.child;for(var fe=ne.firstContext;fe!==null;){if(fe.context===C){if(P.tag===1){fe=Js(-1,v&-v),fe.tag=2;var Me=P.updateQueue;if(Me!==null){Me=Me.shared;var Xe=Me.pending;Xe===null?fe.next=fe:(fe.next=Xe.next,Xe.next=fe),Me.pending=fe}}P.lanes|=v,fe=P.alternate,fe!==null&&(fe.lanes|=v),R0(P.return,v,f),ne.lanes|=v;break}fe=fe.next}}else if(P.tag===10)$=P.type===f.type?null:P.child;else if(P.tag===18){if($=P.return,$===null)throw Error(i(341));$.lanes|=v,ne=$.alternate,ne!==null&&(ne.lanes|=v),R0($,v,f),$=P.sibling}else $=P.child;if($!==null)$.return=P;else for($=P;$!==null;){if($===f){$=null;break}if(P=$.sibling,P!==null){P.return=$.return,$=P;break}$=$.return}P=$}yr(u,f,k.children,v),f=f.child}return f;case 9:return k=f.type,C=f.pendingProps.children,Hl(f,v),k=po(k),C=C(k),f.flags|=1,yr(u,f,C,v),f.child;case 14:return C=f.type,k=Bo(C,f.pendingProps),k=Bo(C.type,k),UC(u,f,C,k,v);case 15:return GC(u,f,f.type,f.pendingProps,v);case 17:return C=f.type,k=f.pendingProps,k=f.elementType===C?k:Bo(C,k),op(u,f),f.tag=1,_r(C)?(u=!0,Tf(f)):u=!1,Hl(f,v),fC(f,C,k),$0(f,C,k,v),J0(null,f,C,!0,u,v);case 19:return ew(u,f,v);case 22:return KC(u,f,v)}throw Error(i(156,f.tag))};function kw(u,f){return C0(u,f)}function JD(u,f,v,C){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vo(u,f,v,C){return new JD(u,f,v,C)}function Sv(u){return u=u.prototype,!(!u||!u.isReactComponent)}function eR(u){if(typeof u=="function")return Sv(u)?1:0;if(u!=null){if(u=u.$$typeof,u===b)return 11;if(u===j)return 14}return 2}function Ua(u,f){var v=u.alternate;return v===null?(v=vo(u.tag,f,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=f,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&14680064,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,f=u.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v}function wp(u,f,v,C,k,P){var $=2;if(C=u,typeof u=="function")Sv(u)&&($=1);else if(typeof u=="string")$=5;else e:switch(u){case h:return Li(v.children,k,P,f);case m:$=8,k|=8;break;case g:return u=vo(12,v,f,k|2),u.elementType=g,u.lanes=P,u;case w:return u=vo(13,v,f,k),u.elementType=w,u.lanes=P,u;case S:return u=vo(19,v,f,k),u.elementType=S,u.lanes=P,u;case M:return Sp(v,k,P,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case x:$=10;break e;case y:$=9;break e;case b:$=11;break e;case j:$=14;break e;case I:$=16,C=null;break e}throw Error(i(130,u==null?u:typeof u,""))}return f=vo($,v,f,k),f.elementType=u,f.type=C,f.lanes=P,f}function Li(u,f,v,C){return u=vo(7,u,C,f),u.lanes=v,u}function Sp(u,f,v,C){return u=vo(22,u,C,f),u.elementType=M,u.lanes=v,u.stateNode={isHidden:!1},u}function kv(u,f,v){return u=vo(6,u,null,f),u.lanes=v,u}function jv(u,f,v){return f=vo(4,u.children!==null?u.children:[],u.key,f),f.lanes=v,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function tR(u,f,v,C,k){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=J,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=b0(0),this.expirationTimes=b0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=b0(0),this.identifierPrefix=C,this.onRecoverableError=k,Ce&&(this.mutableSourceEagerHydrationData=null)}function jw(u,f,v,C,k,P,$,ne,fe){return u=new tR(u,f,v,ne,fe),f===1?(f=1,P===!0&&(f|=8)):f=0,P=vo(3,null,null,f),u.current=P,P.stateNode=u,P.memoizedState={element:C,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},T0(P),u}function Iw(u){if(!u)return or;u=u._reactInternals;e:{if(A(u)!==u||u.tag!==1)throw Error(i(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(_r(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(i(171))}if(u.tag===1){var v=u.type;if(_r(v))return q2(u,v,f)}return f}function _w(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(i(188)):(u=Object.keys(u).join(","),Error(i(268,u)));return u=K(f),u===null?null:u.stateNode}function Pw(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<f?v:f}}function kp(u,f){Pw(u,f),(u=u.alternate)&&Pw(u,f)}function nR(u){return u=K(u),u===null?null:u.stateNode}function rR(){return null}return n.attemptContinuousHydration=function(u){if(u.tag===13){var f=hs(u,134217728);if(f!==null){var v=lr();go(f,u,134217728,v)}kp(u,134217728)}},n.attemptDiscreteHydration=function(u){if(u.tag===13){var f=hs(u,1);if(f!==null){var v=lr();go(f,u,1,v)}kp(u,1)}},n.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var f=Va(u),v=hs(u,f);if(v!==null){var C=lr();go(v,u,f,C)}kp(u,f)}},n.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var v=ju(f.pendingLanes);v!==0&&(y0(f,v|1),Mr(f,qn()),!(It&6)&&(Xl(),ps()))}break;case 13:gw(function(){var C=hs(u,1);if(C!==null){var k=lr();go(C,u,1,k)}}),kp(u,1)}},n.batchedUpdates=function(u,f){var v=It;It|=1;try{return u(f)}finally{It=v,It===0&&(Xl(),Ff&&ps())}},n.createComponentSelector=function(u){return{$$typeof:cp,value:u}},n.createContainer=function(u,f,v,C,k,P,$){return jw(u,f,!1,null,v,C,k,P,$)},n.createHasPseudoClassSelector=function(u){return{$$typeof:up,value:u}},n.createHydrationContainer=function(u,f,v,C,k,P,$,ne,fe){return u=jw(v,C,!0,u,k,P,$,ne,fe),u.context=Iw(null),v=u.current,C=lr(),k=Va(v),P=Js(C,k),P.callback=f??null,Fa(v,P,k),u.current.lanes=k,Iu(u,k,C),Mr(u,C),u},n.createPortal=function(u,f,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:C==null?null:""+C,children:u,containerInfo:f,implementation:v}},n.createRoleSelector=function(u){return{$$typeof:dp,value:u}},n.createTestNameSelector=function(u){return{$$typeof:fp,value:u}},n.createTextSelector=function(u){return{$$typeof:pp,value:u}},n.deferredUpdates=function(u){var f=$t,v=On.transition;try{return On.transition=null,$t=16,u()}finally{$t=f,On.transition=v}},n.discreteUpdates=function(u,f,v,C,k){var P=$t,$=On.transition;try{return On.transition=null,$t=1,u(f,v,C,k)}finally{$t=P,On.transition=$,It===0&&Xl()}},n.findAllNodes=fv,n.findBoundingRects=function(u,f){if(!Ke)throw Error(i(363));f=fv(u,f),u=[];for(var v=0;v<f.length;v++)u.push(et(f[v]));for(f=u.length-1;0<f;f--){v=u[f];for(var C=v.x,k=C+v.width,P=v.y,$=P+v.height,ne=f-1;0<=ne;ne--)if(f!==ne){var fe=u[ne],Me=fe.x,Xe=Me+fe.width,xt=fe.y,We=xt+fe.height;if(C>=Me&&P>=xt&&k<=Xe&&$<=We){u.splice(f,1);break}else if(C!==Me||v.width!==fe.width||We<P||xt>$){if(!(P!==xt||v.height!==fe.height||Xe<C||Me>k)){Me>C&&(fe.width+=Me-C,fe.x=C),Xe<k&&(fe.width=k-Me),u.splice(f,1);break}}else{xt>P&&(fe.height+=xt-P,fe.y=P),We<$&&(fe.height=$-xt),u.splice(f,1);break}}}return u},n.findHostInstance=_w,n.findHostInstanceWithNoPortals=function(u){return u=T(u),u=u!==null?H(u):null,u===null?null:u.stateNode},n.findHostInstanceWithWarning=function(u){return _w(u)},n.flushControlled=function(u){var f=It;It|=1;var v=On.transition,C=$t;try{On.transition=null,$t=1,u()}finally{$t=C,On.transition=v,It=f,It===0&&(Xl(),ps())}},n.flushPassiveEffects=$i,n.flushSync=gw,n.focusWithin=function(u,f){if(!Ke)throw Error(i(363));for(u=cv(u),f=pw(u,f),f=Array.from(f),u=0;u<f.length;){var v=f[u++];if(!ye(v)){if(v.tag===5&&dt(v.stateNode))return!0;for(v=v.child;v!==null;)f.push(v),v=v.sibling}}return!1},n.getCurrentUpdatePriority=function(){return $t},n.getFindAllNodesFailureDescription=function(u,f){if(!Ke)throw Error(i(363));var v=0,C=[];u=[cv(u),0];for(var k=0;k<u.length;){var P=u[k++],$=u[k++],ne=f[$];if((P.tag!==5||!ye(P))&&(uv(P,ne)&&(C.push(dv(ne)),$++,$>v&&(v=$)),$<f.length))for(P=P.child;P!==null;)u.push(P,$),P=P.sibling}if(v<f.length){for(u=[];v<f.length;v++)u.push(dv(f[v]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},n.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return W(u.child.stateNode);default:return u.child.stateNode}},n.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:nR,findFiberByHostInstance:u.findFiberByHostInstance||rR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{zf=f.inject(u),fs=f}catch{}u=!!f.checkDCE}}return u},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(u,f,v,C){if(!Ke)throw Error(i(363));u=fv(u,f);var k=yt(u,v,C).disconnect;return{disconnect:function(){k()}}},n.registerMutableSourceForHydration=function(u,f){var v=f._getVersion;v=v(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,v]:u.mutableSourceEagerHydrationData.push(f,v)},n.runWithPriority=function(u,f){var v=$t;try{return $t=u,f()}finally{$t=v}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(u,f,v,C){var k=f.current,P=lr(),$=Va(k);return v=Iw(v),f.context===null?f.context=v:f.pendingContext=v,f=Js(P,$),f.payload={element:u},C=C===void 0?null:C,C!==null&&(f.callback=C),u=Fa(k,f,$),u!==null&&(go(u,k,$,P),Kf(u,k,$)),$},n};nD.exports=V0e;var W0e=nD.exports;const U0e=ou(W0e);var rD={exports:{}},Rl={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Rl.ConcurrentRoot=1;Rl.ContinuousEventPriority=4;Rl.DefaultEventPriority=16;Rl.DiscreteEventPriority=1;Rl.IdleEventPriority=536870912;Rl.LegacyRoot=0;rD.exports=Rl;var oD=rD.exports;const p_={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let h_=!1,m_=!1;const W2=".react-konva-event",G0e=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,K0e=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,q0e={};function h0(e,t,n=q0e){if(!h_&&"zIndex"in t&&(console.warn(K0e),h_=!0),!m_&&t.draggable){var r=t.x!==void 0||t.y!==void 0,o=t.onDragEnd||t.onDragMove;r&&!o&&(console.warn(G0e),m_=!0)}for(var s in n)if(!p_[s]){var i=s.slice(0,2)==="on",l=n[s]!==t[s];if(i&&l){var c=s.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),e.off(c,n[s])}var p=!t.hasOwnProperty(s);p&&e.setAttr(s,void 0)}var h=t._useStrictMode,m={},g=!1;const x={};for(var s in t)if(!p_[s]){var i=s.slice(0,2)==="on",y=n[s]!==t[s];if(i&&y){var c=s.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),t[s]&&(x[c]=t[s])}!i&&(t[s]!==n[s]||h&&t[s]!==e.getAttr(s))&&(g=!0,m[s]=t[s])}g&&(e.setAttrs(m),Pi(e));for(var c in x)e.on(c+W2,x[c])}function Pi(e){if(!v9.Konva.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}const sD={},X0e={};Wd.Node.prototype._applyProps=h0;function Q0e(e,t){if(typeof t=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`);return}e.add(t),Pi(e)}function Y0e(e,t,n){let r=Wd[e];r||(console.error(`Konva has no node with the type ${e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=Wd.Group);const o={},s={};for(var i in t){var l=i.slice(0,2)==="on";l?s[i]=t[i]:o[i]=t[i]}const c=new r(o);return h0(c,s),c}function Z0e(e,t,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${e}"`)}function J0e(e,t,n){return!1}function eve(e){return e}function tve(){return null}function nve(){return null}function rve(e,t,n,r){return X0e}function ove(){}function sve(e){}function ave(e,t){return!1}function ive(){return sD}function lve(){return sD}const cve=setTimeout,uve=clearTimeout,dve=-1;function fve(e,t){return!1}const pve=!1,hve=!0,mve=!0;function gve(e,t){t.parent===e?t.moveToTop():e.add(t),Pi(e)}function vve(e,t){t.parent===e?t.moveToTop():e.add(t),Pi(e)}function aD(e,t,n){t._remove(),e.add(t),t.setZIndex(n.getZIndex()),Pi(e)}function xve(e,t,n){aD(e,t,n)}function bve(e,t){t.destroy(),t.off(W2),Pi(e)}function yve(e,t){t.destroy(),t.off(W2),Pi(e)}function Cve(e,t,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function wve(e,t,n){}function Sve(e,t,n,r,o){h0(e,o,r)}function kve(e){e.hide(),Pi(e)}function jve(e){}function Ive(e,t){(t.visible==null||t.visible)&&e.show()}function _ve(e,t){}function Pve(e){}function Eve(){}const Mve=()=>oD.DefaultEventPriority,Ove=Object.freeze(Object.defineProperty({__proto__:null,appendChild:gve,appendChildToContainer:vve,appendInitialChild:Q0e,cancelTimeout:uve,clearContainer:Pve,commitMount:wve,commitTextUpdate:Cve,commitUpdate:Sve,createInstance:Y0e,createTextInstance:Z0e,detachDeletedInstance:Eve,finalizeInitialChildren:J0e,getChildHostContext:lve,getCurrentEventPriority:Mve,getPublicInstance:eve,getRootHostContext:ive,hideInstance:kve,hideTextInstance:jve,idlePriority:fh.unstable_IdlePriority,insertBefore:aD,insertInContainerBefore:xve,isPrimaryRenderer:pve,noTimeout:dve,now:fh.unstable_now,prepareForCommit:tve,preparePortalMount:nve,prepareUpdate:rve,removeChild:bve,removeChildFromContainer:yve,resetAfterCommit:ove,resetTextContent:sve,run:fh.unstable_runWithPriority,scheduleTimeout:cve,shouldDeprioritizeSubtree:ave,shouldSetTextContent:fve,supportsMutation:mve,unhideInstance:Ive,unhideTextInstance:_ve,warnsIfNotActing:hve},Symbol.toStringTag,{value:"Module"}));var Dve=Object.defineProperty,Rve=Object.defineProperties,Ave=Object.getOwnPropertyDescriptors,g_=Object.getOwnPropertySymbols,Tve=Object.prototype.hasOwnProperty,Nve=Object.prototype.propertyIsEnumerable,v_=(e,t,n)=>t in e?Dve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x_=(e,t)=>{for(var n in t||(t={}))Tve.call(t,n)&&v_(e,n,t[n]);if(g_)for(var n of g_(t))Nve.call(t,n)&&v_(e,n,t[n]);return e},$ve=(e,t)=>Rve(e,Ave(t));function iD(e,t,n){if(!e)return;if(n(e)===!0)return e;let r=t?e.return:e.child;for(;r;){const o=iD(r,t,n);if(o)return o;r=t?null:r.sibling}}function lD(e){try{return Object.defineProperties(e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return e}}const U2=lD(d.createContext(null));class cD extends d.Component{render(){return d.createElement(U2.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:b_,ReactCurrentDispatcher:y_}=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Lve(){const e=d.useContext(U2);if(e===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=d.useId();return d.useMemo(()=>{for(const r of[b_==null?void 0:b_.current,e,e==null?void 0:e.alternate]){if(!r)continue;const o=iD(r,!1,s=>{let i=s.memoizedState;for(;i;){if(i.memoizedState===t)return!0;i=i.next}});if(o)return o}},[e,t])}function zve(){var e,t;const n=Lve(),[r]=d.useState(()=>new Map);r.clear();let o=n;for(;o;){const s=(e=o.type)==null?void 0:e._context;s&&s!==U2&&!r.has(s)&&r.set(s,(t=y_==null?void 0:y_.current)==null?void 0:t.readContext(lD(s))),o=o.return}return r}function Fve(){const e=zve();return d.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>r=>d.createElement(t,null,d.createElement(n.Provider,$ve(x_({},r),{value:e.get(n)}))),t=>d.createElement(cD,x_({},t))),[e])}function Bve(e){const t=B.useRef({});return B.useLayoutEffect(()=>{t.current=e}),B.useLayoutEffect(()=>()=>{t.current={}},[]),t.current}const Hve=e=>{const t=B.useRef(),n=B.useRef(),r=B.useRef(),o=Bve(e),s=Fve(),i=l=>{const{forwardedRef:c}=e;c&&(typeof c=="function"?c(l):c.current=l)};return B.useLayoutEffect(()=>(n.current=new Wd.Stage({width:e.width,height:e.height,container:t.current}),i(n.current),r.current=ld.createContainer(n.current,oD.LegacyRoot,!1,null),ld.updateContainer(B.createElement(s,{},e.children),r.current),()=>{Wd.isBrowser&&(i(null),ld.updateContainer(null,r.current,null),n.current.destroy())}),[]),B.useLayoutEffect(()=>{i(n.current),h0(n.current,e,o),ld.updateContainer(B.createElement(s,{},e.children),r.current,null)}),B.createElement("div",{ref:t,id:e.id,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},ed="Layer",ja="Group",Bs="Rect",Fi="Circle",Wm="Line",uD="Image",Vve="Transformer",ld=U0e(Ove);ld.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:B.version,rendererPackageName:"react-konva"});const Wve=B.forwardRef((e,t)=>B.createElement(cD,{},B.createElement(Hve,{...e,forwardedRef:t}))),Uve=le([jn,No],(e,t)=>{const{tool:n,isMovingBoundingBox:r}=e;return{tool:n,isStaging:t,isMovingBoundingBox:r}},{memoizeOptions:{resultEqualityCheck:Bt}}),Gve=()=>{const e=ee(),{tool:t,isStaging:n,isMovingBoundingBox:r}=V(Uve);return{handleDragStart:d.useCallback(()=>{(t==="move"||n)&&!r&&e(Rh(!0))},[e,r,n,t]),handleDragMove:d.useCallback(o=>{if(!((t==="move"||n)&&!r))return;const s={x:o.target.x(),y:o.target.y()};e(S5(s))},[e,r,n,t]),handleDragEnd:d.useCallback(()=>{(t==="move"||n)&&!r&&e(Rh(!1))},[e,r,n,t])}},Kve=le([jn,tr,No],(e,t,n)=>{const{cursorPosition:r,shouldLockBoundingBox:o,shouldShowBoundingBox:s,tool:i,isMaskEnabled:l,shouldSnapToGrid:c}=e;return{activeTabName:t,isCursorOnCanvas:!!r,shouldLockBoundingBox:o,shouldShowBoundingBox:s,tool:i,isStaging:n,isMaskEnabled:l,shouldSnapToGrid:c}},{memoizeOptions:{resultEqualityCheck:Bt}}),qve=()=>{const e=ee(),{activeTabName:t,shouldShowBoundingBox:n,tool:r,isStaging:o,isMaskEnabled:s,shouldSnapToGrid:i}=V(Kve),l=d.useRef(null),c=k5(),p=()=>e(j5());Je(["shift+c"],()=>{p()},{enabled:()=>!o,preventDefault:!0},[]);const h=()=>e($b(!s));Je(["h"],()=>{h()},{enabled:()=>!o,preventDefault:!0},[s]),Je(["n"],()=>{e(Ah(!i))},{enabled:!0,preventDefault:!0},[i]),Je("esc",()=>{e(x9())},{enabled:()=>!0,preventDefault:!0}),Je("shift+h",()=>{e(b9(!n))},{enabled:()=>!o,preventDefault:!0},[t,n]),Je(["space"],m=>{m.repeat||(c==null||c.container().focus(),r!=="move"&&(l.current=r,e(kc("move"))),r==="move"&&l.current&&l.current!=="move"&&(e(kc(l.current)),l.current="move"))},{keyup:!0,keydown:!0,preventDefault:!0},[r,l])},G2=e=>{const t=e.getPointerPosition(),n=e.getAbsoluteTransform().copy();if(!t||!n)return;const r=n.invert().point(t);return{x:r.x,y:r.y}},dD=()=>{const e=ee(),t=G1(),n=k5();return{updateColorUnderCursor:()=>{if(!n||!t)return;const r=n.getPointerPosition();if(!r)return;const o=y9.pixelRatio,[s,i,l,c]=t.getContext().getImageData(r.x*o,r.y*o,1,1).data;c&&s&&i&&l&&e(C9({r:s,g:i,b:l,a:c}))},commitColorUnderCursor:()=>{e(w9())}}},Xve=le([tr,jn,No],(e,t,n)=>{const{tool:r}=t;return{tool:r,activeTabName:e,isStaging:n}},{memoizeOptions:{resultEqualityCheck:Bt}}),Qve=e=>{const t=ee(),{tool:n,isStaging:r}=V(Xve),{commitColorUnderCursor:o}=dD();return d.useCallback(s=>{if(!e.current)return;if(e.current.container().focus(),n==="move"||r){t(Rh(!0));return}if(n==="colorPicker"){o();return}const i=G2(e.current);i&&(s.evt.preventDefault(),t(I5(!0)),t(S9([i.x,i.y])))},[e,n,r,t,o])},Yve=le([tr,jn,No],(e,t,n)=>{const{tool:r,isDrawing:o}=t;return{tool:r,isDrawing:o,activeTabName:e,isStaging:n}},{memoizeOptions:{resultEqualityCheck:Bt}}),Zve=(e,t,n)=>{const r=ee(),{isDrawing:o,tool:s,isStaging:i}=V(Yve),{updateColorUnderCursor:l}=dD();return d.useCallback(()=>{if(!e.current)return;const c=G2(e.current);if(c){if(r(k9(c)),n.current=c,s==="colorPicker"){l();return}!o||s==="move"||i||(t.current=!0,r(_5([c.x,c.y])))}},[t,r,o,i,n,e,s,l])},Jve=()=>{const e=ee();return d.useCallback(()=>{e(j9())},[e])},e1e=le([tr,jn,No],(e,t,n)=>{const{tool:r,isDrawing:o}=t;return{tool:r,isDrawing:o,activeTabName:e,isStaging:n}},{memoizeOptions:{resultEqualityCheck:Bt}}),t1e=(e,t)=>{const n=ee(),{tool:r,isDrawing:o,isStaging:s}=V(e1e);return d.useCallback(()=>{if(r==="move"||s){n(Rh(!1));return}if(!t.current&&o&&e.current){const i=G2(e.current);if(!i)return;n(_5([i.x,i.y]))}else t.current=!1;n(I5(!1))},[t,n,o,s,e,r])},n1e=le([jn],e=>{const{isMoveStageKeyHeld:t,stageScale:n}=e;return{isMoveStageKeyHeld:t,stageScale:n}},{memoizeOptions:{resultEqualityCheck:Bt}}),r1e=e=>{const t=ee(),{isMoveStageKeyHeld:n,stageScale:r}=V(n1e);return d.useCallback(o=>{if(!e.current||n)return;o.evt.preventDefault();const s=e.current.getPointerPosition();if(!s)return;const i={x:(s.x-e.current.x())/r,y:(s.y-e.current.y())/r};let l=o.evt.deltaY;o.evt.ctrlKey&&(l=-l);const c=ol(r*P9**l,_9,I9),p={x:s.x-i.x*c,y:s.y-i.y*c};t(E9(c)),t(S5(p))},[e,n,r,t])},o1e=le(jn,e=>{const{boundingBoxCoordinates:t,boundingBoxDimensions:n,stageDimensions:r,stageScale:o,shouldDarkenOutsideBoundingBox:s,stageCoordinates:i}=e;return{boundingBoxCoordinates:t,boundingBoxDimensions:n,shouldDarkenOutsideBoundingBox:s,stageCoordinates:i,stageDimensions:r,stageScale:o}},{memoizeOptions:{resultEqualityCheck:Bt}}),s1e=()=>{const{boundingBoxCoordinates:e,boundingBoxDimensions:t,shouldDarkenOutsideBoundingBox:n,stageCoordinates:r,stageDimensions:o,stageScale:s}=V(o1e);return a.jsxs(ja,{children:[a.jsx(Bs,{offsetX:r.x/s,offsetY:r.y/s,height:o.height/s,width:o.width/s,fill:"rgba(0,0,0,0.4)",listening:!1,visible:n}),a.jsx(Bs,{x:e.x,y:e.y,width:t.width,height:t.height,fill:"rgb(255,255,255)",listening:!1,visible:n,globalCompositeOperation:"destination-out"})]})},a1e=d.memo(s1e),i1e=le([jn],e=>{const{stageScale:t,stageCoordinates:n,stageDimensions:r}=e;return{stageScale:t,stageCoordinates:n,stageDimensions:r}},{memoizeOptions:{resultEqualityCheck:Bt}}),l1e=()=>{const{stageScale:e,stageCoordinates:t,stageDimensions:n}=V(i1e),{colorMode:r}=_a(),[o,s]=d.useState([]),[i,l]=Ps("colors",["base.800","base.200"]),c=d.useCallback(p=>p/e,[e]);return d.useLayoutEffect(()=>{const{width:p,height:h}=n,{x:m,y:g}=t,x={x1:0,y1:0,x2:p,y2:h,offset:{x:c(m),y:c(g)}},y={x:Math.ceil(c(m)/64)*64,y:Math.ceil(c(g)/64)*64},b={x1:-y.x,y1:-y.y,x2:c(p)-y.x+64,y2:c(h)-y.y+64},S={x1:Math.min(x.x1,b.x1),y1:Math.min(x.y1,b.y1),x2:Math.max(x.x2,b.x2),y2:Math.max(x.y2,b.y2)},j=S.x2-S.x1,I=S.y2-S.y1,M=Math.round(j/64)+1,_=Math.round(I/64)+1,E=pS(0,M).map(R=>a.jsx(Wm,{x:S.x1+R*64,y:S.y1,points:[0,0,0,I],stroke:r==="dark"?i:l,strokeWidth:1},`x_${R}`)),D=pS(0,_).map(R=>a.jsx(Wm,{x:S.x1,y:S.y1+R*64,points:[0,0,j,0],stroke:r==="dark"?i:l,strokeWidth:1},`y_${R}`));s(E.concat(D))},[e,t,n,c,r,i,l]),a.jsx(ja,{children:o})},c1e=d.memo(l1e),u1e=le([xe],({system:e,canvas:t})=>{const{denoiseProgress:n}=e,{boundingBox:r}=t.layerState.stagingArea,{batchIds:o}=t;return{boundingBox:r,progressImage:n&&o.includes(n.batch_id)?n.progress_image:void 0}},{memoizeOptions:{resultEqualityCheck:Bt}}),d1e=e=>{const{...t}=e,{progressImage:n,boundingBox:r}=V(u1e),[o,s]=d.useState(null);return d.useEffect(()=>{if(!n)return;const i=new Image;i.onload=()=>{s(i)},i.src=n.dataURL},[n]),n&&r&&o?a.jsx(uD,{x:r.x,y:r.y,width:r.width,height:r.height,image:o,listening:!1,...t}):null},f1e=d.memo(d1e),rl=e=>{const{r:t,g:n,b:r,a:o}=e;return`rgba(${t}, ${n}, ${r}, ${o})`},p1e=le(jn,e=>{const{maskColor:t,stageCoordinates:n,stageDimensions:r,stageScale:o}=e;return{stageCoordinates:n,stageDimensions:r,stageScale:o,maskColorString:rl(t)}}),C_=e=>`data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8" standalone="no"?>
  <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
  <svg width="60px" height="60px" viewBox="0 0 30 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;">
  <g transform="matrix(0.5,0,0,0.5,0,0)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,2.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,7.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,10)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,12.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,15)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,17.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,20)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,22.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,25)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,27.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,30)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-2.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-7.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-10)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-12.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-15)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-17.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-20)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-22.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-25)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-27.5)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
  <g transform="matrix(0.5,0,0,0.5,0,-30)">
      <path d="M-3.5,63.5L64,-4" style="fill:none;stroke:black;stroke-width:1px;"/>
  </g>
</svg>`.replaceAll("black",e),h1e=e=>{const{...t}=e,{maskColorString:n,stageCoordinates:r,stageDimensions:o,stageScale:s}=V(p1e),[i,l]=d.useState(null),[c,p]=d.useState(0),h=d.useRef(null),m=d.useCallback(()=>{p(c+1),setTimeout(m,500)},[c]);return d.useEffect(()=>{if(i)return;const g=new Image;g.onload=()=>{l(g)},g.src=C_(n)},[i,n]),d.useEffect(()=>{i&&(i.src=C_(n))},[i,n]),d.useEffect(()=>{const g=setInterval(()=>p(x=>(x+1)%5),50);return()=>clearInterval(g)},[]),!i||!Ql(r.x)||!Ql(r.y)||!Ql(s)||!Ql(o.width)||!Ql(o.height)?null:a.jsx(Bs,{ref:h,offsetX:r.x/s,offsetY:r.y/s,height:o.height/s,width:o.width/s,fillPatternImage:i,fillPatternOffsetY:Ql(c)?c:0,fillPatternRepeat:"repeat",fillPatternScale:{x:1/s,y:1/s},listening:!0,globalCompositeOperation:"source-in",...t})},m1e=d.memo(h1e),g1e=le([jn],e=>({objects:e.layerState.objects}),{memoizeOptions:{resultEqualityCheck:Bt}}),v1e=e=>{const{...t}=e,{objects:n}=V(g1e);return a.jsx(ja,{listening:!1,...t,children:n.filter(M9).map((r,o)=>a.jsx(Wm,{points:r.points,stroke:"rgb(0,0,0)",strokeWidth:r.strokeWidth*2,tension:0,lineCap:"round",lineJoin:"round",shadowForStrokeEnabled:!1,listening:!1,globalCompositeOperation:r.tool==="brush"?"source-over":"destination-out"},o))})},x1e=d.memo(v1e);var Bi=d,b1e=function(t,n,r){const o=Bi.useRef("loading"),s=Bi.useRef(),[i,l]=Bi.useState(0),c=Bi.useRef(),p=Bi.useRef(),h=Bi.useRef();return(c.current!==t||p.current!==n||h.current!==r)&&(o.current="loading",s.current=void 0,c.current=t,p.current=n,h.current=r),Bi.useLayoutEffect(function(){if(!t)return;var m=document.createElement("img");function g(){o.current="loaded",s.current=m,l(Math.random())}function x(){o.current="failed",s.current=void 0,l(Math.random())}return m.addEventListener("load",g),m.addEventListener("error",x),n&&(m.crossOrigin=n),r&&(m.referrerPolicy=r),m.src=t,function(){m.removeEventListener("load",g),m.removeEventListener("error",x)}},[t,n,r]),[s.current,o.current]};const y1e=ou(b1e),C1e=e=>{const{width:t,height:n,x:r,y:o,imageName:s}=e.canvasImage,{currentData:i,isError:l}=oo(s??Fr.skipToken),[c]=y1e((i==null?void 0:i.image_url)??"",O9.get()?"use-credentials":"anonymous");return l?a.jsx(Bs,{x:r,y:o,width:t,height:n,fill:"red"}):a.jsx(uD,{x:r,y:o,image:c,listening:!1})},fD=d.memo(C1e),w1e=le([jn],e=>{const{layerState:{objects:t}}=e;return{objects:t}},{memoizeOptions:{resultEqualityCheck:Bt}}),S1e=()=>{const{objects:e}=V(w1e);return e?a.jsx(ja,{name:"outpainting-objects",listening:!1,children:e.map((t,n)=>{if(D9(t))return a.jsx(fD,{canvasImage:t},n);if(R9(t)){const r=a.jsx(Wm,{points:t.points,stroke:t.color?rl(t.color):"rgb(0,0,0)",strokeWidth:t.strokeWidth*2,tension:0,lineCap:"round",lineJoin:"round",shadowForStrokeEnabled:!1,listening:!1,globalCompositeOperation:t.tool==="brush"?"source-over":"destination-out"},n);return t.clip?a.jsx(ja,{clipX:t.clip.x,clipY:t.clip.y,clipWidth:t.clip.width,clipHeight:t.clip.height,children:r},n):r}else{if(A9(t))return a.jsx(Bs,{x:t.x,y:t.y,width:t.width,height:t.height,fill:rl(t.color)},n);if(T9(t))return a.jsx(Bs,{x:t.x,y:t.y,width:t.width,height:t.height,fill:"rgb(255, 255, 255)",globalCompositeOperation:"destination-out"},n)}})}):null},k1e=d.memo(S1e),j1e=le([jn],e=>{const{layerState:t,shouldShowStagingImage:n,shouldShowStagingOutline:r,boundingBoxCoordinates:{x:o,y:s},boundingBoxDimensions:{width:i,height:l}}=e,{selectedImageIndex:c,images:p}=t.stagingArea;return{currentStagingAreaImage:p.length>0&&c!==void 0?p[c]:void 0,isOnFirstImage:c===0,isOnLastImage:c===p.length-1,shouldShowStagingImage:n,shouldShowStagingOutline:r,x:o,y:s,width:i,height:l}},{memoizeOptions:{resultEqualityCheck:Bt}}),I1e=e=>{const{...t}=e,{currentStagingAreaImage:n,shouldShowStagingImage:r,shouldShowStagingOutline:o,x:s,y:i,width:l,height:c}=V(j1e);return a.jsxs(ja,{...t,children:[r&&n&&a.jsx(fD,{canvasImage:n}),o&&a.jsxs(ja,{children:[a.jsx(Bs,{x:s,y:i,width:l,height:c,strokeWidth:1,stroke:"white",strokeScaleEnabled:!1}),a.jsx(Bs,{x:s,y:i,width:l,height:c,dash:[4,4],strokeWidth:1,stroke:"black",strokeScaleEnabled:!1})]})]})},_1e=d.memo(I1e),P1e=le([jn],e=>{const{layerState:{stagingArea:{images:t,selectedImageIndex:n}},shouldShowStagingOutline:r,shouldShowStagingImage:o}=e;return{currentStagingAreaImage:t.length>0?t[n]:void 0,isOnFirstImage:n===0,isOnLastImage:n===t.length-1,shouldShowStagingImage:o,shouldShowStagingOutline:r}},Ie),E1e=()=>{const e=ee(),{isOnFirstImage:t,isOnLastImage:n,currentStagingAreaImage:r,shouldShowStagingImage:o}=V(P1e),{t:s}=Z(),i=d.useCallback(()=>{e(hS(!0))},[e]),l=d.useCallback(()=>{e(hS(!1))},[e]);Je(["left"],()=>{c()},{enabled:()=>!0,preventDefault:!0}),Je(["right"],()=>{p()},{enabled:()=>!0,preventDefault:!0}),Je(["enter"],()=>{h()},{enabled:()=>!0,preventDefault:!0});const c=d.useCallback(()=>e(N9()),[e]),p=d.useCallback(()=>e($9()),[e]),h=d.useCallback(()=>e(L9()),[e]),{data:m}=oo((r==null?void 0:r.imageName)??Fr.skipToken);return r?a.jsx(N,{pos:"absolute",bottom:4,w:"100%",align:"center",justify:"center",onMouseOver:i,onMouseOut:l,children:a.jsxs(Gt,{isAttached:!0,borderRadius:"base",shadow:"dark-lg",children:[a.jsx(ze,{tooltip:`${s("unifiedCanvas.previous")} (Left)`,"aria-label":`${s("unifiedCanvas.previous")} (Left)`,icon:a.jsx(uee,{}),onClick:c,colorScheme:"accent",isDisabled:t}),a.jsx(ze,{tooltip:`${s("unifiedCanvas.next")} (Right)`,"aria-label":`${s("unifiedCanvas.next")} (Right)`,icon:a.jsx(dee,{}),onClick:p,colorScheme:"accent",isDisabled:n}),a.jsx(ze,{tooltip:`${s("unifiedCanvas.accept")} (Enter)`,"aria-label":`${s("unifiedCanvas.accept")} (Enter)`,icon:a.jsx(BM,{}),onClick:h,colorScheme:"accent"}),a.jsx(ze,{tooltip:s("unifiedCanvas.showHide"),"aria-label":s("unifiedCanvas.showHide"),"data-alert":!o,icon:o?a.jsx(kee,{}):a.jsx(See,{}),onClick:()=>e(z9(!o)),colorScheme:"accent"}),a.jsx(ze,{tooltip:s("unifiedCanvas.saveToGallery"),"aria-label":s("unifiedCanvas.saveToGallery"),isDisabled:!m||!m.is_intermediate,icon:a.jsx(Lg,{}),onClick:()=>{m&&e(F9({imageDTO:m}))},colorScheme:"accent"}),a.jsx(ze,{tooltip:s("unifiedCanvas.discardAll"),"aria-label":s("unifiedCanvas.discardAll"),icon:a.jsx(_l,{style:{transform:"rotate(45deg)"}}),onClick:()=>e(B9()),colorScheme:"error",fontSize:20})]})}):null},M1e=d.memo(E1e),O1e=()=>{const e=V(l=>l.canvas.layerState),t=V(l=>l.canvas.boundingBoxCoordinates),n=V(l=>l.canvas.boundingBoxDimensions),r=V(l=>l.canvas.isMaskEnabled),o=V(l=>l.canvas.shouldPreserveMaskedArea),[s,i]=d.useState();return d.useEffect(()=>{i(void 0)},[e,t,n,r,o]),Qee(async()=>{const l=await H9(e,t,n,r,o);if(!l)return;const{baseImageData:c,maskImageData:p}=l,h=V9(c,p);i(h)},1e3,[e,t,n,r,o]),s},D1e={txt2img:"Text to Image",img2img:"Image to Image",inpaint:"Inpaint",outpaint:"Inpaint"},R1e=()=>{const e=O1e();return a.jsxs(_e,{children:["Mode: ",e?D1e[e]:"..."]})},A1e=d.memo(R1e),wc=e=>Math.round(e*100)/100,T1e=le([jn],e=>{const{cursorPosition:t}=e,{cursorX:n,cursorY:r}=t?{cursorX:t.x,cursorY:t.y}:{cursorX:-1,cursorY:-1};return{cursorCoordinatesString:`(${wc(n)}, ${wc(r)})`}},{memoizeOptions:{resultEqualityCheck:Bt}});function N1e(){const{cursorCoordinatesString:e}=V(T1e),{t}=Z();return a.jsx(_e,{children:`${t("unifiedCanvas.cursorPosition")}: ${e}`})}const hb="var(--invokeai-colors-warning-500)",$1e=le([jn],e=>{const{stageDimensions:{width:t,height:n},stageCoordinates:{x:r,y:o},boundingBoxDimensions:{width:s,height:i},scaledBoundingBoxDimensions:{width:l,height:c},boundingBoxCoordinates:{x:p,y:h},stageScale:m,shouldShowCanvasDebugInfo:g,layer:x,boundingBoxScaleMethod:y,shouldPreserveMaskedArea:b}=e;let w="inherit";return(y==="none"&&(s<512||i<512)||y==="manual"&&l*c<512*512)&&(w=hb),{activeLayerColor:x==="mask"?hb:"inherit",activeLayerString:x.charAt(0).toUpperCase()+x.slice(1),boundingBoxColor:w,boundingBoxCoordinatesString:`(${wc(p)}, ${wc(h)})`,boundingBoxDimensionsString:`${s}×${i}`,scaledBoundingBoxDimensionsString:`${l}×${c}`,canvasCoordinatesString:`${wc(r)}×${wc(o)}`,canvasDimensionsString:`${t}×${n}`,canvasScaleString:Math.round(m*100),shouldShowCanvasDebugInfo:g,shouldShowBoundingBox:y!=="auto",shouldShowScaledBoundingBox:y!=="none",shouldPreserveMaskedArea:b}},{memoizeOptions:{resultEqualityCheck:Bt}}),L1e=()=>{const{activeLayerColor:e,activeLayerString:t,boundingBoxColor:n,boundingBoxCoordinatesString:r,boundingBoxDimensionsString:o,scaledBoundingBoxDimensionsString:s,shouldShowScaledBoundingBox:i,canvasCoordinatesString:l,canvasDimensionsString:c,canvasScaleString:p,shouldShowCanvasDebugInfo:h,shouldShowBoundingBox:m,shouldPreserveMaskedArea:g}=V($1e),{t:x}=Z();return a.jsxs(N,{sx:{flexDirection:"column",position:"absolute",top:0,insetInlineStart:0,opacity:.65,display:"flex",fontSize:"sm",padding:1,px:2,minWidth:48,margin:1,borderRadius:"base",pointerEvents:"none",bg:"base.200",_dark:{bg:"base.800"}},children:[a.jsx(A1e,{}),a.jsx(_e,{style:{color:e},children:`${x("unifiedCanvas.activeLayer")}: ${t}`}),a.jsx(_e,{children:`${x("unifiedCanvas.canvasScale")}: ${p}%`}),g&&a.jsx(_e,{style:{color:hb},children:"Preserve Masked Area: On"}),m&&a.jsx(_e,{style:{color:n},children:`${x("unifiedCanvas.boundingBox")}: ${o}`}),i&&a.jsx(_e,{style:{color:n},children:`${x("unifiedCanvas.scaledBoundingBox")}: ${s}`}),h&&a.jsxs(a.Fragment,{children:[a.jsx(_e,{children:`${x("unifiedCanvas.boundingBoxPosition")}: ${r}`}),a.jsx(_e,{children:`${x("unifiedCanvas.canvasDimensions")}: ${c}`}),a.jsx(_e,{children:`${x("unifiedCanvas.canvasPosition")}: ${l}`}),a.jsx(N1e,{})]})]})},z1e=d.memo(L1e),F1e=le([xe],({canvas:e,generation:t})=>{const{boundingBoxCoordinates:n,boundingBoxDimensions:r,stageScale:o,isDrawing:s,isTransformingBoundingBox:i,isMovingBoundingBox:l,tool:c,shouldSnapToGrid:p}=e,{aspectRatio:h}=t;return{boundingBoxCoordinates:n,boundingBoxDimensions:r,isDrawing:s,isMovingBoundingBox:l,isTransformingBoundingBox:i,stageScale:o,shouldSnapToGrid:p,tool:c,hitStrokeWidth:20/o,aspectRatio:h}},{memoizeOptions:{resultEqualityCheck:Bt}}),B1e=e=>{const{...t}=e,n=ee(),{boundingBoxCoordinates:r,boundingBoxDimensions:o,isDrawing:s,isMovingBoundingBox:i,isTransformingBoundingBox:l,stageScale:c,shouldSnapToGrid:p,tool:h,hitStrokeWidth:m,aspectRatio:g}=V(F1e),x=d.useRef(null),y=d.useRef(null),[b,w]=d.useState(!1);d.useEffect(()=>{var L;!x.current||!y.current||(x.current.nodes([y.current]),(L=x.current.getLayer())==null||L.batchDraw())},[]);const S=64*c;Je("N",()=>{n(Ah(!p))});const j=d.useCallback(L=>{if(!p){n(Ov({x:Math.floor(L.target.x()),y:Math.floor(L.target.y())}));return}const H=L.target.x(),U=L.target.y(),W=kr(H,64),z=kr(U,64);L.target.x(W),L.target.y(z),n(Ov({x:W,y:z}))},[n,p]),I=d.useCallback(()=>{if(!y.current)return;const L=y.current,H=L.scaleX(),U=L.scaleY(),W=Math.round(L.width()*H),z=Math.round(L.height()*U),Q=Math.round(L.x()),F=Math.round(L.y());if(g){const X=kr(W/g,64);n(Qo({width:W,height:X}))}else n(Qo({width:W,height:z}));n(Ov({x:p?td(Q,64):Q,y:p?td(F,64):F})),L.scaleX(1),L.scaleY(1)},[n,p,g]),M=d.useCallback((L,H,U)=>{const W=L.x%S,z=L.y%S;return{x:td(H.x,S)+W,y:td(H.y,S)+z}},[S]),_=()=>{n(Dv(!0))},E=()=>{n(Dv(!1)),n(Rv(!1)),n(Pp(!1)),w(!1)},D=()=>{n(Rv(!0))},R=()=>{n(Dv(!1)),n(Rv(!1)),n(Pp(!1)),w(!1)},A=()=>{w(!0)},O=()=>{!l&&!i&&w(!1)},T=()=>{n(Pp(!0))},K=()=>{n(Pp(!1))};return a.jsxs(ja,{...t,children:[a.jsx(Bs,{height:o.height,width:o.width,x:r.x,y:r.y,onMouseEnter:T,onMouseOver:T,onMouseLeave:K,onMouseOut:K}),a.jsx(Bs,{draggable:!0,fillEnabled:!1,height:o.height,hitStrokeWidth:m,listening:!s&&h==="move",onDragStart:D,onDragEnd:R,onDragMove:j,onMouseDown:D,onMouseOut:O,onMouseOver:A,onMouseEnter:A,onMouseUp:R,onTransform:I,onTransformEnd:E,ref:y,stroke:b?"rgba(255,255,255,0.7)":"white",strokeWidth:(b?8:1)/c,width:o.width,x:r.x,y:r.y}),a.jsx(Vve,{anchorCornerRadius:3,anchorDragBoundFunc:M,anchorFill:"rgba(212,216,234,1)",anchorSize:15,anchorStroke:"rgb(42,42,42)",borderDash:[4,4],borderEnabled:!0,borderStroke:"black",draggable:!1,enabledAnchors:h==="move"?void 0:[],flipEnabled:!1,ignoreStroke:!0,keepRatio:!1,listening:!s&&h==="move",onDragStart:D,onDragEnd:R,onMouseDown:_,onMouseUp:E,onTransformEnd:E,ref:x,rotateEnabled:!1})]})},H1e=d.memo(B1e),V1e=le(jn,e=>{const{cursorPosition:t,brushSize:n,colorPickerColor:r,maskColor:o,brushColor:s,tool:i,layer:l,shouldShowBrush:c,isMovingBoundingBox:p,isTransformingBoundingBox:h,stageScale:m,stageDimensions:g,boundingBoxCoordinates:x,boundingBoxDimensions:y,shouldRestrictStrokesToBox:b}=e,w=b?{clipX:x.x,clipY:x.y,clipWidth:y.width,clipHeight:y.height}:{};return{cursorPosition:t,brushX:t?t.x:g.width/2,brushY:t?t.y:g.height/2,radius:n/2,colorPickerOuterRadius:mS/m,colorPickerInnerRadius:(mS-K1+1)/m,maskColorString:rl({...o,a:.5}),brushColorString:rl(s),colorPickerColorString:rl(r),tool:i,layer:l,shouldShowBrush:c,shouldDrawBrushPreview:!(p||h||!t)&&c,strokeWidth:1.5/m,dotRadius:1.5/m,clip:w}},{memoizeOptions:{resultEqualityCheck:Bt}}),W1e=e=>{const{...t}=e,{brushX:n,brushY:r,radius:o,maskColorString:s,tool:i,layer:l,shouldDrawBrushPreview:c,dotRadius:p,strokeWidth:h,brushColorString:m,colorPickerColorString:g,colorPickerInnerRadius:x,colorPickerOuterRadius:y,clip:b}=V(V1e);return c?a.jsxs(ja,{listening:!1,...b,...t,children:[i==="colorPicker"?a.jsxs(a.Fragment,{children:[a.jsx(Fi,{x:n,y:r,radius:y,stroke:m,strokeWidth:K1,strokeScaleEnabled:!1}),a.jsx(Fi,{x:n,y:r,radius:x,stroke:g,strokeWidth:K1,strokeScaleEnabled:!1})]}):a.jsxs(a.Fragment,{children:[a.jsx(Fi,{x:n,y:r,radius:o,fill:l==="mask"?s:m,globalCompositeOperation:i==="eraser"?"destination-out":"source-out"}),a.jsx(Fi,{x:n,y:r,radius:o,stroke:"rgba(255,255,255,0.4)",strokeWidth:h*2,strokeEnabled:!0,listening:!1}),a.jsx(Fi,{x:n,y:r,radius:o,stroke:"rgba(0,0,0,1)",strokeWidth:h,strokeEnabled:!0,listening:!1})]}),a.jsx(Fi,{x:n,y:r,radius:p*2,fill:"rgba(255,255,255,0.4)",listening:!1}),a.jsx(Fi,{x:n,y:r,radius:p,fill:"rgba(0,0,0,1)",listening:!1})]}):null},U1e=d.memo(W1e),G1e=le([jn,No],(e,t)=>{const{isMaskEnabled:n,stageScale:r,shouldShowBoundingBox:o,isTransformingBoundingBox:s,isMouseOverBoundingBox:i,isMovingBoundingBox:l,stageDimensions:c,stageCoordinates:p,tool:h,isMovingStage:m,shouldShowIntermediates:g,shouldShowGrid:x,shouldRestrictStrokesToBox:y,shouldAntialias:b}=e;let w="none";return h==="move"||t?m?w="grabbing":w="grab":s?w=void 0:y&&!i&&(w="default"),{isMaskEnabled:n,isModifyingBoundingBox:s||l,shouldShowBoundingBox:o,shouldShowGrid:x,stageCoordinates:p,stageCursor:w,stageDimensions:c,stageScale:r,tool:h,isStaging:t,shouldShowIntermediates:g,shouldAntialias:b}},Ie),K1e=we(Wve,{shouldForwardProp:e=>!["sx"].includes(e)}),q1e=()=>{const{isMaskEnabled:e,isModifyingBoundingBox:t,shouldShowBoundingBox:n,shouldShowGrid:r,stageCoordinates:o,stageCursor:s,stageDimensions:i,stageScale:l,tool:c,isStaging:p,shouldShowIntermediates:h,shouldAntialias:m}=V(G1e);qve();const g=ee(),x=d.useRef(null),y=d.useRef(null),b=d.useRef(null),w=d.useCallback(K=>{W9(K),y.current=K},[]),S=d.useCallback(K=>{U9(K),b.current=K},[]),j=d.useRef({x:0,y:0}),I=d.useRef(!1),M=r1e(y),_=Qve(y),E=t1e(y,I),D=Zve(y,I,j),R=Jve(),{handleDragStart:A,handleDragMove:O,handleDragEnd:T}=Gve();return d.useEffect(()=>{if(!x.current)return;const K=new ResizeObserver(U=>{for(const W of U)if(W.contentBoxSize){const{width:z,height:Q}=W.contentRect;g(gS({width:z,height:Q}))}});K.observe(x.current);const{width:L,height:H}=x.current.getBoundingClientRect();return g(gS({width:L,height:H})),()=>{K.disconnect()}},[g]),a.jsxs(N,{id:"canvas-container",ref:x,sx:{position:"relative",height:"100%",width:"100%",borderRadius:"base"},children:[a.jsx(_e,{sx:{position:"absolute"},children:a.jsxs(K1e,{tabIndex:-1,ref:w,sx:{outline:"none",overflow:"hidden",cursor:s||void 0,canvas:{outline:"none"}},x:o.x,y:o.y,width:i.width,height:i.height,scale:{x:l,y:l},onTouchStart:_,onTouchMove:D,onTouchEnd:E,onMouseDown:_,onMouseLeave:R,onMouseMove:D,onMouseUp:E,onDragStart:A,onDragMove:O,onDragEnd:T,onContextMenu:K=>K.evt.preventDefault(),onWheel:M,draggable:(c==="move"||p)&&!t,children:[a.jsx(ed,{id:"grid",visible:r,children:a.jsx(c1e,{})}),a.jsx(ed,{id:"base",ref:S,listening:!1,imageSmoothingEnabled:m,children:a.jsx(k1e,{})}),a.jsxs(ed,{id:"mask",visible:e,listening:!1,children:[a.jsx(x1e,{visible:!0,listening:!1}),a.jsx(m1e,{listening:!1})]}),a.jsx(ed,{children:a.jsx(a1e,{})}),a.jsxs(ed,{id:"preview",imageSmoothingEnabled:m,children:[!p&&a.jsx(U1e,{visible:c!=="move",listening:!1}),a.jsx(_1e,{visible:p}),h&&a.jsx(f1e,{}),a.jsx(H1e,{visible:n&&!p})]})]})}),a.jsx(z1e,{}),a.jsx(M1e,{})]})},X1e=d.memo(q1e);function Q1e(e,t,n=250){const[r,o]=d.useState(0);return d.useEffect(()=>{const s=setTimeout(()=>{r===1&&e(),o(0)},n);return r===2&&t(),()=>clearTimeout(s)},[r,e,t,n]),()=>o(s=>s+1)}const Y1e=we(t7,{baseStyle:{paddingInline:4},shouldForwardProp:e=>!["pickerColor"].includes(e)}),R1={width:6,height:6,borderColor:"base.100"},Z1e=e=>{const{styleClass:t="",...n}=e;return a.jsx(Y1e,{sx:{".react-colorful__hue-pointer":R1,".react-colorful__saturation-pointer":R1,".react-colorful__alpha-pointer":R1},className:t,...n})},pD=d.memo(Z1e),J1e=le([jn,No],(e,t)=>{const{maskColor:n,layer:r,isMaskEnabled:o,shouldPreserveMaskedArea:s}=e;return{layer:r,maskColor:n,maskColorString:rl(n),isMaskEnabled:o,shouldPreserveMaskedArea:s,isStaging:t}},{memoizeOptions:{resultEqualityCheck:Bt}}),exe=()=>{const e=ee(),{t}=Z(),{layer:n,maskColor:r,isMaskEnabled:o,shouldPreserveMaskedArea:s,isStaging:i}=V(J1e);Je(["q"],()=>{l()},{enabled:()=>!i,preventDefault:!0},[n]),Je(["shift+c"],()=>{c()},{enabled:()=>!i,preventDefault:!0},[]),Je(["h"],()=>{p()},{enabled:()=>!i,preventDefault:!0},[o]);const l=()=>{e(P5(n==="mask"?"base":"mask"))},c=()=>e(j5()),p=()=>e($b(!o)),h=async()=>{e(q9())};return a.jsx(If,{triggerComponent:a.jsx(Gt,{children:a.jsx(ze,{"aria-label":t("unifiedCanvas.maskingOptions"),tooltip:t("unifiedCanvas.maskingOptions"),icon:a.jsx(XM,{}),isChecked:n==="mask",isDisabled:i})}),children:a.jsxs(N,{direction:"column",gap:2,children:[a.jsx(Cr,{label:`${t("unifiedCanvas.enableMask")} (H)`,isChecked:o,onChange:p}),a.jsx(Cr,{label:t("unifiedCanvas.preserveMaskedArea"),isChecked:s,onChange:m=>e(G9(m.target.checked))}),a.jsx(pD,{sx:{paddingTop:2,paddingBottom:2},pickerColor:r,onChange:m=>e(K9(m))}),a.jsx(it,{size:"sm",leftIcon:a.jsx(Lg,{}),onClick:h,children:"Save Mask"}),a.jsxs(it,{size:"sm",leftIcon:a.jsx(Vr,{}),onClick:c,children:[t("unifiedCanvas.clearMask")," (Shift+C)"]})]})})},txe=d.memo(exe),nxe=le([xe,tr],({canvas:e},t)=>{const{futureLayerStates:n}=e;return{canRedo:n.length>0,activeTabName:t}},{memoizeOptions:{resultEqualityCheck:Bt}});function rxe(){const e=ee(),{canRedo:t,activeTabName:n}=V(nxe),{t:r}=Z(),o=()=>{e(X9())};return Je(["meta+shift+z","ctrl+shift+z","control+y","meta+y"],()=>{o()},{enabled:()=>t,preventDefault:!0},[n,t]),a.jsx(ze,{"aria-label":`${r("unifiedCanvas.redo")} (Ctrl+Shift+Z)`,tooltip:`${r("unifiedCanvas.redo")} (Ctrl+Shift+Z)`,icon:a.jsx($ee,{}),onClick:o,isDisabled:!t})}const oxe=()=>{const e=V(No),t=ee(),{t:n}=Z();return a.jsxs(t0,{title:n("unifiedCanvas.clearCanvasHistory"),acceptCallback:()=>t(Q9()),acceptButtonText:n("unifiedCanvas.clearHistory"),triggerComponent:a.jsx(it,{size:"sm",leftIcon:a.jsx(Vr,{}),isDisabled:e,children:n("unifiedCanvas.clearCanvasHistory")}),children:[a.jsx("p",{children:n("unifiedCanvas.clearCanvasHistoryMessage")}),a.jsx("br",{}),a.jsx("p",{children:n("unifiedCanvas.clearCanvasHistoryConfirm")})]})},sxe=d.memo(oxe),axe=le([jn],e=>{const{shouldAutoSave:t,shouldCropToBoundingBoxOnSave:n,shouldDarkenOutsideBoundingBox:r,shouldShowCanvasDebugInfo:o,shouldShowGrid:s,shouldShowIntermediates:i,shouldSnapToGrid:l,shouldRestrictStrokesToBox:c,shouldAntialias:p}=e;return{shouldAutoSave:t,shouldCropToBoundingBoxOnSave:n,shouldDarkenOutsideBoundingBox:r,shouldShowCanvasDebugInfo:o,shouldShowGrid:s,shouldShowIntermediates:i,shouldSnapToGrid:l,shouldRestrictStrokesToBox:c,shouldAntialias:p}},{memoizeOptions:{resultEqualityCheck:Bt}}),ixe=()=>{const e=ee(),{t}=Z(),{shouldAutoSave:n,shouldCropToBoundingBoxOnSave:r,shouldDarkenOutsideBoundingBox:o,shouldShowCanvasDebugInfo:s,shouldShowGrid:i,shouldShowIntermediates:l,shouldSnapToGrid:c,shouldRestrictStrokesToBox:p,shouldAntialias:h}=V(axe);Je(["n"],()=>{e(Ah(!c))},{enabled:!0,preventDefault:!0},[c]);const m=g=>e(Ah(g.target.checked));return a.jsx(If,{isLazy:!1,triggerComponent:a.jsx(ze,{tooltip:t("unifiedCanvas.canvasSettings"),"aria-label":t("unifiedCanvas.canvasSettings"),icon:a.jsx(e8,{})}),children:a.jsxs(N,{direction:"column",gap:2,children:[a.jsx(Cr,{label:t("unifiedCanvas.showIntermediates"),isChecked:l,onChange:g=>e(Y9(g.target.checked))}),a.jsx(Cr,{label:t("unifiedCanvas.showGrid"),isChecked:i,onChange:g=>e(Z9(g.target.checked))}),a.jsx(Cr,{label:t("unifiedCanvas.snapToGrid"),isChecked:c,onChange:m}),a.jsx(Cr,{label:t("unifiedCanvas.darkenOutsideSelection"),isChecked:o,onChange:g=>e(J9(g.target.checked))}),a.jsx(Cr,{label:t("unifiedCanvas.autoSaveToGallery"),isChecked:n,onChange:g=>e(e$(g.target.checked))}),a.jsx(Cr,{label:t("unifiedCanvas.saveBoxRegionOnly"),isChecked:r,onChange:g=>e(t$(g.target.checked))}),a.jsx(Cr,{label:t("unifiedCanvas.limitStrokesToBox"),isChecked:p,onChange:g=>e(n$(g.target.checked))}),a.jsx(Cr,{label:t("unifiedCanvas.showCanvasDebugInfo"),isChecked:s,onChange:g=>e(r$(g.target.checked))}),a.jsx(Cr,{label:t("unifiedCanvas.antialiasing"),isChecked:h,onChange:g=>e(o$(g.target.checked))}),a.jsx(sxe,{})]})})},lxe=d.memo(ixe),cxe=le([xe,No],({canvas:e},t)=>{const{tool:n,brushColor:r,brushSize:o}=e;return{tool:n,isStaging:t,brushColor:r,brushSize:o}},{memoizeOptions:{resultEqualityCheck:Bt}}),uxe=()=>{const e=ee(),{tool:t,brushColor:n,brushSize:r,isStaging:o}=V(cxe),{t:s}=Z();Je(["b"],()=>{i()},{enabled:()=>!o,preventDefault:!0},[]),Je(["e"],()=>{l()},{enabled:()=>!o,preventDefault:!0},[t]),Je(["c"],()=>{c()},{enabled:()=>!o,preventDefault:!0},[t]),Je(["shift+f"],()=>{p()},{enabled:()=>!o,preventDefault:!0}),Je(["delete","backspace"],()=>{h()},{enabled:()=>!o,preventDefault:!0}),Je(["BracketLeft"],()=>{r-5<=5?e(Ep(Math.max(r-1,1))):e(Ep(Math.max(r-5,1)))},{enabled:()=>!o,preventDefault:!0},[r]),Je(["BracketRight"],()=>{e(Ep(Math.min(r+5,500)))},{enabled:()=>!o,preventDefault:!0},[r]),Je(["Shift+BracketLeft"],()=>{e(Av({...n,a:ol(n.a-.05,.05,1)}))},{enabled:()=>!o,preventDefault:!0},[n]),Je(["Shift+BracketRight"],()=>{e(Av({...n,a:ol(n.a+.05,.05,1)}))},{enabled:()=>!o,preventDefault:!0},[n]);const i=()=>e(kc("brush")),l=()=>e(kc("eraser")),c=()=>e(kc("colorPicker")),p=()=>e(s$()),h=()=>e(a$());return a.jsxs(Gt,{isAttached:!0,children:[a.jsx(ze,{"aria-label":`${s("unifiedCanvas.brush")} (B)`,tooltip:`${s("unifiedCanvas.brush")} (B)`,icon:a.jsx(Ree,{}),isChecked:t==="brush"&&!o,onClick:i,isDisabled:o}),a.jsx(ze,{"aria-label":`${s("unifiedCanvas.eraser")} (E)`,tooltip:`${s("unifiedCanvas.eraser")} (E)`,icon:a.jsx(bee,{}),isChecked:t==="eraser"&&!o,isDisabled:o,onClick:l}),a.jsx(ze,{"aria-label":`${s("unifiedCanvas.fillBoundingBox")} (Shift+F)`,tooltip:`${s("unifiedCanvas.fillBoundingBox")} (Shift+F)`,icon:a.jsx(jee,{}),isDisabled:o,onClick:p}),a.jsx(ze,{"aria-label":`${s("unifiedCanvas.eraseBoundingBox")} (Del/Backspace)`,tooltip:`${s("unifiedCanvas.eraseBoundingBox")} (Del/Backspace)`,icon:a.jsx(_l,{style:{transform:"rotate(45deg)"}}),isDisabled:o,onClick:h}),a.jsx(ze,{"aria-label":`${s("unifiedCanvas.colorPicker")} (C)`,tooltip:`${s("unifiedCanvas.colorPicker")} (C)`,icon:a.jsx(wee,{}),isChecked:t==="colorPicker"&&!o,isDisabled:o,onClick:c}),a.jsx(If,{triggerComponent:a.jsx(ze,{"aria-label":s("unifiedCanvas.brushOptions"),tooltip:s("unifiedCanvas.brushOptions"),icon:a.jsx(ZM,{})}),children:a.jsxs(N,{minWidth:60,direction:"column",gap:4,width:"100%",children:[a.jsx(N,{gap:4,justifyContent:"space-between",children:a.jsx(nt,{label:s("unifiedCanvas.brushSize"),value:r,withInput:!0,onChange:m=>e(Ep(m)),sliderNumberInputProps:{max:500}})}),a.jsx(pD,{sx:{width:"100%",paddingTop:2,paddingBottom:2},pickerColor:n,onChange:m=>e(Av(m))})]})})]})},dxe=d.memo(uxe),fxe=le([xe,tr],({canvas:e},t)=>{const{pastLayerStates:n}=e;return{canUndo:n.length>0,activeTabName:t}},{memoizeOptions:{resultEqualityCheck:Bt}});function pxe(){const e=ee(),{t}=Z(),{canUndo:n,activeTabName:r}=V(fxe),o=()=>{e(i$())};return Je(["meta+z","ctrl+z"],()=>{o()},{enabled:()=>n,preventDefault:!0},[r,n]),a.jsx(ze,{"aria-label":`${t("unifiedCanvas.undo")} (Ctrl+Z)`,tooltip:`${t("unifiedCanvas.undo")} (Ctrl+Z)`,icon:a.jsx(Sf,{}),onClick:o,isDisabled:!n})}const hxe=le([xe,No],({canvas:e},t)=>{const{tool:n,shouldCropToBoundingBoxOnSave:r,layer:o,isMaskEnabled:s}=e;return{isStaging:t,isMaskEnabled:s,tool:n,layer:o,shouldCropToBoundingBoxOnSave:r}},{memoizeOptions:{resultEqualityCheck:Bt}}),mxe=()=>{const e=ee(),{isStaging:t,isMaskEnabled:n,layer:r,tool:o}=V(hxe),s=G1(),{t:i}=Z(),{isClipboardAPIAvailable:l}=xO(),{getUploadButtonProps:c,getUploadInputProps:p}=b2({postUploadAction:{type:"SET_CANVAS_INITIAL_IMAGE"}});Je(["v"],()=>{h()},{enabled:()=>!t,preventDefault:!0},[]),Je(["r"],()=>{g()},{enabled:()=>!0,preventDefault:!0},[s]),Je(["shift+m"],()=>{y()},{enabled:()=>!t,preventDefault:!0},[s]),Je(["shift+s"],()=>{b()},{enabled:()=>!t,preventDefault:!0},[s]),Je(["meta+c","ctrl+c"],()=>{w()},{enabled:()=>!t&&l,preventDefault:!0},[s,l]),Je(["shift+d"],()=>{S()},{enabled:()=>!t,preventDefault:!0},[s]);const h=()=>e(kc("move")),m=Q1e(()=>g(!1),()=>g(!0)),g=(I=!1)=>{const M=G1();if(!M)return;const _=M.getClientRect({skipTransform:!0});e(c$({contentRect:_,shouldScaleTo1:I}))},x=()=>{e(z_())},y=()=>{e(u$())},b=()=>{e(d$())},w=()=>{l&&e(f$())},S=()=>{e(p$())},j=I=>{const M=I;e(P5(M)),M==="mask"&&!n&&e($b(!0))};return a.jsxs(N,{sx:{alignItems:"center",gap:2,flexWrap:"wrap"},children:[a.jsx(_e,{w:24,children:a.jsx(Rn,{tooltip:`${i("unifiedCanvas.layer")} (Q)`,value:r,data:l$,onChange:j,disabled:t})}),a.jsx(txe,{}),a.jsx(dxe,{}),a.jsxs(Gt,{isAttached:!0,children:[a.jsx(ze,{"aria-label":`${i("unifiedCanvas.move")} (V)`,tooltip:`${i("unifiedCanvas.move")} (V)`,icon:a.jsx(fee,{}),isChecked:o==="move"||t,onClick:h}),a.jsx(ze,{"aria-label":`${i("unifiedCanvas.resetView")} (R)`,tooltip:`${i("unifiedCanvas.resetView")} (R)`,icon:a.jsx(gee,{}),onClick:m})]}),a.jsxs(Gt,{isAttached:!0,children:[a.jsx(ze,{"aria-label":`${i("unifiedCanvas.mergeVisible")} (Shift+M)`,tooltip:`${i("unifiedCanvas.mergeVisible")} (Shift+M)`,icon:a.jsx(Mee,{}),onClick:y,isDisabled:t}),a.jsx(ze,{"aria-label":`${i("unifiedCanvas.saveToGallery")} (Shift+S)`,tooltip:`${i("unifiedCanvas.saveToGallery")} (Shift+S)`,icon:a.jsx(Lg,{}),onClick:b,isDisabled:t}),l&&a.jsx(ze,{"aria-label":`${i("unifiedCanvas.copyToClipboard")} (Cmd/Ctrl+C)`,tooltip:`${i("unifiedCanvas.copyToClipboard")} (Cmd/Ctrl+C)`,icon:a.jsx(pu,{}),onClick:w,isDisabled:t}),a.jsx(ze,{"aria-label":`${i("unifiedCanvas.downloadAsImage")} (Shift+D)`,tooltip:`${i("unifiedCanvas.downloadAsImage")} (Shift+D)`,icon:a.jsx($g,{}),onClick:S,isDisabled:t})]}),a.jsxs(Gt,{isAttached:!0,children:[a.jsx(pxe,{}),a.jsx(rxe,{})]}),a.jsxs(Gt,{isAttached:!0,children:[a.jsx(ze,{"aria-label":`${i("common.upload")}`,tooltip:`${i("common.upload")}`,icon:a.jsx(zg,{}),isDisabled:t,...c()}),a.jsx("input",{...p()}),a.jsx(ze,{"aria-label":`${i("unifiedCanvas.clearCanvas")}`,tooltip:`${i("unifiedCanvas.clearCanvas")}`,icon:a.jsx(Vr,{}),onClick:x,colorScheme:"error",isDisabled:t})]}),a.jsx(Gt,{isAttached:!0,children:a.jsx(lxe,{})})]})},gxe=d.memo(mxe),w_={id:"canvas-intial-image",actionType:"SET_CANVAS_INITIAL_IMAGE"},vxe=()=>{const{isOver:e,setNodeRef:t,active:n}=A8({id:"unifiedCanvas",data:w_});return a.jsxs(N,{layerStyle:"first",ref:t,tabIndex:-1,sx:{flexDirection:"column",alignItems:"center",gap:4,p:2,borderRadius:"base",w:"full",h:"full"},children:[a.jsx(gxe,{}),a.jsx(X1e,{}),T8(w_,n)&&a.jsx(N8,{isOver:e,label:"Set Canvas Initial Image"})]})},xxe=d.memo(vxe),bxe=()=>a.jsx(xxe,{}),yxe=d.memo(bxe),Cxe=[{id:"txt2img",translationKey:"common.txt2img",icon:a.jsx($n,{as:Iee,sx:{boxSize:6,pointerEvents:"none"}}),content:a.jsx(B0e,{})},{id:"img2img",translationKey:"common.img2img",icon:a.jsx($n,{as:ml,sx:{boxSize:6,pointerEvents:"none"}}),content:a.jsx(lpe,{})},{id:"unifiedCanvas",translationKey:"common.unifiedCanvas",icon:a.jsx($n,{as:sse,sx:{boxSize:6,pointerEvents:"none"}}),content:a.jsx(yxe,{})},{id:"nodes",translationKey:"common.nodes",icon:a.jsx($n,{as:y2,sx:{boxSize:6,pointerEvents:"none"}}),content:a.jsx(Qge,{})},{id:"modelManager",translationKey:"modelManager.modelManager",icon:a.jsx($n,{as:vee,sx:{boxSize:6,pointerEvents:"none"}}),content:a.jsx(ahe,{})},{id:"queue",translationKey:"queue.queue",icon:a.jsx($n,{as:Bee,sx:{boxSize:6,pointerEvents:"none"}}),content:a.jsx(z0e,{})}],wxe=le([xe],({config:e})=>{const{disabledTabs:t}=e;return Cxe.filter(r=>!t.includes(r.id))},{memoizeOptions:{resultEqualityCheck:Bt}}),Sxe=448,kxe=448,jxe=360,Ixe=["modelManager","queue"],_xe=["modelManager","queue"],Pxe=()=>{const e=V(h$),t=V(tr),n=V(wxe),{t:r}=Z(),o=ee(),s=d.useCallback(O=>{O.target instanceof HTMLElement&&O.target.blur()},[]),i=d.useMemo(()=>n.map(O=>a.jsx(Ht,{hasArrow:!0,label:String(r(O.translationKey)),placement:"end",children:a.jsxs(Lr,{onClick:s,children:[a.jsx(G5,{children:String(r(O.translationKey))}),O.icon]})},O.id)),[n,r,s]),l=d.useMemo(()=>n.map(O=>a.jsx(Mo,{children:O.content},O.id)),[n]),c=d.useCallback(O=>{const T=m$[O];T&&o(ua(T))},[o]),{minSize:p,isCollapsed:h,setIsCollapsed:m,ref:g,reset:x,expand:y,collapse:b,toggle:w}=II(Sxe,"pixels"),{ref:S,minSize:j,isCollapsed:I,setIsCollapsed:M,reset:_,expand:E,collapse:D,toggle:R}=II(jxe,"pixels");Je("f",()=>{I||h?(E(),y()):(b(),D())},[o,I,h]),Je(["t","o"],()=>{w()},[o]),Je("g",()=>{R()},[o]);const A=E2();return a.jsxs(wl,{variant:"appTabs",defaultIndex:e,index:e,onChange:c,sx:{flexGrow:1,gap:4},isLazy:!0,children:[a.jsxs(Sl,{sx:{pt:2,gap:4,flexDir:"column"},children:[i,a.jsx(Oa,{})]}),a.jsxs(o0,{id:"app",autoSaveId:"app",direction:"horizontal",style:{height:"100%",width:"100%"},storage:A,units:"pixels",children:[!_xe.includes(t)&&a.jsxs(a.Fragment,{children:[a.jsx(ui,{order:0,id:"side",ref:g,defaultSize:p,minSize:p,onCollapse:m,collapsible:!0,children:t==="nodes"?a.jsx(tle,{}):a.jsx(Ofe,{})}),a.jsx(Fm,{onDoubleClick:x,collapsedDirection:h?"left":void 0}),a.jsx(sle,{isSidePanelCollapsed:h,sidePanelRef:g})]}),a.jsx(ui,{id:"main",order:1,minSize:kxe,children:a.jsx(uu,{style:{height:"100%",width:"100%"},children:l})}),!Ixe.includes(t)&&a.jsxs(a.Fragment,{children:[a.jsx(Fm,{onDoubleClick:_,collapsedDirection:I?"right":void 0}),a.jsx(ui,{id:"gallery",ref:S,order:2,defaultSize:j,minSize:j,onCollapse:M,collapsible:!0,children:a.jsx(Tse,{})}),a.jsx(rle,{isGalleryCollapsed:I,galleryPanelRef:S})]})]})]})},Exe=d.memo(Pxe),Mxe=d.createContext(null),A1={didCatch:!1,error:null};class Oxe extends d.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=A1}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var n,r,o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];(n=(r=this.props).onReset)===null||n===void 0||n.call(r,{args:s,reason:"imperative-api"}),this.setState(A1)}}componentDidCatch(t,n){var r,o;(r=(o=this.props).onError)===null||r===void 0||r.call(o,t,n)}componentDidUpdate(t,n){const{didCatch:r}=this.state,{resetKeys:o}=this.props;if(r&&n.error!==null&&Dxe(t.resetKeys,o)){var s,i;(s=(i=this.props).onReset)===null||s===void 0||s.call(i,{next:o,prev:t.resetKeys,reason:"keys"}),this.setState(A1)}}render(){const{children:t,fallbackRender:n,FallbackComponent:r,fallback:o}=this.props,{didCatch:s,error:i}=this.state;let l=t;if(s){const c={error:i,resetErrorBoundary:this.resetErrorBoundary};if(d.isValidElement(o))l=o;else if(typeof n=="function")l=n(c);else if(r)l=d.createElement(r,c);else throw i}return d.createElement(Mxe.Provider,{value:{didCatch:s,error:i,resetErrorBoundary:this.resetErrorBoundary}},l)}}function Dxe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((n,r)=>!Object.is(n,t[r]))}const Rxe=e=>{const t=ee(),{recallAllParameters:n}=e0(),r=kl(),{currentData:o}=oo(e??Fr.skipToken),{currentData:s}=g$(e??Fr.skipToken),i=d.useCallback(()=>{o&&(t(q_(o)),t(ua("unifiedCanvas")),r({title:v$("toast.sentToUnifiedCanvas"),status:"info",duration:2500,isClosable:!0}))},[t,r,o]),l=d.useCallback(()=>{o&&t(qm(o))},[t,o]),c=d.useCallback(()=>{s&&n(s.metadata)},[s]);return{handleSendToCanvas:i,handleSendToImg2Img:l,handleUseAllMetadata:c}};function Axe(e={}){let t;if(e.repoUrl)t=e.repoUrl;else if(e.user&&e.repo)t=`https://github.com/${e.user}/${e.repo}`;else throw new Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");const n=new URL(`${t}/issues/new`),r=["body","title","labels","template","milestone","assignee","projects"];for(const o of r){let s=e[o];if(s!==void 0){if(o==="labels"||o==="projects"){if(!Array.isArray(s))throw new TypeError(`The \`${o}\` option should be an array`);s=s.join(",")}n.searchParams.set(o,s)}}return n.toString()}const Txe=({error:e,resetErrorBoundary:t})=>{const n=L5(),r=d.useCallback(()=>{const s=JSON.stringify(x$(e),null,2);navigator.clipboard.writeText(`\`\`\`
${s}
\`\`\``),n({title:"Error Copied"})},[e,n]),o=d.useMemo(()=>Axe({user:"invoke-ai",repo:"InvokeAI",template:"BUG_REPORT.yml",title:`[bug]: ${e.name}: ${e.message}`}),[e.message,e.name]);return a.jsx(N,{layerStyle:"body",sx:{w:"100vw",h:"100vh",alignItems:"center",justifyContent:"center",p:4},children:a.jsxs(N,{layerStyle:"first",sx:{flexDir:"column",borderRadius:"base",justifyContent:"center",gap:8,p:16},children:[a.jsx(dr,{children:"Something went wrong"}),a.jsx(N,{layerStyle:"second",sx:{px:8,py:4,borderRadius:"base",gap:4,justifyContent:"space-between",alignItems:"center"},children:a.jsxs(ge,{sx:{fontWeight:600,color:"error.500",_dark:{color:"error.400"}},children:[e.name,": ",e.message]})}),a.jsxs(N,{sx:{gap:4},children:[a.jsx(it,{leftIcon:a.jsx(Zoe,{}),onClick:t,children:"Reset UI"}),a.jsx(it,{leftIcon:a.jsx(pu,{}),onClick:r,children:"Copy Error"}),a.jsx(lg,{href:o,isExternal:!0,children:a.jsx(it,{leftIcon:a.jsx(Vy,{}),children:"Create Issue"})})]})]})})},Nxe=d.memo(Txe),$xe=le([xe],({hotkeys:e})=>{const{shift:t,ctrl:n,meta:r}=e;return{shift:t,ctrl:n,meta:r}},{memoizeOptions:{resultEqualityCheck:Bt}}),Lxe=()=>{const e=ee(),{shift:t,ctrl:n,meta:r}=V($xe),{queueBack:o,isDisabled:s,isLoading:i}=kO();Je(["ctrl+enter","meta+enter"],o,{enabled:()=>!s&&!i,preventDefault:!0,enableOnFormTags:["input","textarea","select"]},[o,s,i]);const{queueFront:l,isDisabled:c,isLoading:p}=PO();return Je(["ctrl+shift+enter","meta+shift+enter"],l,{enabled:()=>!c&&!p,preventDefault:!0,enableOnFormTags:["input","textarea","select"]},[l,c,p]),Je("*",()=>{bh("shift")?!t&&e(zr(!0)):t&&e(zr(!1)),bh("ctrl")?!n&&e(vS(!0)):n&&e(vS(!1)),bh("meta")?!r&&e(xS(!0)):r&&e(xS(!1))},{keyup:!0,keydown:!0},[t,n,r]),Je("1",()=>{e(ua("txt2img"))}),Je("2",()=>{e(ua("img2img"))}),Je("3",()=>{e(ua("unifiedCanvas"))}),Je("4",()=>{e(ua("nodes"))}),Je("5",()=>{e(ua("modelManager"))}),null},zxe=d.memo(Lxe),Fxe={},Bxe=({config:e=Fxe,selectedImage:t})=>{const n=V(r8),r=K3("system"),o=ee(),{handleSendToCanvas:s,handleSendToImg2Img:i,handleUseAllMetadata:l}=Rxe(t==null?void 0:t.imageName),c=d.useCallback(()=>(localStorage.clear(),location.reload(),!1),[]);d.useEffect(()=>{wt.changeLanguage(n)},[n]),d.useEffect(()=>{i5(e)&&(r.info({config:e},"Received config"),o(b$(e)))},[o,e,r]),d.useEffect(()=>{o(y$())},[o]),d.useEffect(()=>{t&&t.action==="sendToCanvas"&&s()},[t,s]),d.useEffect(()=>{t&&t.action==="sendToImg2Img"&&i()},[t,i]),d.useEffect(()=>{t&&t.action==="useAllParameters"&&l()},[t,l]);const p=Jg(C$);return a.jsxs(Oxe,{onReset:c,FallbackComponent:Nxe,children:[a.jsx(pi,{w:"100vw",h:"100vh",position:"relative",overflow:"hidden",children:a.jsx(FG,{children:a.jsxs(pi,{sx:{gap:4,p:4,gridAutoRows:"min-content auto",w:"full",h:"full"},children:[p||a.jsx(mte,{}),a.jsx(N,{sx:{gap:4,w:"full",h:"full"},children:a.jsx(Exe,{})})]})})}),a.jsx(nee,{}),a.jsx(ZJ,{}),a.jsx(EU,{}),a.jsx(zxe,{})]})},Qxe=d.memo(Bxe);export{Qxe as default};
